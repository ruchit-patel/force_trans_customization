var Re=Object.defineProperty,$e=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var fe=(s,e,t)=>e in s?Re(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,ee=(s,e)=>{for(var t in e||(e={}))Te.call(e,t)&&fe(s,t,e[t]);if(ge)for(var t of ge(e))Le.call(e,t)&&fe(s,t,e[t]);return s},ye=(s,e)=>$e(s,Se(e));import{g as Oe,r as U,i as g,o as r,a as p,n as A,j as V,F as N,f as D,t as P,b as i,k as B,l as Q,u as n,m as L,p as G,q as W,v as Ae,x as K,y as X,h as te,z as ce,A as q,B as le,C as se,d as _,w as $,D as je,E as be,T as Be,G as Ve,H as Ue,I as Z,J as Me,K as ze,L as Y,M as ie,s as ue,N as re,e as H,O as He,c as oe,P as Fe,Q as ve}from"./index-CwXXmyCS.js";const De=["src","alt"],Ne=Oe({__name:"Avatar",props:{image:{},label:{},size:{default:"md"},shape:{default:"circle"}},setup(s){const e=U(!1),t=s,o=g(()=>({circle:"rounded-full",square:{xs:"rounded-[4px]",sm:"rounded-[5px]",md:"rounded-[5px]",lg:"rounded-[6px]",xl:"rounded-[6px]","2xl":"rounded-[8px]","3xl":"rounded-[10px]"}[t.size]})[t.shape]),u=g(()=>({xs:"w-4 h-4",sm:"w-5 h-5",md:"w-6 h-6",lg:"w-7 h-7",xl:"w-8 h-8","2xl":"w-10 h-10","3xl":"w-11.5 h-11.5"})[t.size]),a=g(()=>["font-medium",{xs:"text-2xs",sm:"text-sm",md:"text-base",lg:"text-base",xl:"text-lg","2xl":"text-xl","3xl":"text-2xl"}[t.size]]),x=g(()=>({xs:"-mr-[.1rem] -mb-[.1rem] h-2 w-2",sm:"-mr-[.1rem] -mb-[.1rem] h-[9px] w-[9px]",md:"-mr-[.1rem] -mb-[.1rem] h-2.5 w-2.5",lg:"-mr-[.1rem] -mb-[.1rem] h-3 w-3",xl:"-mr-[.1rem] -mb-[.1rem] h-3 w-3","2xl":"-mr-[.1rem] -mb-[.1rem] h-3.5 w-3.5","3xl":"-mr-[.2rem] -mb-[.2rem] h-4 w-4"})[t.size]),k=g(()=>({xs:"h-1 w-1",sm:"h-[5px] w-[5px]",md:"h-1.5 w-1.5",lg:"h-2 w-2",xl:"h-2 w-2","2xl":"h-2.5 w-2.5","3xl":"h-3 w-3"})[t.size]),y=g(()=>({xs:"h-2.5 w-2.5",sm:"h-3 w-3",md:"h-4 w-4",lg:"h-4 w-4",xl:"h-4 w-4","2xl":"h-5 w-5","3xl":"h-5 w-5"})[t.size]);function S(l){l.type&&(e.value=!0)}return(l,c)=>(r(),p("div",{class:A(["relative inline-block shrink-0",[u.value,o.value]])},[l.image&&!e.value?(r(),p("img",{key:0,src:l.image,alt:l.label,class:A([o.value,"h-full w-full object-cover"]),onError:c[0]||(c[0]=v=>S(v))},null,42,De)):(r(),p("div",{key:1,class:A(["flex h-full w-full items-center justify-center bg-surface-gray-2 uppercase text-ink-gray-5 select-none",[a.value,o.value]])},[l.$slots.default?(r(),p("div",{key:0,class:A(y.value)},[V(l.$slots,"default")],2)):(r(),p(N,{key:1},[D(P(l.label&&l.label[0]),1)],64))],2)),l.$slots.indicator?(r(),p("div",{key:2,class:A(["absolute bottom-0 right-0 grid place-items-center rounded-full bg-surface-white",x.value])},[i("div",{class:A(k.value)},[V(l.$slots,"indicator")],2)],2)):B("",!0)],2))}}),Ee={class:"flex h-full w-full flex-col items-center justify-center text-base"},We={class:"text-xl font-medium"},Qe={class:"mt-1 text-base text-ink-gray-5"},Ke={__name:"ListEmptyState",setup(s){const e=Q("list");return(t,o)=>(r(),p("div",Ee,[V(t.$slots,"default",{},()=>[i("div",We,P(n(e).options.emptyState.title),1),i("div",Qe,P(n(e).options.emptyState.description),1),n(e).options.emptyState.button?(r(),L(n(W),G({key:0},n(e).options.emptyState.button,{class:"mt-4"}),null,16)):B("",!0)])]))}};function we(s,e=!0){let t=e?"14px ":"",o=s.map(u=>{let a=u.width||1;return typeof a=="number"?a+"fr":a}).join(" ");return t+o}const me={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},qe={class:"truncate"},he={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(s,{emit:e}){const t=s,o=e,u=U(null),a=U(null),x=g(()=>{if(typeof t.item.width=="string"){const l=parseInt(t.item.width);if(t.item.width.includes("rem"))return l*16;if(t.item.width.includes("px"))return l}return a.value.offsetWidth}),k=l=>{const c=l.clientX,v=x.value,T=I=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),u.value.style.backgroundColor="rgb(199 199 199)";let R=v+(I.clientX-c);t.item.width=`${R<50?50:R}px`,y(t.item.width)},d=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),u.value.style.backgroundColor="",window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",d)};window.addEventListener("mousemove",T),window.addEventListener("mouseup",d)},y=Ae(l=>{t.item.width=l,o("columnWidthUpdated")},t.debounce),S=Q("list");return(l,c)=>(r(),p("div",{ref_key:"columnRef",ref:a,class:A(["group relative flex items-center",s.item.align?n(me)[s.item.align]:"justify-between"])},[i("div",{class:A(["flex items-center space-x-2 truncate text-sm text-ink-gray-5",l.$attrs.class])},[V(l.$slots,"prefix",K(X({item:s.item}))),V(l.$slots,"default",{},()=>[i("div",qe,P(s.item.label),1)]),V(l.$slots,"suffix",K(X({item:s.item})))],2),n(S).options.resizeColumn?V(l.$slots,"resizer",K(G({key:0},{item:s.item})),()=>[i("div",{class:"flex h-4 absolute -right-2 w-2 cursor-col-resize justify-center",onMousedown:k},[i("div",{ref_key:"resizer",ref:u,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):B("",!0)],2))}},xe={__name:"ListHeader",emits:["columnWidthUpdated"],setup(s,{emit:e}){const t=e,o=Q("list");return(u,a)=>(r(),p("div",{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2",style:le({gridTemplateColumns:n(we)(n(o).columns,n(o).options.selectable)})},[n(o).options.selectable?(r(),L(ce,{key:0,class:"cursor-pointer duration-300",modelValue:n(o).allRowsSelected,onClick:te(n(o).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):B("",!0),V(u.$slots,"default",{},()=>[(r(!0),p(N,null,q(n(o).columns,x=>(r(),L(he,{key:x.key,item:x,onColumnWidthUpdated:k=>t("columnWidthUpdated",x)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}},Ge={class:"truncate text-base"},_e={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(s){const e=s,t=g(()=>{var x,k;return(x=e.column)!=null&&x.getLabel?(k=e.column)==null?void 0:k.getLabel({row:e.row}):u(e.item).label||""}),o=g(()=>a.value.options.showTooltip?e.column.getTooltip?e.column.getTooltip(e.row):u(e.item).label:"");function u(x){return x&&typeof x=="object"?x:{label:x}}const a=Q("list");return(x,k)=>(r(),p("div",{class:A(["flex items-center space-x-2",n(me)[s.align]])},[V(x.$slots,"prefix",{},()=>[s.column.prefix?(r(),L(se(typeof s.column.prefix=="function"?s.column.prefix({row:s.row}):s.column.prefix),{key:0})):B("",!0)]),_(n(je),K(X(n(a).options.showTooltip?{text:o.value}:{text:""})),{default:$(()=>[V(x.$slots,"default",K(X({label:t.value})),()=>[i("div",Ge,P(t.value),1)])]),_:3},16),V(x.$slots,"suffix")],2))}},pe={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(s){const e=s,t=Q("list"),o=g(()=>{var l;return(l=t.value.rows)!=null&&l.length?t.value.rows[t.value.rows.length-1][t.value.rowKey]===e.row[t.value.rowKey]:!1}),u=g(()=>t.value.selections.has(e.row[t.value.rowKey])),a=g(()=>t.value.options.enableActive&&t.value.activeRow.value===e.row.name),x=g(()=>t.value.options.getRowRoute||t.value.options.onRowClick),k=g(()=>typeof t.value.options.rowHeight=="number"?`${t.value.options.rowHeight}px`:t.value.options.rowHeight),y=g(()=>{var v,T,d;if(!u.value)return"rounded";const l=[...t.value.selections];let c=(v=t.value.rows[0])!=null&&v.group?t.value.rows.map(I=>I.rows):[t.value.rows];for(let I of c){let R=I.findIndex(h=>h==e.row);if(R===-1)continue;let w=!l.includes((T=I[R+1])==null?void 0:T.name),f=!l.includes((d=I[R-1])==null?void 0:d.name);return(w?"rounded-b ":"")+(f?"rounded-t":"")}}),S=(l,c)=>{t.value.options.onRowClick&&t.value.options.onRowClick(l,c),t.value.activeRow.value===l.name?t.value.activeRow.value=null:t.value.activeRow.value=l.name};return(l,c)=>(r(),L(se(n(t).options.getRowRoute?"router-link":"div"),G({class:[[y.value,u.value||a.value?"bg-surface-gray-2":"",x.value?"cursor-pointer":"",x.value?u.value||a.value?"hover:bg-surface-gray-3":"hover:bg-surface-menu-bar":""],"flex flex-col transition-all duration-300 ease-in-out"]},{to:n(t).options.getRowRoute?n(t).options.getRowRoute(s.row):void 0,onClick:v=>S(s.row,v)}),{default:$(()=>[(r(),L(se(n(t).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:$(()=>{var v,T;return[i("div",{class:"grid items-center space-x-4 px-2",style:le({height:k.value,gridTemplateColumns:n(we)(n(t).columns,n(t).options.selectable)})},[n(t).options.selectable?(r(),p("div",{key:0,class:"w-fit pr-2 py-3 flex",onClick:c[1]||(c[1]=te(()=>{},["stop","prevent"])),onDblclick:c[2]||(c[2]=te(()=>{},["stop"]))},[_(ce,{modelValue:u.value,class:"cursor-pointer duration-300",onClick:c[0]||(c[0]=te(d=>n(t).toggleRow(s.row[n(t).rowKey]),["stop"]))},null,8,["modelValue"])],32)):B("",!0),(r(!0),p(N,null,q(n(t).columns,(d,I)=>(r(),p("div",{key:d.key,class:A([n(me)[d.align],I==0?"text-ink-gray-9":"text-ink-gray-7"])},[V(l.$slots,"default",G({ref_for:!0},{idx:I,column:d,item:s.row[d.key],isActive:a.value}),()=>[n(t).slots.cell?(r(),L(se(n(t).slots.cell),G({key:0,ref_for:!0},{column:d,row:s.row,item:s.row[d.key],align:d.align}),null,16)):(r(),L(_e,{key:1,column:d,row:s.row,item:s.row[d.key],align:d.align},null,8,["column","row","item","align"]))])],2))),128))],4),o.value?B("",!0):(r(),p("div",{key:0,class:A(["h-px border-t",y.value==="rounded"||(T=(v=y.value)==null?void 0:v.includes)!=null&&T.call(v,"rounded-b")?"mx-2 border-outline-gray-1":"border-t-[--surface-gray-2]"])},null,2))]}),_:3}))]),_:3},16,["class"]))}},Xe={class:"h-full overflow-y-auto"},ke={__name:"ListRows",setup(s){const e=Q("list");return(t,o)=>(r(),p("div",Xe,[V(t.$slots,"default",{},()=>[(r(!0),p(N,null,q(n(e).rows,u=>(r(),L(pe,{key:u[n(e).rowKey],row:u},null,8,["row"]))),128))])]))}},Ze={},Je={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"};function Ye(s,e){return r(),p("svg",Je,e[0]||(e[0]=[i("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1)]))}const et=be(Ze,[["render",Ye]]),tt={class:"flex items-center"},st={class:"w-full py-1.5 pr-2"},ot={key:1,class:"text-base font-medium leading-6"},lt={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(s){const e=s,t=Q("list");function o(){e.group.collapsed==null&&(e.group.collapsed=!1),e.group.collapsed=!e.group.collapsed}return(u,a)=>(r(),p(N,null,[i("div",tt,[i("button",{onClick:o,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-surface-gray-2"},[_(et,{class:A(["h-4 w-4 text-ink-gray-6 transition-transform duration-200",[s.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),V(u.$slots,"default",{},()=>[i("div",st,[n(t).slots["group-header"]?(r(),L(se(n(t).slots["group-header"]),K(G({key:0},{group:s.group})),null,16)):(r(),p("span",ot,P(s.group.group),1))])])]),a[0]||(a[0]=i("div",{class:"mx-2 h-px border-t border-outline-gray-modals"},null,-1))],64))}},rt={key:0,class:"mb-5 mt-2"},at={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(s){const e=Q("list");return(t,o)=>s.group.collapsed?B("",!0):(r(),p("div",rt,[V(t.$slots,"default",{},()=>[(r(!0),p(N,null,q(s.group.rows,u=>(r(),L(pe,{key:u[n(e).rowKey],row:u},null,8,["row"]))),128))])]))}},nt={class:"h-full overflow-y-auto"},it={__name:"ListGroups",setup(s){const e=Q("list");return(t,o)=>(r(),p("div",nt,[(r(!0),p(N,null,q(n(e).rows,u=>(r(),p("div",{key:u.group},[V(t.$slots,"default",{},()=>[_(lt,{group:u},{default:$(()=>[t.$slots["group-header"]?V(t.$slots,"group-header",G({key:0,ref_for:!0},{group:u})):B("",!0)]),_:2},1032,["group"]),_(at,{group:u},null,8,["group"])])]))),128))]))}},ut={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},dt={class:"flex flex-1 justify-between border-r border-outline-gray-2 text-ink-gray-9"},ct={class:"flex items-center space-x-3"},mt={class:"mr-3"},pt={class:"flex items-center space-x-1"},Ce=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(s){const e=Q("list");let t=g(()=>e.value.options.selectionText(e.value.selections.size));return(o,u)=>(r(),L(Be,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:$(()=>[n(e).selections.size?(r(),p("div",ut,[i("div",{class:A(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-surface-white px-4 py-2 shadow-2xl",o.$attrs.class])},[V(o.$slots,"default",K(X({selections:n(e).selections,allRowsSelected:n(e).allRowsSelected,selectAll:()=>n(e).toggleAllRows(!0),unselectAll:()=>n(e).toggleAllRows(!1)})),()=>[i("div",dt,[i("div",ct,[_(ce,{modelValue:!0,disabled:!0,class:"text-ink-gray-9"}),i("div",null,P(n(t)),1)]),i("div",mt,[V(o.$slots,"actions",K(X({selections:n(e).selections,allRowsSelected:n(e).allRowsSelected,selectAll:()=>n(e).toggleAllRows(!0),unselectAll:()=>n(e).toggleAllRows(!1)})))])]),i("div",pt,[_(n(W),{class:A(["w- text-ink-gray-7",n(e).allRowsSelected?"cursor-not-allowed":""]),disabled:n(e).allRowsSelected,variant:"ghost",onClick:u[0]||(u[0]=a=>n(e).toggleAllRows(!0))},{default:$(()=>u[2]||(u[2]=[D(" Select all ")])),_:1,__:[2]},8,["disabled","class"]),_(n(W),{icon:"x",variant:"ghost",onClick:u[1]||(u[1]=a=>n(e).toggleAllRows(!1))})])])],2)])):B("",!0)]),_:3}))}}),gt={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},ft=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections","update:active-row"],setup(s,{expose:e,emit:t}){const o=s,u=Ve();let a=Ue(new Set),x=U(null);const k=t;Z(a,d=>{a.size&&(x.value=null),k("update:selections",d)}),Z(x,d=>{k("update:active-row",d)});let y=g(()=>{function d(R){return R===void 0?!0:R}function I(R){return R===void 0?!1:R}return{getRowRoute:o.options.getRowRoute||null,onRowClick:o.options.onRowClick||null,showTooltip:d(o.options.showTooltip),selectionText:o.options.selectionText||(R=>R===1?"1 row selected":`${R} rows selected`),enableActive:I(o.options.enableActive),selectable:d(o.options.selectable),resizeColumn:I(o.options.resizeColumn),rowHeight:o.options.rowHeight||40,emptyState:o.options.emptyState}});const S=g(()=>o.rows.length?c.value?a.size===o.rows.reduce((d,I)=>d+I.rows.length,0):a.size===o.rows.length:!1),l=g(()=>y.value.selectable);let c=g(()=>o.rows.every(d=>d.group&&d.rows&&Array.isArray(d.rows)));function v(d){a.delete(d)||a.add(d)}function T(d){if(!d||S.value){a.clear();return}if(c.value){o.rows.forEach(I=>{I.rows.forEach(R=>a.add(R[o.rowKey]))});return}o.rows.forEach(I=>a.add(I[o.rowKey]))}return Me("list",g(()=>({rowKey:o.rowKey,rows:o.rows,columns:o.columns,options:y.value,selections:a,activeRow:x,allRowsSelected:S.value,slots:u,toggleRow:v,toggleAllRows:T}))),e({selections:a,allRowsSelected:S,toggleRow:v,toggleAllRows:T}),(d,I)=>(r(),p("div",gt,[i("div",{class:A(["flex w-max min-w-full flex-col overflow-y-hidden",d.$attrs.class]),style:le(d.$attrs.style)},[V(d.$slots,"default",K(X({showGroupedRows:n(c),selectable:l.value})),()=>[_(xe),o.rows.length?(r(),p(N,{key:0},[n(c)?(r(),L(it,{key:0})):(r(),L(ke,{key:1}))],64)):(r(),L(Ke,{key:1})),l.value?(r(),L(Ce,{key:2})):B("",!0)])],6)]))}}),yt={class:"bg-white p-6 rounded-lg shadow-sm border mb-6"},vt={class:"flex flex-col sm:flex-row gap-4"},bt={class:"flex-1"},wt={class:"flex gap-2 flex-wrap"},ht={__name:"IssueFilters",props:{searchQuery:{type:String,default:""},filters:{type:Object,default:()=>({status:"",priority:"",assignee:"",tags:"",sortBy:"creation"})},statusOptions:{type:Array,default:()=>[]},priorityOptions:{type:Array,default:()=>[]},assigneeOptions:{type:Array,default:()=>[]},tagsOptions:{type:Array,default:()=>[]}},emits:["update:searchQuery","update:filters"],setup(s,{emit:e}){const t=s,o=e,u=U(t.searchQuery),a=U(ee({},t.filters)),x=g(()=>[{label:"Created Date (Newest)",value:"creation desc"},{label:"Created Date (Oldest)",value:"creation asc"},{label:"Modified Date (Newest)",value:"modified desc"},{label:"Modified Date (Oldest)",value:"modified asc"},{label:"Subject (A-Z)",value:"subject asc"},{label:"Subject (Z-A)",value:"subject desc"},{label:"Priority",value:"priority asc"},{label:"Status",value:"status asc"}]);Z(()=>t.searchQuery,S=>{u.value=S}),Z(()=>t.filters,S=>{a.value=ee({},S)},{deep:!0});const k=()=>{o("update:searchQuery",u.value)},y=()=>{o("update:filters",ee({},a.value))};return(S,l)=>(r(),p("div",yt,[i("div",vt,[i("div",bt,[_(n(ze),{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=c=>u.value=c),placeholder:"Search",class:"w-full",onInput:k},null,8,["modelValue"])]),i("div",wt,[_(n(Y),{modelValue:a.value.status,"onUpdate:modelValue":l[1]||(l[1]=c=>a.value.status=c),options:s.statusOptions,placeholder:"All Status",onChange:y},null,8,["modelValue","options"]),_(n(Y),{modelValue:a.value.priority,"onUpdate:modelValue":l[2]||(l[2]=c=>a.value.priority=c),options:s.priorityOptions,placeholder:"All Priority",onChange:y},null,8,["modelValue","options"]),_(n(Y),{modelValue:a.value.assignee,"onUpdate:modelValue":l[3]||(l[3]=c=>a.value.assignee=c),options:s.assigneeOptions,placeholder:"All Assignees",onChange:y},null,8,["modelValue","options"]),_(n(Y),{modelValue:a.value.tags,"onUpdate:modelValue":l[4]||(l[4]=c=>a.value.tags=c),options:s.tagsOptions,placeholder:"All Tags",onChange:y},null,8,["modelValue","options"]),_(n(Y),{modelValue:a.value.sortBy,"onUpdate:modelValue":l[5]||(l[5]=c=>a.value.sortBy=c),options:x.value,placeholder:"Sort By",onChange:y},null,8,["modelValue","options"]),_(n(W),{theme:"blue",variant:"solid",size:"sm"},{default:$(()=>l[6]||(l[6]=[D(" New Issue ")])),_:1,__:[6]})])])]))}},xt={class:"bg-white rounded-lg shadow-sm border mt-4"},_t={class:"px-6 py-4 flex items-center justify-between"},kt={class:"text-sm text-gray-700"},Ct={key:0},Pt={key:1},It={key:0,class:"flex items-center space-x-2"},Rt={class:"flex items-center space-x-1"},$t={key:1,class:"px-2 text-gray-500"},St={key:2,class:"px-2 text-gray-500"},Tt={key:1,class:"flex items-center space-x-2"},Lt={__name:"IssuePagination",props:{currentPage:{type:Number,default:1},totalItems:{type:Number,default:0},itemsPerPage:{type:Number,default:10},showItemsPerPage:{type:Boolean,default:!0},maxVisiblePages:{type:Number,default:5}},emits:["update:currentPage","update:itemsPerPage","pageChange"],setup(s,{emit:e}){const t=s,o=e,u=U(t.itemsPerPage);Z(()=>t.itemsPerPage,f=>{u.value=f});const a=g(()=>Math.ceil(t.totalItems/t.itemsPerPage)),x=g(()=>t.totalItems===0?0:(t.currentPage-1)*t.itemsPerPage+1),k=g(()=>{const f=t.currentPage*t.itemsPerPage;return Math.min(f,t.totalItems)}),y=g(()=>{const f=[],h=t.maxVisiblePages,O=t.currentPage,F=a.value;if(F<=h)for(let j=1;j<=F;j++)f.push(j);else{let j=Math.max(1,O-Math.floor(h/2)),C=Math.min(F,j+h-1);C-j+1<h&&(j=Math.max(1,C-h+1)),j>1&&(j=Math.max(2,j)),C<F&&(C=Math.min(F-1,C));for(let M=j;M<=C;M++)f.push(M)}return f}),S=g(()=>a.value>t.maxVisiblePages&&!y.value.includes(1)),l=g(()=>a.value>t.maxVisiblePages&&!y.value.includes(a.value)),c=g(()=>S.value&&y.value.length>0&&y.value[0]>2),v=g(()=>l.value&&y.value.length>0&&y.value[y.value.length-1]<a.value-1),T=g(()=>[{label:"5",value:5},{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}]),d=f=>{f>=1&&f<=a.value&&f!==t.currentPage&&(o("update:currentPage",f),o("pageChange",{page:f,itemsPerPage:t.itemsPerPage,offset:(f-1)*t.itemsPerPage}))},I=()=>{t.currentPage>1&&d(t.currentPage-1)},R=()=>{t.currentPage<a.value&&d(t.currentPage+1)},w=()=>{const f=u.value;o("update:itemsPerPage",f);const h=(t.currentPage-1)*t.itemsPerPage+1,O=Math.ceil(h/f);o("pageChange",{page:O,itemsPerPage:f,offset:(O-1)*f})};return(f,h)=>(r(),p("div",xt,[i("div",_t,[i("div",kt,[s.totalItems>0?(r(),p("span",Ct," Showing "+P(x.value)+" to "+P(k.value)+" of "+P(s.totalItems)+" results ",1)):(r(),p("span",Pt," No results found "))]),a.value>1?(r(),p("div",It,[_(n(W),{theme:"gray",variant:"outline",size:"sm",disabled:s.currentPage===1,onClick:I},{prefix:$(()=>[_(n(ie),{name:"chevron-left",class:"h-4 w-4"})]),default:$(()=>[h[3]||(h[3]=D(" Previous "))]),_:1,__:[3]},8,["disabled"]),i("div",Rt,[S.value?(r(),L(n(W),{key:0,theme:"gray",variant:"outline",size:"sm",class:A({"bg-blue-50 text-blue-600 border-blue-200":s.currentPage===1}),onClick:h[0]||(h[0]=O=>d(1))},{default:$(()=>h[4]||(h[4]=[D(" 1 ")])),_:1,__:[4]},8,["class"])):B("",!0),c.value?(r(),p("span",$t,"...")):B("",!0),(r(!0),p(N,null,q(y.value,O=>(r(),L(n(W),{key:O,theme:"gray",variant:"outline",size:"sm",class:A({"bg-blue-50 text-blue-600 border-blue-200":s.currentPage===O}),onClick:F=>d(O)},{default:$(()=>[D(P(O),1)]),_:2},1032,["class","onClick"]))),128)),v.value?(r(),p("span",St,"...")):B("",!0),l.value?(r(),L(n(W),{key:3,theme:"gray",variant:"outline",size:"sm",class:A({"bg-blue-50 text-blue-600 border-blue-200":s.currentPage===a.value}),onClick:h[1]||(h[1]=O=>d(a.value))},{default:$(()=>[D(P(a.value),1)]),_:1},8,["class"])):B("",!0)]),_(n(W),{theme:"gray",variant:"outline",size:"sm",disabled:s.currentPage===a.value,onClick:R},{suffix:$(()=>[_(n(ie),{name:"chevron-right",class:"h-4 w-4"})]),default:$(()=>[h[5]||(h[5]=D(" Next "))]),_:1,__:[5]},8,["disabled"])])):B("",!0),s.showItemsPerPage?(r(),p("div",Tt,[h[6]||(h[6]=i("span",{class:"text-sm text-gray-700"},"Items per page:",-1)),_(n(Y),{modelValue:u.value,"onUpdate:modelValue":h[2]||(h[2]=O=>u.value=O),options:T.value,onChange:w,class:"w-20"},null,8,["modelValue","options"])])):B("",!0)])]))}},Ot={class:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8"},At={class:"bg-white p-6 rounded-lg shadow-sm border"},jt={class:"text-3xl font-bold text-gray-900"},Bt={class:"bg-white p-6 rounded-lg shadow-sm border"},Vt={class:"text-3xl font-bold text-blue-600"},Ut={class:"bg-white p-6 rounded-lg shadow-sm border"},Mt={class:"text-3xl font-bold text-green-600"},zt={class:"bg-white p-6 rounded-lg shadow-sm border"},Ht={class:"text-3xl font-bold text-orange-600"},Ft={class:"bg-white p-6 rounded-lg shadow-sm border"},Dt={class:"text-3xl font-bold text-purple-600"},Nt={__name:"IssueStats",props:{issues:{type:Array,default:()=>[]}},setup(s){const e=s,t=g(()=>e.issues.length),o=g(()=>e.issues.filter(k=>k.status==="Open").length),u=g(()=>e.issues.filter(k=>k.raised_by===ue.user).length),a=g(()=>e.issues.filter(k=>["Open","Replied"].includes(k.status)).length),x=g(()=>e.issues.filter(k=>k.status==="Replied").length);return(k,y)=>(r(),p("div",Ot,[i("div",At,[i("div",jt,P(t.value),1),y[0]||(y[0]=i("div",{class:"text-sm text-gray-600 mt-1"},"Team Tickets",-1))]),i("div",Bt,[i("div",Vt,P(o.value),1),y[1]||(y[1]=i("div",{class:"text-sm text-gray-600 mt-1"},"Open Tickets",-1))]),i("div",Ut,[i("div",Mt,P(u.value),1),y[2]||(y[2]=i("div",{class:"text-sm text-gray-600 mt-1"},"Assigned To Me",-1))]),i("div",zt,[i("div",Ht,P(a.value),1),y[3]||(y[3]=i("div",{class:"text-sm text-gray-600 mt-1"},"Actionable",-1))]),i("div",Ft,[i("div",Dt,P(x.value),1),y[4]||(y[4]=i("div",{class:"text-sm text-gray-600 mt-1"},"Response",-1))])]))}},Et={props:["status"],template:`
    <Badge :label="displayStatus" :theme="statusTheme" variant="subtle" />
  `,computed:{displayStatus(){return this.status||"New"},statusTheme(){const s=this.status||"New";return{New:"blue","In Review":"orange","Waiting on Customer":"yellow",Confirmed:"purple","In Transit":"blue","In Transit Unmanaged":"gray",Delivered:"green",Closed:"green",Open:"red",Replied:"orange","On Hold":"yellow",Resolved:"green"}[s]||"gray"}},components:{Badge:re}},Wt={props:["priority"],template:`
    <div class="flex items-center gap-2">
      <div :class="priorityIndicatorClass" class="w-2 h-2 rounded-full"></div>
      <Badge :label="displayPriority" :theme="priorityTheme" variant="subtle" />
    </div>
  `,computed:{displayPriority(){return this.priority||"Medium"},priorityTheme(){const s=this.priority||"Medium";return{Critical:"red",High:"red",Medium:"yellow",Low:"green"}[s]||"yellow"},priorityIndicatorClass(){const s=this.priority||"Medium";return{"bg-red-500":s==="Critical","bg-red-400":s==="High","bg-yellow-400":s==="Medium","bg-green-400":s==="Low"}}},components:{Badge:re}},Qt={props:["issueType"],template:`
    <div v-if="issueType" class="flex items-center">
      <Badge :label="issueType" :theme="issueTypeTheme" variant="subtle" />
    </div>
    <span v-else class="text-gray-400 text-sm">-</span>
  `,computed:{issueTypeTheme(){const s=this.issueType;if(!s)return"gray";const e={Bug:"red",Feature:"blue",Enhancement:"green",Task:"purple",Support:"orange",Question:"yellow",Documentation:"gray"};for(const[t,o]of Object.entries(e))if(s.toLowerCase().includes(t.toLowerCase()))return o;return"gray"}},components:{Badge:re}},Kt={components:{ListView:ft,Avatar:Ne,Badge:re,Button:W,FeatherIcon:ie,ListHeader:xe,ListHeaderItem:he,ListRow:pe,ListRowItem:_e,ListRows:ke,ListSelectBanner:Ce,StatusBadge:Et,PriorityBadge:Wt,IssueTypeBadge:Qt},props:{issues:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},sortField:{type:String,default:"creation"},sortDirection:{type:String,default:"desc"}},emits:["sort"],setup(s,{emit:e}){const t=U(!1),o=U(null),u=U({x:0,y:0}),a=m=>{if(!m||typeof m!="string")return"?";if(m.includes("@")){const b=m.split("@")[0];return b.includes(".")||b.includes("_")?b.split(/[._]/).map(Ie=>Ie[0]).join("").toUpperCase().slice(0,2):b.slice(0,2).toUpperCase()}return m.includes(" ")?m.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2):m.slice(0,2).toUpperCase()},x=m=>{if(!m)return"";const b=m.match(/ISS-(\d{4}-\d+)/);return b?b[1]:m},k=m=>{if(!m)return"";const b=document.createElement("div");return b.innerHTML=m,b.textContent||b.innerText||""},y=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",S=m=>m?new Date(m).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",l=m=>({New:"blue","In Review":"orange","Waiting on Customer":"yellow",Confirmed:"purple","In Transit":"blue","In Transit Unmanaged":"gray",Delivered:"green",Closed:"green",Open:"red",Replied:"orange","On Hold":"yellow",Resolved:"green"})[m]||"gray",c=m=>({Critical:"red",High:"red",Medium:"yellow",Low:"green"})[m]||"yellow",v=g(()=>s.issues.map(m=>ye(ee({},m),{status:{label:m.status||"New",color:l(m.status)},priority:{label:m.priority||"Medium",color:c(m.priority)}}))),T=g(()=>[{label:"Issue ID",key:"name",width:"110px",sortable:!0},{label:"Title",key:"subject",width:4,sortable:!0},{label:"Status",key:"status",width:"160px",sortable:!0},{label:"Priority",key:"priority",width:"130px",sortable:!0},{label:"Assignee",key:"raised_by",width:"150px",sortable:!0},{label:"Assigned Users",key:"custom_users_assigned",width:"180px",sortable:!1},{label:"Project",key:"project",width:"120px",sortable:!0},{label:"Tags",key:"issue_type",width:"100px",sortable:!1},{label:"Created At",key:"creation",width:"120px",sortable:!0}]),d=g(()=>({showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:60,emptyState:{title:"No issues found",description:"Try adjusting your search or filter criteria"},onRowClick:m=>{console.log("Row clicked:",m)}}));return{columns:T,listOptions:d,transformedIssues:v,handleSelections:m=>{console.log("Selected rows:",m)},handleIssueClick:m=>{console.log("Issue clicked:",m)},getStatusColor:m=>{const b=m||"New";return{"bg-blue-500":b==="New","bg-orange-500":b==="In Review","bg-yellow-500":b==="Waiting on Customer","bg-purple-500":b==="Confirmed","bg-blue-500":b==="In Transit","bg-gray-500":b==="In Transit Unmanaged","bg-green-500":b==="Delivered","bg-green-500":b==="Closed","bg-red-500":b==="Open","bg-orange-500":b==="Replied","bg-yellow-500":b==="On Hold","bg-green-500":b==="Resolved"}},getPriorityColor:m=>{const b=m||"Medium";return{"bg-red-500":b==="Critical"||b==="High","bg-yellow-500":b==="Medium","bg-green-500":b==="Low"}},getStatusBadgeClass:m=>({New:"bg-blue-100 text-blue-800","In Review":"bg-orange-100 text-orange-800","Waiting on Customer":"bg-yellow-100 text-yellow-800",Confirmed:"bg-purple-100 text-purple-800","In Transit":"bg-blue-100 text-blue-800","In Transit Unmanaged":"bg-gray-100 text-gray-800",Delivered:"bg-green-100 text-green-800",Closed:"bg-green-100 text-green-800",Open:"bg-red-100 text-red-800",Replied:"bg-orange-100 text-orange-800","On Hold":"bg-yellow-100 text-yellow-800",Resolved:"bg-green-100 text-green-800"})[m||"New"]||"bg-gray-100 text-gray-800",getPriorityBadgeClass:m=>({Critical:"bg-red-100 text-red-800",High:"bg-red-100 text-red-800",Medium:"bg-yellow-100 text-yellow-800",Low:"bg-green-100 text-green-800"})[m||"Medium"]||"bg-yellow-100 text-yellow-800",getPriorityIndicatorClass:m=>{const b=m||"Medium";return{"bg-red-500":b==="Critical","bg-red-400":b==="High","bg-yellow-400":b==="Medium","bg-green-400":b==="Low"}},getInitials:a,formatIssueId:x,stripHtml:k,formatDate:y,formatTime:S,showPopup:t,popupUser:o,popupPosition:u,showUserPopup:(m,b)=>{const J=m.target.getBoundingClientRect();u.value={x:J.left+J.width/2,y:J.top-10},o.value=b,t.value=!0},hideUserPopup:()=>{t.value=!1,o.value=null},handleColumnSort:m=>{let b="asc";s.sortField===m&&(b=s.sortDirection==="asc"?"desc":"asc"),e("sort",{field:m,direction:b})},getSortIcon:m=>s.sortField!==m?"arrow-up-down":s.sortDirection==="asc"?"arrow-up":"arrow-down",getSortIconClass:m=>s.sortField!==m?"text-gray-400":"text-blue-600",getSortButtonClass:m=>s.sortField===m?"bg-blue-50":""}}},qt={class:"bg-white rounded-lg shadow-sm border"},Gt={key:0,class:"px-6 py-12 text-center text-gray-500"},Xt=["onClick"],Zt=["onClick"],Jt={key:1,class:"max-w-xs"},Yt=["title"],es=["title"],ts=["title"],ss={key:3,class:"flex flex-wrap gap-1"},os=["onMouseenter"],ls={key:1,class:"text-gray-400 text-sm"},rs={key:4},as={key:6,class:"flex flex-col"},ns={class:"text-xs text-gray-400"},is={key:8,class:"flex items-center gap-2"},us={key:9},ds={class:"flex gap-2"},cs={class:"text-sm"},ms={class:"font-semibold text-gray-900 mb-1"},ps={class:"text-gray-600 flex items-center gap-1"},gs={class:"text-xs text-gray-500 mt-1"};function fs(s,e,t,o,u,a){const x=H("FeatherIcon"),k=H("ListHeaderItem"),y=H("ListHeader"),S=H("Avatar"),l=H("IssueTypeBadge"),c=H("ListRowItem"),v=H("ListRow"),T=H("ListRows"),d=H("Button"),I=H("ListSelectBanner"),R=H("ListView");return r(),p("div",qt,[e[3]||(e[3]=i("div",{class:"px-6 py-4 border-b border-gray-200"},[i("h3",{class:"text-lg font-medium text-gray-900"},"Issues")],-1)),t.loading?(r(),p("div",Gt,e[1]||(e[1]=[i("div",{class:"flex items-center justify-center"},[i("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i("span",{class:"ml-2"},"Loading issues...")],-1)]))):(r(),L(R,{key:1,columns:o.columns,rows:o.transformedIssues,"row-key":"name",options:o.listOptions,"onUpdate:selections":o.handleSelections},{default:$(()=>[_(y,null,{default:$(()=>[(r(!0),p(N,null,q(o.columns,w=>(r(),L(k,{key:w.key,item:w},He({_:2},[w.icon?{name:"prefix",fn:$(({item:f})=>[_(x,{name:f.icon,class:"h-4 w-4"},null,8,["name"])]),key:"0"}:void 0,w.sortable?{name:"suffix",fn:$(()=>[i("button",{onClick:f=>o.handleColumnSort(w.key),class:A(["ml-2 p-1 rounded hover:bg-gray-100 transition-colors",o.getSortButtonClass(w.key)])},[_(x,{name:o.getSortIcon(w.key),class:A(["h-3 w-3",o.getSortIconClass(w.key)])},null,8,["name","class"])],10,Xt)]),key:"1"}:void 0]),1032,["item"]))),128))]),_:1}),_(T,null,{default:$(()=>[(r(!0),p(N,null,q(o.transformedIssues,w=>(r(),L(v,{key:w.name,row:w},{default:$(({column:f,item:h})=>[_(c,{item:h,align:f.align},{prefix:$(()=>[f.key==="raised_by"?(r(),L(S,{key:0,size:"sm",label:o.getInitials(w.raised_by),class:"mr-3"},null,8,["label"])):B("",!0)]),default:$(()=>{var O,F,j,C,M;return[f.key==="name"?(r(),p("a",{key:0,href:"#",class:"text-blue-600 hover:text-blue-800 hover:underline font-medium",onClick:te(E=>o.handleIssueClick(w),["prevent"])},P(o.formatIssueId(h)),9,Zt)):f.key==="subject"?(r(),p("div",Jt,[i("div",{class:"font-medium truncate",title:w.subject},P(w.subject),9,Yt),w.description?(r(),p("div",{key:0,class:"text-gray-500 text-xs mt-1 truncate",title:w.description},P(o.stripHtml(w.description)),9,es)):B("",!0)])):f.key==="raised_by"?(r(),p("span",{key:2,class:"text-sm font-medium text-gray-900 truncate block",title:h||"-"},P(h||"-"),9,ts)):f.key==="custom_users_assigned"?(r(),p("div",ss,[w.custom_users_assigned&&w.custom_users_assigned.length>0?(r(!0),p(N,{key:0},q(w.custom_users_assigned.filter(E=>E.user_assigned),E=>(r(),p("div",{key:E.name||E,class:"relative inline-block"},[i("span",{class:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 cursor-pointer hover:bg-blue-200 transition-colors",onMouseenter:z=>o.showUserPopup(z,E),onMouseleave:e[0]||(e[0]=(...z)=>o.hideUserPopup&&o.hideUserPopup(...z))},P(o.getInitials(E.user_assigned)),41,os)]))),128)):(r(),p("span",ls,"-"))])):f.key==="project"?(r(),p("span",rs,P(h||"-"),1)):f.key==="issue_type"?(r(),L(l,{key:5,issueType:h},null,8,["issueType"])):f.key==="creation"?(r(),p("div",as,[i("span",null,P(o.formatDate(h)),1),i("span",ns,P(o.formatTime(h)),1)])):f.key==="status"?(r(),p("span",{key:7,class:A([o.getStatusBadgeClass(((O=w.status)==null?void 0:O.label)||w.status||"New"),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},P(((F=w.status)==null?void 0:F.label)||w.status||"New"),3)):f.key==="priority"?(r(),p("div",is,[i("div",{class:A([o.getPriorityIndicatorClass(((j=w.priority)==null?void 0:j.label)||w.priority||"Medium"),"w-2 h-2 rounded-full"])},null,2),i("span",{class:A([o.getPriorityBadgeClass(((C=w.priority)==null?void 0:C.label)||w.priority||"Medium"),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},P(((M=w.priority)==null?void 0:M.label)||w.priority||"Medium"),3)])):(r(),p("span",us,P(h),1))]}),_:2},1032,["item","align"])]),_:2},1032,["row"]))),128))]),_:1}),_(I,null,{actions:$(({unselectAll:w})=>[i("div",ds,[_(d,{variant:"ghost",label:"Delete"}),_(d,{variant:"ghost",label:"Unselect all",onClick:w},null,8,["onClick"])])]),_:1})]),_:1},8,["columns","rows","options","onUpdate:selections"])),o.showPopup&&o.popupUser?(r(),p("div",{key:2,class:"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-3 min-w-48",style:le({left:o.popupPosition.x+"px",top:o.popupPosition.y+"px",transform:"translateX(-50%) translateY(-100%)"})},[i("div",cs,[i("div",ms,P(o.popupUser.user_assigned||"Unknown User"),1),i("div",ps,[e[2]||(e[2]=i("span",{class:"inline-block w-2 h-2 bg-blue-500 rounded-full"},null,-1)),D(" "+P(o.popupUser.team||"No Team"),1)]),i("div",gs," Assigned: "+P(o.formatDate(o.popupUser.assigned_date)),1)])],4)):B("",!0)])}const ys=be(Kt,[["render",fs]]);function vs(s,e){let t;return function(...u){const a=()=>{clearTimeout(t),s(...u)};clearTimeout(t),t=setTimeout(a,e)}}function bs(){const s=U(""),e=U({status:"",priority:"",assignee:"",tags:"",sortBy:"creation desc"}),t=U(""),o=vs(l=>{t.value=l},300);Z(s,l=>{o(l)});const u=g(()=>{const l={};return t.value.trim()&&(l.subject=["like",`%${t.value.trim()}%`]),e.value.status&&(l.status=e.value.status),e.value.priority&&(l.priority=e.value.priority),e.value.assignee&&(l.raised_by=e.value.assignee),e.value.tags&&(l.issue_type=e.value.tags),l}),a=g(()=>e.value.sortBy||"creation desc"),x=l=>{if(!l||!Array.isArray(l))return[];let c=[...l];if(s.value.trim()){const v=s.value.toLowerCase().trim();c=c.filter(T=>{const d=(T.subject||"").toLowerCase(),I=(T.description||"").toLowerCase();return d.includes(v)||I.includes(v)})}return e.value.status&&(c=c.filter(v=>v.status===e.value.status)),e.value.priority&&(c=c.filter(v=>v.priority===e.value.priority)),e.value.assignee&&(c=c.filter(v=>v.raised_by===e.value.assignee)),e.value.tags&&(c=c.filter(v=>v.issue_type===e.value.tags)),c.sort((v,T)=>{const[d,I]=e.value.sortBy.split(" "),R=v[d]||"",w=T[d]||"";let f=0;if(d==="creation"||d==="modified")f=new Date(R)-new Date(w);else if(d==="priority"){const h={Critical:4,High:3,Medium:2,Low:1};f=(h[R]||0)-(h[w]||0)}else f=R.toString().localeCompare(w.toString());return I==="desc"?-f:f}),c},k=l=>{if(!l||!Array.isArray(l))return[{label:"All Assignees",value:""}];const c=[...new Set(l.map(v=>v.raised_by).filter(v=>v&&v.trim()))];return[{label:"All Assignees",value:""},...c.map(v=>({label:v,value:v}))]},y=()=>{s.value="",t.value="",e.value={status:"",priority:"",assignee:"",tags:"",sortBy:"creation desc"}},S=g(()=>s.value.trim()!==""||e.value.status!==""||e.value.priority!==""||e.value.assignee!==""||e.value.tags!==""||e.value.sortBy!=="creation desc");return{searchQuery:s,filters:e,debouncedSearchQuery:t,apiFilters:u,sortOrder:a,hasActiveFilters:S,filterIssues:x,getAssigneeOptions:k,resetFilters:y}}const de=oe({url:"force_trans_customization.api.issues.get_issues_with_assignments",makeParams(s){const e=s||{},t=e.limit_page_length||10,o=e.limit_start||0,u=e.filters||{},a=e.order_by||"creation desc";return{limit_page_length:t,limit_start:o,filters:u,order_by:a}},onError(s){console.error("Failed to fetch issues:",s),window.$toast&&window.$toast({title:"Error",text:"Failed to load issues. Please try again.",icon:"x",iconClasses:"text-red-600"})},auto:!0}),Pe=oe({url:"force_trans_customization.api.issues.get_issues_count_with_filters",makeParams(s){return{filters:(s||{}).filters||{}}},onError(s){console.error("Failed to fetch issues count:",s)}});function ae(s={}){const e={limit_page_length:s.limit_page_length||10,limit_start:s.limit_start||0,filters:s.filters||{},order_by:s.order_by||"creation desc"};return de.reload(e)}function ne(s={}){return Pe.reload({filters:s})}const ws=oe({url:"frappe.client.get_list",makeParams(){return{doctype:"Issue Priority",fields:["name"],limit_page_length:0,order_by:"name asc"}},cache:"IssuePriority",onError(s){console.error("Failed to fetch issue priorities:",s)},auto:!0}),hs=oe({url:"frappe.client.get_list",makeParams(){return{doctype:"Issue Type",fields:["name"],limit_page_length:0,order_by:"name asc"}},cache:"IssueType",onError(s){console.error("Failed to fetch issue types:",s)},auto:!0}),xs=oe({url:"frappe.client.get_list",makeParams(){return{doctype:"Project",fields:["name","project_name","status"],filters:{status:["!=","Cancelled"]},limit_page_length:0,order_by:"name asc"}},cache:"Project",onError(s){console.error("Failed to fetch projects:",s)},auto:!0});function _s(){const s=ws.data||[];return[{label:"All Priority",value:""},...s.map(e=>({label:e.name,value:e.name}))]}function ks(){const s=hs.data||[];return[{label:"All Types",value:""},...s.map(e=>({label:e.name,value:e.name}))]}function Cs(){const s=xs.data||[];return[{label:"All Projects",value:""},...s.map(e=>({label:e.project_name||e.name,value:e.name}))]}function Ps(){return[{label:"All Status",value:""},{label:"Open",value:"Open"},{label:"Replied",value:"Replied"},{label:"On Hold",value:"On Hold"},{label:"Resolved",value:"Resolved"},{label:"Closed",value:"Closed"}]}const Is={class:"min-h-screen bg-gray-50"},Rs={class:"bg-white shadow-sm border-b"},$s={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ss={class:"flex justify-between items-center py-4"},Ts={class:"flex items-center space-x-4"},Ls={class:"flex space-x-4"},Os={class:"flex items-center space-x-4"},As={class:"text-sm text-gray-600"},js={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ms={__name:"IssueTracker",setup(s){const{searchQuery:e,filters:t,debouncedSearchQuery:o,apiFilters:u,sortOrder:a,filterIssues:x,getAssigneeOptions:k}=bs(),y=g(()=>de.data||[]),S=g(()=>Pe.data||0),l=g(()=>de.loading),c=g(()=>y.value),v=g(()=>(a.value||"creation desc").split(" ")[0]),T=g(()=>(a.value||"creation desc").split(" ")[1]||"desc"),d=({field:j,direction:C})=>{const M=`${j} ${C}`;t.value.sortBy=M},I=g(()=>_s()),R=g(()=>ks());g(()=>Cs());const w=g(()=>Ps()),f=g(()=>k(y.value)),h=U(1),O=U(10),F=({page:j,itemsPerPage:C,offset:M})=>{h.value=j,O.value=C,ae({filters:u.value,order_by:a.value,limit_page_length:C,limit_start:M}),ne(u.value)};return Z([o,u,a],()=>{h.value=1,ae({filters:u.value,order_by:a.value,limit_page_length:O.value,limit_start:0}),ne(u.value)},{deep:!0}),Fe(()=>{ae({filters:u.value,order_by:a.value,limit_page_length:O.value,limit_start:0}),ne(u.value)}),(j,C)=>{const M=H("router-link"),E=H("Button");return r(),p("div",Is,[i("div",Rs,[i("div",$s,[i("div",Ss,[i("div",Ts,[C[7]||(C[7]=i("h1",{class:"text-2xl font-bold text-gray-900"},"Issue Tracker",-1)),i("nav",Ls,[_(M,{to:"/",class:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"},{default:$(()=>C[5]||(C[5]=[D(" Home ")])),_:1,__:[5]}),_(M,{to:"/issue-tracker",class:"bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm font-medium"},{default:$(()=>C[6]||(C[6]=[D(" Issues ")])),_:1,__:[6]})])]),i("div",Os,[i("span",As,P(n(ue).user),1),_(E,{onClick:C[0]||(C[0]=z=>n(ue).logout.submit()),theme:"gray",variant:"outline",size:"sm"},{default:$(()=>C[8]||(C[8]=[D(" Logout ")])),_:1,__:[8]})])])])]),i("div",js,[_(Nt,{issues:c.value},null,8,["issues"]),_(ht,{searchQuery:n(e),"onUpdate:searchQuery":C[1]||(C[1]=z=>ve(e)?e.value=z:null),filters:n(t),"onUpdate:filters":C[2]||(C[2]=z=>ve(t)?t.value=z:null),statusOptions:w.value,priorityOptions:I.value,assigneeOptions:f.value,tagsOptions:R.value},null,8,["searchQuery","filters","statusOptions","priorityOptions","assigneeOptions","tagsOptions"]),_(ys,{issues:c.value,loading:l.value,sortField:v.value,sortDirection:T.value,onSort:d},null,8,["issues","loading","sortField","sortDirection"]),_(Lt,{currentPage:h.value,"onUpdate:currentPage":C[3]||(C[3]=z=>h.value=z),itemsPerPage:O.value,"onUpdate:itemsPerPage":C[4]||(C[4]=z=>O.value=z),totalItems:S.value,onPageChange:F},null,8,["currentPage","itemsPerPage","totalItems"])])])}}};export{Ms as default};
//# sourceMappingURL=IssueTracker-Y1Z1Tpcd.js.map
