{"version":3,"file":"IssueTracker-BGGOaH1G.js","sources":["../../../../frontend/node_modules/reka-ui/dist/shared/useArrowNavigation.js","../../../../frontend/node_modules/reka-ui/dist/shared/useDirection.js","../../../../frontend/node_modules/reka-ui/dist/shared/useFormControl.js","../../../../frontend/node_modules/reka-ui/dist/shared/useTypeahead.js","../../../../frontend/node_modules/reka-ui/dist/Primitive/usePrimitiveElement.js","../../../../frontend/node_modules/reka-ui/dist/Collection/Collection.js","../../../../frontend/node_modules/reka-ui/dist/RovingFocus/utils.js","../../../../frontend/node_modules/reka-ui/dist/RovingFocus/RovingFocusGroup.js","../../../../frontend/node_modules/reka-ui/dist/VisuallyHidden/VisuallyHiddenInputBubble.js","../../../../frontend/node_modules/reka-ui/dist/VisuallyHidden/VisuallyHiddenInput.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuAnchor.js","../../../../frontend/node_modules/reka-ui/dist/shared/useIsUsingKeyboard.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuRoot.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuContentImpl.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuItemImpl.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuItem.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuRootContentModal.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuRootContentNonModal.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuContent.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuLabel.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuPortal.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuSub.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuSubContent.js","../../../../frontend/node_modules/reka-ui/dist/Menu/MenuSubTrigger.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuRoot.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuContent.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuItem.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuLabel.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuPortal.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuSub.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuSubContent.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuSubTrigger.js","../../../../frontend/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuTrigger.js","../../../../frontend/node_modules/reka-ui/dist/Switch/SwitchRoot.js","../../../../frontend/node_modules/reka-ui/dist/Switch/SwitchThumb.js","../../../../frontend/node_modules/frappe-ui/src/components/Avatar/Avatar.vue","../../../../frontend/node_modules/frappe-ui/src/components/Switch/Switch.vue","../../../../frontend/node_modules/frappe-ui/src/components/Dropdown/Dropdown.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListEmptyState.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/utils.js","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListHeaderItem.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListHeader.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListRowItem.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListRow.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListRows.vue","../../../../frontend/node_modules/frappe-ui/src/icons/DownSolid.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListGroupHeader.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListGroupRows.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListGroups.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListSelectBanner.vue","../../../../frontend/node_modules/frappe-ui/src/components/ListView/ListView.vue","../../../../frontend/src/data/issues.js","../../../../frontend/src/components/CustomSearchBox.vue","../../../../frontend/src/components/IssueFilters.vue","../../../../frontend/src/components/IssuePagination.vue","../../../../frontend/src/components/IssueStats.vue","../../../../frontend/src/components/IssueTable.vue","../../../../frontend/src/components/RealTimeNotifications.vue","../../../../frontend/src/composables/useIssueFilters.js","../../../../frontend/src/composables/useIssueListUpdates.js","../../../../frontend/src/pages/IssueTracker.vue"],"sourcesContent":["//#region src/shared/useArrowNavigation.ts\nconst ignoredElement = [\"INPUT\", \"TEXTAREA\"];\n/**\n* Allow arrow navigation for every html element with data-reka-collection-item tag\n*\n* @param e               Keyboard event\n* @param currentElement  Event initiator element or any element that wants to handle the navigation\n* @param parentElement   Parent element where contains all the collection items, this will collect every item to be used when nav\n* @param options         further options\n* @returns               the navigated html element or null if none\n*/\nfunction useArrowNavigation(e, currentElement, parentElement, options = {}) {\n\tif (!currentElement || options.enableIgnoredElement && ignoredElement.includes(currentElement.nodeName)) return null;\n\tconst { arrowKeyOptions = \"both\", attributeName = \"[data-reka-collection-item]\", itemsArray = [], loop = true, dir = \"ltr\", preventScroll = true, focus = false } = options;\n\tconst [right, left, up, down, home, end] = [\n\t\te.key === \"ArrowRight\",\n\t\te.key === \"ArrowLeft\",\n\t\te.key === \"ArrowUp\",\n\t\te.key === \"ArrowDown\",\n\t\te.key === \"Home\",\n\t\te.key === \"End\"\n\t];\n\tconst goingVertical = up || down;\n\tconst goingHorizontal = right || left;\n\tif (!home && !end && (!goingVertical && !goingHorizontal || arrowKeyOptions === \"vertical\" && goingHorizontal || arrowKeyOptions === \"horizontal\" && goingVertical)) return null;\n\tconst allCollectionItems = parentElement ? Array.from(parentElement.querySelectorAll(attributeName)) : itemsArray;\n\tif (!allCollectionItems.length) return null;\n\tif (preventScroll) e.preventDefault();\n\tlet item = null;\n\tif (goingHorizontal || goingVertical) {\n\t\tconst goForward = goingVertical ? down : dir === \"ltr\" ? right : left;\n\t\titem = findNextFocusableElement(allCollectionItems, currentElement, {\n\t\t\tgoForward,\n\t\t\tloop\n\t\t});\n\t} else if (home) item = allCollectionItems.at(0) || null;\n\telse if (end) item = allCollectionItems.at(-1) || null;\n\tif (focus) item?.focus();\n\treturn item;\n}\n/**\n* Recursive function to find the next focusable element to avoid disabled elements\n*\n* @param elements Elements to navigate\n* @param currentElement Current active element\n* @param options\n* @returns next focusable element\n*/\nfunction findNextFocusableElement(elements, currentElement, options, iterations = elements.length) {\n\tif (--iterations === 0) return null;\n\tconst index = elements.indexOf(currentElement);\n\tconst newIndex = options.goForward ? index + 1 : index - 1;\n\tif (!options.loop && (newIndex < 0 || newIndex >= elements.length)) return null;\n\tconst adjustedNewIndex = (newIndex + elements.length) % elements.length;\n\tconst candidate = elements[adjustedNewIndex];\n\tif (!candidate) return null;\n\tconst isDisabled = candidate.hasAttribute(\"disabled\") && candidate.getAttribute(\"disabled\") !== \"false\";\n\tif (isDisabled) return findNextFocusableElement(elements, candidate, options, iterations);\n\treturn candidate;\n}\n\n//#endregion\nexport { useArrowNavigation };\n//# sourceMappingURL=useArrowNavigation.js.map","import { injectConfigProviderContext } from \"../ConfigProvider/ConfigProvider.js\";\nimport { computed, ref } from \"vue\";\n\n//#region src/shared/useDirection.ts\nfunction useDirection(dir) {\n\tconst context = injectConfigProviderContext({ dir: ref(\"ltr\") });\n\treturn computed(() => dir?.value || context.dir?.value || \"ltr\");\n}\n\n//#endregion\nexport { useDirection };\n//# sourceMappingURL=useDirection.js.map","import { computed } from \"vue\";\nimport { toValue as toValue$1, unrefElement } from \"@vueuse/core\";\n\n//#region src/shared/useFormControl.ts\nfunction useFormControl(el) {\n\treturn computed(() => toValue$1(el) ? Boolean(unrefElement(el)?.closest(\"form\")) : true);\n}\n\n//#endregion\nexport { useFormControl };\n//# sourceMappingURL=useFormControl.js.map","import { getActiveElement } from \"./getActiveElement.js\";\nimport { refAutoReset } from \"@vueuse/shared\";\n\n//#region src/shared/useTypeahead.ts\nfunction useTypeahead(callback) {\n\tconst search = refAutoReset(\"\", 1e3);\n\tconst handleTypeaheadSearch = (key, items) => {\n\t\tsearch.value = search.value + key;\n\t\tif (callback) callback(key);\n\t\telse {\n\t\t\tconst currentItem = getActiveElement();\n\t\t\tconst itemsWithTextValue = items.map((item) => ({\n\t\t\t\t...item,\n\t\t\t\ttextValue: item.value?.textValue ?? item.ref.textContent?.trim() ?? \"\"\n\t\t\t}));\n\t\t\tconst currentMatch = itemsWithTextValue.find((item) => item.ref === currentItem);\n\t\t\tconst values = itemsWithTextValue.map((item) => item.textValue);\n\t\t\tconst nextMatch = getNextMatch(values, search.value, currentMatch?.textValue);\n\t\t\tconst newItem = itemsWithTextValue.find((item) => item.textValue === nextMatch);\n\t\t\tif (newItem) newItem.ref.focus();\n\t\t\treturn newItem?.ref;\n\t\t}\n\t};\n\tconst resetTypeahead = () => {\n\t\tsearch.value = \"\";\n\t};\n\treturn {\n\t\tsearch,\n\t\thandleTypeaheadSearch,\n\t\tresetTypeahead\n\t};\n}\n/**\n* Wraps an array around itself at a given start index\n* Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n*/\nfunction wrapArray(array, startIndex) {\n\treturn array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n/**\n* This is the \"meat\" of the typeahead matching logic. It takes in all the values,\n* the search and the current match, and returns the next match (or `undefined`).\n*\n* We normalize the search because if a user has repeatedly pressed a character,\n* we want the exact same behavior as if we only had that one character\n* (ie. cycle through options starting with that character)\n*\n* We also reorder the values by wrapping the array around the current match.\n* This is so we always look forward from the current match, and picking the first\n* match will always be the correct one.\n*\n* Finally, if the normalized search is exactly one character, we exclude the\n* current match from the values because otherwise it would be the first to match always\n* and focus would never move. This is as opposed to the regular case, where we\n* don't want focus to move if the current match still matches.\n*/\nfunction getNextMatch(values, search, currentMatch) {\n\tconst isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n\tconst normalizedSearch = isRepeated ? search[0] : search;\n\tconst currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n\tlet wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n\tconst excludeCurrentMatch = normalizedSearch.length === 1;\n\tif (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n\tconst nextMatch = wrappedValues.find((value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase()));\n\treturn nextMatch !== currentMatch ? nextMatch : void 0;\n}\n\n//#endregion\nexport { getNextMatch, useTypeahead, wrapArray };\n//# sourceMappingURL=useTypeahead.js.map","import { computed, ref } from \"vue\";\nimport { unrefElement } from \"@vueuse/core\";\n\n//#region src/Primitive/usePrimitiveElement.ts\nfunction usePrimitiveElement() {\n\tconst primitiveElement = ref();\n\tconst currentElement = computed(() => [\"#text\", \"#comment\"].includes(primitiveElement.value?.$el.nodeName) ? primitiveElement.value?.$el.nextElementSibling : unrefElement(primitiveElement));\n\treturn {\n\t\tprimitiveElement,\n\t\tcurrentElement\n\t};\n}\n\n//#endregion\nexport { usePrimitiveElement };\n//# sourceMappingURL=usePrimitiveElement.js.map","import { Slot } from \"../Primitive/Slot.js\";\nimport { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { computed, defineComponent, h, inject, markRaw, provide, ref, watch, watchEffect } from \"vue\";\n\n//#region src/Collection/Collection.ts\nconst ITEM_DATA_ATTR = \"data-reka-collection-item\";\nfunction useCollection(options = {}) {\n\tconst { key = \"\", isProvider = false } = options;\n\tconst injectionKey = `${key}CollectionProvider`;\n\tlet context;\n\tif (isProvider) {\n\t\tconst itemMap = ref(/* @__PURE__ */ new Map());\n\t\tconst collectionRef = ref();\n\t\tcontext = {\n\t\t\tcollectionRef,\n\t\t\titemMap\n\t\t};\n\t\tprovide(injectionKey, context);\n\t} else context = inject(injectionKey);\n\tconst getItems = (includeDisabledItem = false) => {\n\t\tconst collectionNode = context.collectionRef.value;\n\t\tif (!collectionNode) return [];\n\t\tconst orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n\t\tconst items = Array.from(context.itemMap.value.values());\n\t\tconst orderedItems = items.sort((a, b) => orderedNodes.indexOf(a.ref) - orderedNodes.indexOf(b.ref));\n\t\tif (includeDisabledItem) return orderedItems;\n\t\telse return orderedItems.filter((i) => i.ref.dataset.disabled !== \"\");\n\t};\n\tconst CollectionSlot = defineComponent({\n\t\tname: \"CollectionSlot\",\n\t\tsetup(_, { slots }) {\n\t\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\t\twatch(currentElement, () => {\n\t\t\t\tcontext.collectionRef.value = currentElement.value;\n\t\t\t});\n\t\t\treturn () => h(Slot, { ref: primitiveElement }, slots);\n\t\t}\n\t});\n\tconst CollectionItem = defineComponent({\n\t\tname: \"CollectionItem\",\n\t\tinheritAttrs: false,\n\t\tprops: { value: { validator: () => true } },\n\t\tsetup(props, { slots, attrs }) {\n\t\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\t\twatchEffect((cleanupFn) => {\n\t\t\t\tif (currentElement.value) {\n\t\t\t\t\tconst key$1 = markRaw(currentElement.value);\n\t\t\t\t\tcontext.itemMap.value.set(key$1, {\n\t\t\t\t\t\tref: currentElement.value,\n\t\t\t\t\t\tvalue: props.value\n\t\t\t\t\t});\n\t\t\t\t\tcleanupFn(() => context.itemMap.value.delete(key$1));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn () => h(Slot, {\n\t\t\t\t...attrs,\n\t\t\t\t[ITEM_DATA_ATTR]: \"\",\n\t\t\t\tref: primitiveElement\n\t\t\t}, slots);\n\t\t}\n\t});\n\tconst reactiveItems = computed(() => Array.from(context.itemMap.value.values()));\n\tconst itemMapSize = computed(() => context.itemMap.value.size);\n\treturn {\n\t\tgetItems,\n\t\treactiveItems,\n\t\titemMapSize,\n\t\tCollectionSlot,\n\t\tCollectionItem\n\t};\n}\n\n//#endregion\nexport { useCollection };\n//# sourceMappingURL=Collection.js.map","import { getActiveElement } from \"../shared/getActiveElement.js\";\n\n//#region src/RovingFocus/utils.ts\nconst ENTRY_FOCUS = \"rovingFocusGroup.onEntryFocus\";\nconst EVENT_OPTIONS = {\n\tbubbles: false,\n\tcancelable: true\n};\nconst MAP_KEY_TO_FOCUS_INTENT = {\n\tArrowLeft: \"prev\",\n\tArrowUp: \"prev\",\n\tArrowRight: \"next\",\n\tArrowDown: \"next\",\n\tPageUp: \"first\",\n\tHome: \"first\",\n\tPageDown: \"last\",\n\tEnd: \"last\"\n};\nfunction getDirectionAwareKey(key, dir) {\n\tif (dir !== \"rtl\") return key;\n\treturn key === \"ArrowLeft\" ? \"ArrowRight\" : key === \"ArrowRight\" ? \"ArrowLeft\" : key;\n}\nfunction getFocusIntent(event, orientation, dir) {\n\tconst key = getDirectionAwareKey(event.key, dir);\n\tif (orientation === \"vertical\" && [\"ArrowLeft\", \"ArrowRight\"].includes(key)) return void 0;\n\tif (orientation === \"horizontal\" && [\"ArrowUp\", \"ArrowDown\"].includes(key)) return void 0;\n\treturn MAP_KEY_TO_FOCUS_INTENT[key];\n}\nfunction focusFirst(candidates, preventScroll = false) {\n\tconst PREVIOUSLY_FOCUSED_ELEMENT = getActiveElement();\n\tfor (const candidate of candidates) {\n\t\tif (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n\t\tcandidate.focus({ preventScroll });\n\t\tif (getActiveElement() !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n\t}\n}\n/**\n* Wraps an array around itself at a given start index\n* Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n*/\nfunction wrapArray(array, startIndex) {\n\treturn array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\n//#endregion\nexport { ENTRY_FOCUS, EVENT_OPTIONS, MAP_KEY_TO_FOCUS_INTENT, focusFirst, getFocusIntent, wrapArray };\n//# sourceMappingURL=utils.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useDirection } from \"../shared/useDirection.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { ENTRY_FOCUS, EVENT_OPTIONS, focusFirst } from \"./utils.js\";\nimport { createBlock, createVNode, defineComponent, openBlock, ref, renderSlot, toRefs, unref, withCtx } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/RovingFocus/RovingFocusGroup.vue?vue&type=script&setup=true&lang.ts\nconst [injectRovingFocusGroupContext, provideRovingFocusGroupContext] = createContext(\"RovingFocusGroup\");\nvar RovingFocusGroup_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"RovingFocusGroup\",\n\tprops: {\n\t\torientation: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\tdir: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tcurrentTabStopId: {\n\t\t\ttype: [String, null],\n\t\t\trequired: false\n\t\t},\n\t\tdefaultCurrentTabStopId: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tpreventScrollOnEntryFocus: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\"entryFocus\", \"update:currentTabStopId\"],\n\tsetup(__props, { expose: __expose, emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { loop, orientation, dir: propDir } = toRefs(props);\n\t\tconst dir = useDirection(propDir);\n\t\tconst currentTabStopId = useVModel(props, \"currentTabStopId\", emits, {\n\t\t\tdefaultValue: props.defaultCurrentTabStopId,\n\t\t\tpassive: props.currentTabStopId === void 0\n\t\t});\n\t\tconst isTabbingBackOut = ref(false);\n\t\tconst isClickFocus = ref(false);\n\t\tconst focusableItemsCount = ref(0);\n\t\tconst { getItems, CollectionSlot } = useCollection({ isProvider: true });\n\t\tfunction handleFocus(event) {\n\t\t\tconst isKeyboardFocus = !isClickFocus.value;\n\t\t\tif (event.currentTarget && event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut.value) {\n\t\t\t\tconst entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n\t\t\t\tevent.currentTarget.dispatchEvent(entryFocusEvent);\n\t\t\t\temits(\"entryFocus\", entryFocusEvent);\n\t\t\t\tif (!entryFocusEvent.defaultPrevented) {\n\t\t\t\t\tconst items = getItems().map((i) => i.ref).filter((i) => i.dataset.disabled !== \"\");\n\t\t\t\t\tconst activeItem = items.find((item) => item.getAttribute(\"data-active\") === \"\");\n\t\t\t\t\tconst highlightedItem = items.find((item) => item.getAttribute(\"data-highlighted\") === \"\");\n\t\t\t\t\tconst currentItem = items.find((item) => item.id === currentTabStopId.value);\n\t\t\t\t\tconst candidateItems = [\n\t\t\t\t\t\tactiveItem,\n\t\t\t\t\t\thighlightedItem,\n\t\t\t\t\t\tcurrentItem,\n\t\t\t\t\t\t...items\n\t\t\t\t\t].filter(Boolean);\n\t\t\t\t\tfocusFirst(candidateItems, props.preventScrollOnEntryFocus);\n\t\t\t\t}\n\t\t\t}\n\t\t\tisClickFocus.value = false;\n\t\t}\n\t\tfunction handleMouseUp() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tisClickFocus.value = false;\n\t\t\t}, 1);\n\t\t}\n\t\t__expose({ getItems });\n\t\tprovideRovingFocusGroupContext({\n\t\t\tloop,\n\t\t\tdir,\n\t\t\torientation,\n\t\t\tcurrentTabStopId,\n\t\t\tonItemFocus: (tabStopId) => {\n\t\t\t\tcurrentTabStopId.value = tabStopId;\n\t\t\t},\n\t\t\tonItemShiftTab: () => {\n\t\t\t\tisTabbingBackOut.value = true;\n\t\t\t},\n\t\t\tonFocusableItemAdd: () => {\n\t\t\t\tfocusableItemsCount.value++;\n\t\t\t},\n\t\t\tonFocusableItemRemove: () => {\n\t\t\t\tfocusableItemsCount.value--;\n\t\t\t}\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionSlot), null, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\ttabindex: isTabbingBackOut.value || focusableItemsCount.value === 0 ? -1 : 0,\n\t\t\t\t\t\"data-orientation\": unref(orientation),\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tdir: unref(dir),\n\t\t\t\t\tstyle: { \"outline\": \"none\" },\n\t\t\t\t\tonMousedown: _cache[0] || (_cache[0] = ($event) => isClickFocus.value = true),\n\t\t\t\t\tonMouseup: handleMouseUp,\n\t\t\t\t\tonFocus: handleFocus,\n\t\t\t\t\tonBlur: _cache[1] || (_cache[1] = ($event) => isTabbingBackOut.value = false)\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"tabindex\",\n\t\t\t\t\t\"data-orientation\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"dir\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/RovingFocus/RovingFocusGroup.vue\nvar RovingFocusGroup_default = RovingFocusGroup_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { RovingFocusGroup_default, injectRovingFocusGroupContext };\n//# sourceMappingURL=RovingFocusGroup.js.map","import { usePrimitiveElement } from \"../Primitive/usePrimitiveElement.js\";\nimport { VisuallyHidden_default } from \"./VisuallyHidden.js\";\nimport { computed, createBlock, defineComponent, mergeProps, openBlock, watch } from \"vue\";\n\n//#region src/VisuallyHidden/VisuallyHiddenInputBubble.vue?vue&type=script&setup=true&lang.ts\nvar VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\tinheritAttrs: false,\n\t__name: \"VisuallyHiddenInputBubble\",\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tchecked: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tfeature: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"fully-hidden\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { primitiveElement, currentElement } = usePrimitiveElement();\n\t\tconst valueState = computed(() => props.checked ?? props.value);\n\t\twatch(valueState, (cur, prev) => {\n\t\t\tif (!currentElement.value) return;\n\t\t\tconst input = currentElement.value;\n\t\t\tconst inputProto = window.HTMLInputElement.prototype;\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(inputProto, \"value\");\n\t\t\tconst setValue = descriptor.set;\n\t\t\tif (setValue && cur !== prev) {\n\t\t\t\tconst inputEvent = new Event(\"input\", { bubbles: true });\n\t\t\t\tconst changeEvent = new Event(\"change\", { bubbles: true });\n\t\t\t\tsetValue.call(input, cur);\n\t\t\t\tinput.dispatchEvent(inputEvent);\n\t\t\t\tinput.dispatchEvent(changeEvent);\n\t\t\t}\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(VisuallyHidden_default, mergeProps({\n\t\t\t\tref_key: \"primitiveElement\",\n\t\t\t\tref: primitiveElement\n\t\t\t}, {\n\t\t\t\t...props,\n\t\t\t\t..._ctx.$attrs\n\t\t\t}, { as: \"input\" }), null, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/VisuallyHidden/VisuallyHiddenInputBubble.vue\nvar VisuallyHiddenInputBubble_default = VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { VisuallyHiddenInputBubble_default };\n//# sourceMappingURL=VisuallyHiddenInputBubble.js.map","import { VisuallyHiddenInputBubble_default } from \"./VisuallyHiddenInputBubble.js\";\nimport { Fragment, computed, createBlock, createCommentVNode, createElementBlock, defineComponent, mergeProps, openBlock, renderList } from \"vue\";\n\n//#region src/VisuallyHidden/VisuallyHiddenInput.vue?vue&type=script&setup=true&lang.ts\nvar VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\tinheritAttrs: false,\n\t__name: \"VisuallyHiddenInput\",\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tvalue: {\n\t\t\ttype: null,\n\t\t\trequired: true\n\t\t},\n\t\tchecked: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tfeature: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"fully-hidden\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst isFormArrayEmptyAndRequired = computed(() => typeof props.value === \"object\" && Array.isArray(props.value) && props.value.length === 0 && props.required);\n\t\tconst parsedValue = computed(() => {\n\t\t\tif (typeof props.value === \"string\" || typeof props.value === \"number\" || typeof props.value === \"boolean\" || props.value === null || props.value === void 0) return [{\n\t\t\t\tname: props.name,\n\t\t\t\tvalue: props.value\n\t\t\t}];\n\t\t\telse if (typeof props.value === \"object\" && Array.isArray(props.value)) return props.value.flatMap((obj, index) => {\n\t\t\t\tif (typeof obj === \"object\") return Object.entries(obj).map(([key, value]) => ({\n\t\t\t\t\tname: `${props.name}[${index}][${key}]`,\n\t\t\t\t\tvalue\n\t\t\t\t}));\n\t\t\t\telse return {\n\t\t\t\t\tname: `${props.name}[${index}]`,\n\t\t\t\t\tvalue: obj\n\t\t\t\t};\n\t\t\t});\n\t\t\telse if (props.value !== null && typeof props.value === \"object\" && !Array.isArray(props.value)) return Object.entries(props.value).map(([key, value]) => ({\n\t\t\t\tname: `${props.name}[${key}]`,\n\t\t\t\tvalue\n\t\t\t}));\n\t\t\treturn [];\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createElementBlock(Fragment, null, [createCommentVNode(\" We render single input if it's required \"), isFormArrayEmptyAndRequired.value ? (openBlock(), createBlock(VisuallyHiddenInputBubble_default, mergeProps({ key: _ctx.name }, {\n\t\t\t\t...props,\n\t\t\t\t..._ctx.$attrs\n\t\t\t}, {\n\t\t\t\tname: _ctx.name,\n\t\t\t\tvalue: _ctx.value\n\t\t\t}), null, 16, [\"name\", \"value\"])) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(parsedValue.value, (parsed) => {\n\t\t\t\treturn openBlock(), createBlock(VisuallyHiddenInputBubble_default, mergeProps({ key: parsed.name }, { ref_for: true }, {\n\t\t\t\t\t...props,\n\t\t\t\t\t..._ctx.$attrs\n\t\t\t\t}, {\n\t\t\t\t\tname: parsed.name,\n\t\t\t\t\tvalue: parsed.value\n\t\t\t\t}), null, 16, [\"name\", \"value\"]);\n\t\t\t}), 128))], 2112);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/VisuallyHidden/VisuallyHiddenInput.vue\nvar VisuallyHiddenInput_default = VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { VisuallyHiddenInput_default };\n//# sourceMappingURL=VisuallyHiddenInput.js.map","import { PopperAnchor_default } from \"../Popper/PopperAnchor.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Menu/MenuAnchor.vue?vue&type=script&setup=true&lang.ts\nvar MenuAnchor_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuAnchor\",\n\tprops: {\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(PopperAnchor_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuAnchor.vue\nvar MenuAnchor_default = MenuAnchor_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuAnchor_default };\n//# sourceMappingURL=MenuAnchor.js.map","import { onMounted, ref } from \"vue\";\nimport { createSharedComposable, useEventListener } from \"@vueuse/core\";\n\n//#region src/shared/useIsUsingKeyboard.ts\nfunction useIsUsingKeyboardImpl() {\n\tconst isUsingKeyboard = ref(false);\n\tonMounted(() => {\n\t\tuseEventListener(\"keydown\", () => {\n\t\t\tisUsingKeyboard.value = true;\n\t\t}, {\n\t\t\tcapture: true,\n\t\t\tpassive: true\n\t\t});\n\t\tuseEventListener([\"pointerdown\", \"pointermove\"], () => {\n\t\t\tisUsingKeyboard.value = false;\n\t\t}, {\n\t\t\tcapture: true,\n\t\t\tpassive: true\n\t\t});\n\t});\n\treturn isUsingKeyboard;\n}\nconst useIsUsingKeyboard = createSharedComposable(useIsUsingKeyboardImpl);\n\n//#endregion\nexport { useIsUsingKeyboard };\n//# sourceMappingURL=useIsUsingKeyboard.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useDirection } from \"../shared/useDirection.js\";\nimport { PopperRoot_default } from \"../Popper/PopperRoot.js\";\nimport { useIsUsingKeyboard } from \"../shared/useIsUsingKeyboard.js\";\nimport { createBlock, defineComponent, openBlock, ref, renderSlot, toRefs, unref, withCtx } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/Menu/MenuRoot.vue?vue&type=script&setup=true&lang.ts\nconst [injectMenuContext, provideMenuContext] = createContext([\"MenuRoot\", \"MenuSub\"], \"MenuContext\");\nconst [injectMenuRootContext, provideMenuRootContext] = createContext(\"MenuRoot\");\nvar MenuRoot_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuRoot\",\n\tprops: {\n\t\topen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tdir: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tmodal: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t}\n\t},\n\temits: [\"update:open\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { modal, dir: propDir } = toRefs(props);\n\t\tconst dir = useDirection(propDir);\n\t\tconst open = useVModel(props, \"open\", emits);\n\t\tconst content = ref();\n\t\tconst isUsingKeyboardRef = useIsUsingKeyboard();\n\t\tprovideMenuContext({\n\t\t\topen,\n\t\t\tonOpenChange: (value) => {\n\t\t\t\topen.value = value;\n\t\t\t},\n\t\t\tcontent,\n\t\t\tonContentChange: (element) => {\n\t\t\t\tcontent.value = element;\n\t\t\t}\n\t\t});\n\t\tprovideMenuRootContext({\n\t\t\tonClose: () => {\n\t\t\t\topen.value = false;\n\t\t\t},\n\t\t\tisUsingKeyboardRef,\n\t\t\tdir,\n\t\t\tmodal\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(PopperRoot_default), null, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuRoot.vue\nvar MenuRoot_default = MenuRoot_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuRoot_default, injectMenuContext, injectMenuRootContext, provideMenuContext };\n//# sourceMappingURL=MenuRoot.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { getActiveElement } from \"../shared/getActiveElement.js\";\nimport { useArrowNavigation } from \"../shared/useArrowNavigation.js\";\nimport { useBodyScrollLock } from \"../shared/useBodyScrollLock.js\";\nimport { useFocusGuards } from \"../shared/useFocusGuards.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useTypeahead } from \"../shared/useTypeahead.js\";\nimport { DismissableLayer_default } from \"../DismissableLayer/DismissableLayer.js\";\nimport { FocusScope_default } from \"../FocusScope/FocusScope.js\";\nimport { FIRST_LAST_KEYS, LAST_KEYS, focusFirst, getOpenState, isMouseEvent, isPointerInGraceArea } from \"./utils.js\";\nimport { RovingFocusGroup_default } from \"../RovingFocus/RovingFocusGroup.js\";\nimport { PopperContentPropsDefaultValue, PopperContent_default } from \"../Popper/PopperContent.js\";\nimport { injectMenuContext, injectMenuRootContext } from \"./MenuRoot.js\";\nimport { createBlock, createVNode, defineComponent, mergeDefaults, onUnmounted, openBlock, ref, renderSlot, toRefs, unref, watch, withCtx } from \"vue\";\n\n//#region src/Menu/MenuContentImpl.vue?vue&type=script&setup=true&lang.ts\nconst [injectMenuContentContext, provideMenuContentContext] = createContext(\"MenuContent\");\nvar MenuContentImpl_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuContentImpl\",\n\tprops: /* @__PURE__ */ mergeDefaults({\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisableOutsidePointerEvents: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdisableOutsideScroll: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\ttrapFocus: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t}, { ...PopperContentPropsDefaultValue }),\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\",\n\t\t\"entryFocus\",\n\t\t\"openAutoFocus\",\n\t\t\"closeAutoFocus\",\n\t\t\"dismiss\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst menuContext = injectMenuContext();\n\t\tconst rootContext = injectMenuRootContext();\n\t\tconst { trapFocus, disableOutsidePointerEvents, loop } = toRefs(props);\n\t\tuseFocusGuards();\n\t\tuseBodyScrollLock(disableOutsidePointerEvents.value);\n\t\tconst searchRef = ref(\"\");\n\t\tconst timerRef = ref(0);\n\t\tconst pointerGraceTimerRef = ref(0);\n\t\tconst pointerGraceIntentRef = ref(null);\n\t\tconst pointerDirRef = ref(\"right\");\n\t\tconst lastPointerXRef = ref(0);\n\t\tconst currentItemId = ref(null);\n\t\tconst rovingFocusGroupRef = ref();\n\t\tconst { forwardRef, currentElement: contentElement } = useForwardExpose();\n\t\tconst { handleTypeaheadSearch } = useTypeahead();\n\t\twatch(contentElement, (el) => {\n\t\t\tmenuContext.onContentChange(el);\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\twindow.clearTimeout(timerRef.value);\n\t\t});\n\t\tfunction isPointerMovingToSubmenu(event) {\n\t\t\tconst isMovingTowards = pointerDirRef.value === pointerGraceIntentRef.value?.side;\n\t\t\treturn isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.value?.area);\n\t\t}\n\t\tasync function handleMountAutoFocus(event) {\n\t\t\temits(\"openAutoFocus\", event);\n\t\t\tif (event.defaultPrevented) return;\n\t\t\tevent.preventDefault();\n\t\t\tcontentElement.value?.focus({ preventScroll: true });\n\t\t}\n\t\tfunction handleKeyDown(event) {\n\t\t\tif (event.defaultPrevented) return;\n\t\t\tconst target = event.target;\n\t\t\tconst isKeyDownInside = target.closest(\"[data-reka-menu-content]\") === event.currentTarget;\n\t\t\tconst isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n\t\t\tconst isCharacterKey = event.key.length === 1;\n\t\t\tconst el = useArrowNavigation(event, getActiveElement(), contentElement.value, {\n\t\t\t\tloop: loop.value,\n\t\t\t\tarrowKeyOptions: \"vertical\",\n\t\t\t\tdir: rootContext?.dir.value,\n\t\t\t\tfocus: true,\n\t\t\t\tattributeName: \"[data-reka-collection-item]:not([data-disabled])\"\n\t\t\t});\n\t\t\tif (el) return el?.focus();\n\t\t\tif (event.code === \"Space\") return;\n\t\t\tconst collectionItems = rovingFocusGroupRef.value?.getItems() ?? [];\n\t\t\tif (isKeyDownInside) {\n\t\t\t\tif (event.key === \"Tab\") event.preventDefault();\n\t\t\t\tif (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key, collectionItems);\n\t\t\t}\n\t\t\tif (event.target !== contentElement.value) return;\n\t\t\tif (!FIRST_LAST_KEYS.includes(event.key)) return;\n\t\t\tevent.preventDefault();\n\t\t\tconst candidateNodes = [...collectionItems.map((item) => item.ref)];\n\t\t\tif (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n\t\t\tfocusFirst(candidateNodes);\n\t\t}\n\t\tfunction handleBlur(event) {\n\t\t\tif (!event?.currentTarget?.contains?.(event.target)) {\n\t\t\t\twindow.clearTimeout(timerRef.value);\n\t\t\t\tsearchRef.value = \"\";\n\t\t\t}\n\t\t}\n\t\tfunction handlePointerMove(event) {\n\t\t\tif (!isMouseEvent(event)) return;\n\t\t\tconst target = event.target;\n\t\t\tconst pointerXHasChanged = lastPointerXRef.value !== event.clientX;\n\t\t\tif ((event?.currentTarget)?.contains(target) && pointerXHasChanged) {\n\t\t\t\tconst newDir = event.clientX > lastPointerXRef.value ? \"right\" : \"left\";\n\t\t\t\tpointerDirRef.value = newDir;\n\t\t\t\tlastPointerXRef.value = event.clientX;\n\t\t\t}\n\t\t}\n\t\tprovideMenuContentContext({\n\t\t\tonItemEnter: (event) => {\n\t\t\t\tif (isPointerMovingToSubmenu(event)) return true;\n\t\t\t\telse return false;\n\t\t\t},\n\t\t\tonItemLeave: (event) => {\n\t\t\t\tif (isPointerMovingToSubmenu(event)) return;\n\t\t\t\tcontentElement.value?.focus();\n\t\t\t\tcurrentItemId.value = null;\n\t\t\t},\n\t\t\tonTriggerLeave: (event) => {\n\t\t\t\tif (isPointerMovingToSubmenu(event)) return true;\n\t\t\t\telse return false;\n\t\t\t},\n\t\t\tsearchRef,\n\t\t\tpointerGraceTimerRef,\n\t\t\tonPointerGraceIntentChange: (intent) => {\n\t\t\t\tpointerGraceIntentRef.value = intent;\n\t\t\t}\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(FocusScope_default), {\n\t\t\t\t\"as-child\": \"\",\n\t\t\t\ttrapped: unref(trapFocus),\n\t\t\t\tonMountAutoFocus: handleMountAutoFocus,\n\t\t\t\tonUnmountAutoFocus: _cache[7] || (_cache[7] = ($event) => emits(\"closeAutoFocus\", $event))\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(DismissableLayer_default), {\n\t\t\t\t\t\"as-child\": \"\",\n\t\t\t\t\t\"disable-outside-pointer-events\": unref(disableOutsidePointerEvents),\n\t\t\t\t\tonEscapeKeyDown: _cache[2] || (_cache[2] = ($event) => emits(\"escapeKeyDown\", $event)),\n\t\t\t\t\tonPointerDownOutside: _cache[3] || (_cache[3] = ($event) => emits(\"pointerDownOutside\", $event)),\n\t\t\t\t\tonFocusOutside: _cache[4] || (_cache[4] = ($event) => emits(\"focusOutside\", $event)),\n\t\t\t\t\tonInteractOutside: _cache[5] || (_cache[5] = ($event) => emits(\"interactOutside\", $event)),\n\t\t\t\t\tonDismiss: _cache[6] || (_cache[6] = ($event) => emits(\"dismiss\"))\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [createVNode(unref(RovingFocusGroup_default), {\n\t\t\t\t\t\tref_key: \"rovingFocusGroupRef\",\n\t\t\t\t\t\tref: rovingFocusGroupRef,\n\t\t\t\t\t\t\"current-tab-stop-id\": currentItemId.value,\n\t\t\t\t\t\t\"onUpdate:currentTabStopId\": _cache[0] || (_cache[0] = ($event) => currentItemId.value = $event),\n\t\t\t\t\t\t\"as-child\": \"\",\n\t\t\t\t\t\torientation: \"vertical\",\n\t\t\t\t\t\tdir: unref(rootContext).dir.value,\n\t\t\t\t\t\tloop: unref(loop),\n\t\t\t\t\t\tonEntryFocus: _cache[1] || (_cache[1] = (event) => {\n\t\t\t\t\t\t\temits(\"entryFocus\", event);\n\t\t\t\t\t\t\tif (!unref(rootContext).isUsingKeyboardRef.value) event.preventDefault();\n\t\t\t\t\t\t})\n\t\t\t\t\t}, {\n\t\t\t\t\t\tdefault: withCtx(() => [createVNode(unref(PopperContent_default), {\n\t\t\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\t\t\trole: \"menu\",\n\t\t\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\t\t\t\"aria-orientation\": \"vertical\",\n\t\t\t\t\t\t\t\"data-reka-menu-content\": \"\",\n\t\t\t\t\t\t\t\"data-state\": unref(getOpenState)(unref(menuContext).open.value),\n\t\t\t\t\t\t\tdir: unref(rootContext).dir.value,\n\t\t\t\t\t\t\tside: _ctx.side,\n\t\t\t\t\t\t\t\"side-offset\": _ctx.sideOffset,\n\t\t\t\t\t\t\talign: _ctx.align,\n\t\t\t\t\t\t\t\"align-offset\": _ctx.alignOffset,\n\t\t\t\t\t\t\t\"avoid-collisions\": _ctx.avoidCollisions,\n\t\t\t\t\t\t\t\"collision-boundary\": _ctx.collisionBoundary,\n\t\t\t\t\t\t\t\"collision-padding\": _ctx.collisionPadding,\n\t\t\t\t\t\t\t\"arrow-padding\": _ctx.arrowPadding,\n\t\t\t\t\t\t\t\"prioritize-position\": _ctx.prioritizePosition,\n\t\t\t\t\t\t\t\"position-strategy\": _ctx.positionStrategy,\n\t\t\t\t\t\t\t\"update-position-strategy\": _ctx.updatePositionStrategy,\n\t\t\t\t\t\t\tsticky: _ctx.sticky,\n\t\t\t\t\t\t\t\"hide-when-detached\": _ctx.hideWhenDetached,\n\t\t\t\t\t\t\treference: _ctx.reference,\n\t\t\t\t\t\t\tonKeydown: handleKeyDown,\n\t\t\t\t\t\t\tonBlur: handleBlur,\n\t\t\t\t\t\t\tonPointermove: handlePointerMove\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t\t\t_: 3\n\t\t\t\t\t\t}, 8, [\n\t\t\t\t\t\t\t\"as\",\n\t\t\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\t\t\"data-state\",\n\t\t\t\t\t\t\t\"dir\",\n\t\t\t\t\t\t\t\"side\",\n\t\t\t\t\t\t\t\"side-offset\",\n\t\t\t\t\t\t\t\"align\",\n\t\t\t\t\t\t\t\"align-offset\",\n\t\t\t\t\t\t\t\"avoid-collisions\",\n\t\t\t\t\t\t\t\"collision-boundary\",\n\t\t\t\t\t\t\t\"collision-padding\",\n\t\t\t\t\t\t\t\"arrow-padding\",\n\t\t\t\t\t\t\t\"prioritize-position\",\n\t\t\t\t\t\t\t\"position-strategy\",\n\t\t\t\t\t\t\t\"update-position-strategy\",\n\t\t\t\t\t\t\t\"sticky\",\n\t\t\t\t\t\t\t\"hide-when-detached\",\n\t\t\t\t\t\t\t\"reference\"\n\t\t\t\t\t\t])]),\n\t\t\t\t\t\t_: 3\n\t\t\t\t\t}, 8, [\n\t\t\t\t\t\t\"current-tab-stop-id\",\n\t\t\t\t\t\t\"dir\",\n\t\t\t\t\t\t\"loop\"\n\t\t\t\t\t])]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\"disable-outside-pointer-events\"])]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"trapped\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuContentImpl.vue\nvar MenuContentImpl_default = MenuContentImpl_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuContentImpl_default, injectMenuContentContext };\n//# sourceMappingURL=MenuContentImpl.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { isMouseEvent } from \"./utils.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { injectMenuContentContext } from \"./MenuContentImpl.js\";\nimport { createBlock, createVNode, defineComponent, mergeProps, nextTick, openBlock, ref, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Menu/MenuItemImpl.vue?vue&type=script&setup=true&lang.ts\nvar MenuItemImpl_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\tinheritAttrs: false,\n\t__name: \"MenuItemImpl\",\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\ttextValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst contentContext = injectMenuContentContext();\n\t\tconst { forwardRef } = useForwardExpose();\n\t\tconst { CollectionItem } = useCollection();\n\t\tconst isFocused = ref(false);\n\t\tasync function handlePointerMove(event) {\n\t\t\tif (event.defaultPrevented) return;\n\t\t\tif (!isMouseEvent(event)) return;\n\t\t\tif (props.disabled) contentContext.onItemLeave(event);\n\t\t\telse {\n\t\t\t\tconst defaultPrevented = contentContext.onItemEnter(event);\n\t\t\t\tif (!defaultPrevented) {\n\t\t\t\t\tconst item = event.currentTarget;\n\t\t\t\t\titem?.focus({ preventScroll: true });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tasync function handlePointerLeave(event) {\n\t\t\tawait nextTick();\n\t\t\tif (event.defaultPrevented) return;\n\t\t\tif (!isMouseEvent(event)) return;\n\t\t\tcontentContext.onItemLeave(event);\n\t\t}\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionItem), { value: { textValue: _ctx.textValue } }, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), mergeProps({\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\trole: \"menuitem\",\n\t\t\t\t\ttabindex: \"-1\"\n\t\t\t\t}, _ctx.$attrs, {\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\t\"aria-disabled\": _ctx.disabled || void 0,\n\t\t\t\t\t\"data-disabled\": _ctx.disabled ? \"\" : void 0,\n\t\t\t\t\t\"data-highlighted\": isFocused.value ? \"\" : void 0,\n\t\t\t\t\tonPointermove: handlePointerMove,\n\t\t\t\t\tonPointerleave: handlePointerLeave,\n\t\t\t\t\tonFocus: _cache[0] || (_cache[0] = async (event) => {\n\t\t\t\t\t\tawait nextTick();\n\t\t\t\t\t\tif (event.defaultPrevented || _ctx.disabled) return;\n\t\t\t\t\t\tisFocused.value = true;\n\t\t\t\t\t}),\n\t\t\t\t\tonBlur: _cache[1] || (_cache[1] = async (event) => {\n\t\t\t\t\t\tawait nextTick();\n\t\t\t\t\t\tif (event.defaultPrevented) return;\n\t\t\t\t\t\tisFocused.value = false;\n\t\t\t\t\t})\n\t\t\t\t}), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"aria-disabled\",\n\t\t\t\t\t\"data-disabled\",\n\t\t\t\t\t\"data-highlighted\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"value\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuItemImpl.vue\nvar MenuItemImpl_default = MenuItemImpl_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuItemImpl_default };\n//# sourceMappingURL=MenuItemImpl.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { ITEM_SELECT, SELECTION_KEYS } from \"./utils.js\";\nimport { injectMenuRootContext } from \"./MenuRoot.js\";\nimport { injectMenuContentContext } from \"./MenuContentImpl.js\";\nimport { MenuItemImpl_default } from \"./MenuItemImpl.js\";\nimport { createBlock, defineComponent, mergeProps, nextTick, openBlock, ref, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Menu/MenuItem.vue?vue&type=script&setup=true&lang.ts\nvar MenuItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuItem\",\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\ttextValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\"select\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tconst rootContext = injectMenuRootContext();\n\t\tconst contentContext = injectMenuContentContext();\n\t\tconst isPointerDownRef = ref(false);\n\t\tasync function handleSelect() {\n\t\t\tconst menuItem = currentElement.value;\n\t\t\tif (!props.disabled && menuItem) {\n\t\t\t\tconst itemSelectEvent = new CustomEvent(ITEM_SELECT, {\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcancelable: true\n\t\t\t\t});\n\t\t\t\temits(\"select\", itemSelectEvent);\n\t\t\t\tawait nextTick();\n\t\t\t\tif (itemSelectEvent.defaultPrevented) isPointerDownRef.value = false;\n\t\t\t\telse rootContext.onClose();\n\t\t\t}\n\t\t}\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(MenuItemImpl_default, mergeProps(props, {\n\t\t\t\tref: unref(forwardRef),\n\t\t\t\tonClick: handleSelect,\n\t\t\t\tonPointerdown: _cache[0] || (_cache[0] = () => {\n\t\t\t\t\tisPointerDownRef.value = true;\n\t\t\t\t}),\n\t\t\t\tonPointerup: _cache[1] || (_cache[1] = async (event) => {\n\t\t\t\t\tawait nextTick();\n\t\t\t\t\tif (event.defaultPrevented) return;\n\t\t\t\t\tif (!isPointerDownRef.value) event.currentTarget?.click();\n\t\t\t\t}),\n\t\t\t\tonKeydown: _cache[2] || (_cache[2] = async (event) => {\n\t\t\t\t\tconst isTypingAhead = unref(contentContext).searchRef.value !== \"\";\n\t\t\t\t\tif (_ctx.disabled || isTypingAhead && event.key === \" \") return;\n\t\t\t\t\tif (unref(SELECTION_KEYS).includes(event.key)) {\n\t\t\t\t\t\tevent.currentTarget.click();\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* We prevent default browser behaviour for selection keys as they should trigger\n\t\t\t\t\t\t* a selection only:\n\t\t\t\t\t\t* - prevents space from scrolling the page.\n\t\t\t\t\t\t* - if keydown causes focus to move, prevents keydown from firing on the new target.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuItem.vue\nvar MenuItem_default = MenuItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuItem_default };\n//# sourceMappingURL=MenuItem.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useForwardPropsEmits } from \"../shared/useForwardPropsEmits.js\";\nimport { useHideOthers } from \"../shared/useHideOthers.js\";\nimport { injectMenuContext } from \"./MenuRoot.js\";\nimport { MenuContentImpl_default } from \"./MenuContentImpl.js\";\nimport { createBlock, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx, withModifiers } from \"vue\";\n\n//#region src/Menu/MenuRootContentModal.vue?vue&type=script&setup=true&lang.ts\nvar MenuRootContentModal_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuRootContentModal\",\n\tprops: {\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\",\n\t\t\"entryFocus\",\n\t\t\"openAutoFocus\",\n\t\t\"closeAutoFocus\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst forwarded = useForwardPropsEmits(props, emits);\n\t\tconst menuContext = injectMenuContext();\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tuseHideOthers(currentElement);\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(MenuContentImpl_default, mergeProps(unref(forwarded), {\n\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\"trap-focus\": unref(menuContext).open.value,\n\t\t\t\t\"disable-outside-pointer-events\": unref(menuContext).open.value,\n\t\t\t\t\"disable-outside-scroll\": true,\n\t\t\t\tonDismiss: _cache[0] || (_cache[0] = ($event) => unref(menuContext).onOpenChange(false)),\n\t\t\t\tonFocusOutside: _cache[1] || (_cache[1] = withModifiers(($event) => emits(\"focusOutside\", $event), [\"prevent\"]))\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"trap-focus\", \"disable-outside-pointer-events\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuRootContentModal.vue\nvar MenuRootContentModal_default = MenuRootContentModal_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuRootContentModal_default };\n//# sourceMappingURL=MenuRootContentModal.js.map","import { useForwardPropsEmits } from \"../shared/useForwardPropsEmits.js\";\nimport { injectMenuContext } from \"./MenuRoot.js\";\nimport { MenuContentImpl_default } from \"./MenuContentImpl.js\";\nimport { createBlock, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Menu/MenuRootContentNonModal.vue?vue&type=script&setup=true&lang.ts\nvar MenuRootContentNonModal_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuRootContentNonModal\",\n\tprops: {\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\",\n\t\t\"entryFocus\",\n\t\t\"openAutoFocus\",\n\t\t\"closeAutoFocus\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst forwarded = useForwardPropsEmits(props, emits);\n\t\tconst menuContext = injectMenuContext();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(MenuContentImpl_default, mergeProps(unref(forwarded), {\n\t\t\t\t\"trap-focus\": false,\n\t\t\t\t\"disable-outside-pointer-events\": false,\n\t\t\t\t\"disable-outside-scroll\": false,\n\t\t\t\tonDismiss: _cache[0] || (_cache[0] = ($event) => unref(menuContext).onOpenChange(false))\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuRootContentNonModal.vue\nvar MenuRootContentNonModal_default = MenuRootContentNonModal_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuRootContentNonModal_default };\n//# sourceMappingURL=MenuRootContentNonModal.js.map","import { useForwardPropsEmits } from \"../shared/useForwardPropsEmits.js\";\nimport { Presence_default } from \"../Presence/Presence.js\";\nimport { injectMenuContext, injectMenuRootContext } from \"./MenuRoot.js\";\nimport { MenuRootContentModal_default } from \"./MenuRootContentModal.js\";\nimport { MenuRootContentNonModal_default } from \"./MenuRootContentNonModal.js\";\nimport { createBlock, createCommentVNode, defineComponent, guardReactiveProps, mergeProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Menu/MenuContent.vue?vue&type=script&setup=true&lang.ts\nvar MenuContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuContent\",\n\tprops: {\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\",\n\t\t\"entryFocus\",\n\t\t\"openAutoFocus\",\n\t\t\"closeAutoFocus\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst forwarded = useForwardPropsEmits(props, emits);\n\t\tconst menuContext = injectMenuContext();\n\t\tconst rootContext = injectMenuRootContext();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Presence_default), { present: _ctx.forceMount || unref(menuContext).open.value }, {\n\t\t\t\tdefault: withCtx(() => [unref(rootContext).modal.value ? (openBlock(), createBlock(MenuRootContentModal_default, normalizeProps(mergeProps({ key: 0 }, {\n\t\t\t\t\t..._ctx.$attrs,\n\t\t\t\t\t...unref(forwarded)\n\t\t\t\t})), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16)) : (openBlock(), createBlock(MenuRootContentNonModal_default, normalizeProps(mergeProps({ key: 1 }, {\n\t\t\t\t\t..._ctx.$attrs,\n\t\t\t\t\t...unref(forwarded)\n\t\t\t\t})), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16))]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"present\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuContent.vue\nvar MenuContent_default = MenuContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuContent_default };\n//# sourceMappingURL=MenuContent.js.map","import { Primitive } from \"../Primitive/Primitive.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Menu/MenuLabel.vue?vue&type=script&setup=true&lang.ts\nvar MenuLabel_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuLabel\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"div\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuLabel.vue\nvar MenuLabel_default = MenuLabel_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuLabel_default };\n//# sourceMappingURL=MenuLabel.js.map","import { Teleport_default } from \"../Teleport/Teleport.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Menu/MenuPortal.vue?vue&type=script&setup=true&lang.ts\nvar MenuPortal_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuPortal\",\n\tprops: {\n\t\tto: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdefer: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Teleport_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuPortal.vue\nvar MenuPortal_default = MenuPortal_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuPortal_default };\n//# sourceMappingURL=MenuPortal.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { PopperRoot_default } from \"../Popper/PopperRoot.js\";\nimport { injectMenuContext, provideMenuContext } from \"./MenuRoot.js\";\nimport { createBlock, defineComponent, openBlock, ref, renderSlot, unref, watchEffect, withCtx } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/Menu/MenuSub.vue?vue&type=script&setup=true&lang.ts\nconst [injectMenuSubContext, provideMenuSubContext] = createContext(\"MenuSub\");\nvar MenuSub_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuSub\",\n\tprops: { open: {\n\t\ttype: Boolean,\n\t\trequired: false,\n\t\tdefault: void 0\n\t} },\n\temits: [\"update:open\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst open = useVModel(props, \"open\", emits, {\n\t\t\tdefaultValue: false,\n\t\t\tpassive: props.open === void 0\n\t\t});\n\t\tconst parentMenuContext = injectMenuContext();\n\t\tconst trigger = ref();\n\t\tconst content = ref();\n\t\twatchEffect((cleanupFn) => {\n\t\t\tif (parentMenuContext?.open.value === false) open.value = false;\n\t\t\tcleanupFn(() => open.value = false);\n\t\t});\n\t\tprovideMenuContext({\n\t\t\topen,\n\t\t\tonOpenChange: (value) => {\n\t\t\t\topen.value = value;\n\t\t\t},\n\t\t\tcontent,\n\t\t\tonContentChange: (element) => {\n\t\t\t\tcontent.value = element;\n\t\t\t}\n\t\t});\n\t\tprovideMenuSubContext({\n\t\t\ttriggerId: \"\",\n\t\t\tcontentId: \"\",\n\t\t\ttrigger,\n\t\t\tonTriggerChange: (element) => {\n\t\t\t\ttrigger.value = element;\n\t\t\t}\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(PopperRoot_default), null, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuSub.vue\nvar MenuSub_default = MenuSub_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuSub_default, injectMenuSubContext };\n//# sourceMappingURL=MenuSub.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useForwardPropsEmits } from \"../shared/useForwardPropsEmits.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Presence_default } from \"../Presence/Presence.js\";\nimport { SUB_CLOSE_KEYS } from \"./utils.js\";\nimport { injectMenuContext, injectMenuRootContext } from \"./MenuRoot.js\";\nimport { MenuContentImpl_default } from \"./MenuContentImpl.js\";\nimport { injectMenuSubContext } from \"./MenuSub.js\";\nimport { createBlock, createVNode, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx, withModifiers } from \"vue\";\n\n//#region src/Menu/MenuSubContent.vue?vue&type=script&setup=true&lang.ts\nvar MenuSubContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuSubContent\",\n\tprops: {\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\",\n\t\t\"entryFocus\",\n\t\t\"openAutoFocus\",\n\t\t\"closeAutoFocus\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst forwarded = useForwardPropsEmits(props, emits);\n\t\tconst menuContext = injectMenuContext();\n\t\tconst rootContext = injectMenuRootContext();\n\t\tconst menuSubContext = injectMenuSubContext();\n\t\tconst { forwardRef, currentElement: subContentElement } = useForwardExpose();\n\t\tmenuSubContext.contentId ||= useId(void 0, \"reka-menu-sub-content\");\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Presence_default), { present: _ctx.forceMount || unref(menuContext).open.value }, {\n\t\t\t\tdefault: withCtx(() => [createVNode(MenuContentImpl_default, mergeProps(unref(forwarded), {\n\t\t\t\t\tid: unref(menuSubContext).contentId,\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\t\"aria-labelledby\": unref(menuSubContext).triggerId,\n\t\t\t\t\talign: \"start\",\n\t\t\t\t\tside: unref(rootContext).dir.value === \"rtl\" ? \"left\" : \"right\",\n\t\t\t\t\t\"disable-outside-pointer-events\": false,\n\t\t\t\t\t\"disable-outside-scroll\": false,\n\t\t\t\t\t\"trap-focus\": false,\n\t\t\t\t\tonOpenAutoFocus: _cache[0] || (_cache[0] = withModifiers((event) => {\n\t\t\t\t\t\tif (unref(rootContext).isUsingKeyboardRef.value) unref(subContentElement)?.focus();\n\t\t\t\t\t}, [\"prevent\"])),\n\t\t\t\t\tonCloseAutoFocus: _cache[1] || (_cache[1] = withModifiers(() => {}, [\"prevent\"])),\n\t\t\t\t\tonFocusOutside: _cache[2] || (_cache[2] = (event) => {\n\t\t\t\t\t\tif (event.defaultPrevented) return;\n\t\t\t\t\t\tif (event.target !== unref(menuSubContext).trigger.value) unref(menuContext).onOpenChange(false);\n\t\t\t\t\t}),\n\t\t\t\t\tonEscapeKeyDown: _cache[3] || (_cache[3] = (event) => {\n\t\t\t\t\t\tunref(rootContext).onClose();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}),\n\t\t\t\t\tonKeydown: _cache[4] || (_cache[4] = (event) => {\n\t\t\t\t\t\tconst isKeyDownInside = event.currentTarget?.contains(event.target);\n\t\t\t\t\t\tconst isCloseKey = unref(SUB_CLOSE_KEYS)[unref(rootContext).dir.value].includes(event.key);\n\t\t\t\t\t\tif (isKeyDownInside && isCloseKey) {\n\t\t\t\t\t\t\tunref(menuContext).onOpenChange(false);\n\t\t\t\t\t\t\tunref(menuSubContext).trigger.value?.focus();\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\n\t\t\t\t\t\"id\",\n\t\t\t\t\t\"aria-labelledby\",\n\t\t\t\t\t\"side\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"present\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuSubContent.vue\nvar MenuSubContent_default = MenuSubContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuSubContent_default };\n//# sourceMappingURL=MenuSubContent.js.map","import { useId } from \"../shared/useId.js\";\nimport { SUB_OPEN_KEYS, getOpenState, isMouseEvent } from \"./utils.js\";\nimport { MenuAnchor_default } from \"./MenuAnchor.js\";\nimport { injectMenuContext, injectMenuRootContext } from \"./MenuRoot.js\";\nimport { injectMenuContentContext } from \"./MenuContentImpl.js\";\nimport { MenuItemImpl_default } from \"./MenuItemImpl.js\";\nimport { injectMenuSubContext } from \"./MenuSub.js\";\nimport { createBlock, createVNode, defineComponent, mergeProps, nextTick, onUnmounted, openBlock, ref, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Menu/MenuSubTrigger.vue?vue&type=script&setup=true&lang.ts\nvar MenuSubTrigger_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"MenuSubTrigger\",\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\ttextValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst menuContext = injectMenuContext();\n\t\tconst rootContext = injectMenuRootContext();\n\t\tconst subContext = injectMenuSubContext();\n\t\tconst contentContext = injectMenuContentContext();\n\t\tconst openTimerRef = ref(null);\n\t\tsubContext.triggerId ||= useId(void 0, \"reka-menu-sub-trigger\");\n\t\tfunction clearOpenTimer() {\n\t\t\tif (openTimerRef.value) window.clearTimeout(openTimerRef.value);\n\t\t\topenTimerRef.value = null;\n\t\t}\n\t\tonUnmounted(() => {\n\t\t\tclearOpenTimer();\n\t\t});\n\t\tfunction handlePointerMove(event) {\n\t\t\tif (!isMouseEvent(event)) return;\n\t\t\tconst defaultPrevented = contentContext.onItemEnter(event);\n\t\t\tif (defaultPrevented) return;\n\t\t\tif (!props.disabled && !menuContext.open.value && !openTimerRef.value) {\n\t\t\t\tcontentContext.onPointerGraceIntentChange(null);\n\t\t\t\topenTimerRef.value = window.setTimeout(() => {\n\t\t\t\t\tmenuContext.onOpenChange(true);\n\t\t\t\t\tclearOpenTimer();\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t}\n\t\tasync function handlePointerLeave(event) {\n\t\t\tif (!isMouseEvent(event)) return;\n\t\t\tclearOpenTimer();\n\t\t\tconst contentRect = menuContext.content.value?.getBoundingClientRect();\n\t\t\tif (contentRect?.width) {\n\t\t\t\tconst side = menuContext.content.value?.dataset.side;\n\t\t\t\tconst rightSide = side === \"right\";\n\t\t\t\tconst bleed = rightSide ? -5 : 5;\n\t\t\t\tconst contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n\t\t\t\tconst contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n\t\t\t\tcontentContext.onPointerGraceIntentChange({\n\t\t\t\t\tarea: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: event.clientX + bleed,\n\t\t\t\t\t\t\ty: event.clientY\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: contentNearEdge,\n\t\t\t\t\t\t\ty: contentRect.top\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: contentFarEdge,\n\t\t\t\t\t\t\ty: contentRect.top\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: contentFarEdge,\n\t\t\t\t\t\t\ty: contentRect.bottom\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: contentNearEdge,\n\t\t\t\t\t\t\ty: contentRect.bottom\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tside\n\t\t\t\t});\n\t\t\t\twindow.clearTimeout(contentContext.pointerGraceTimerRef.value);\n\t\t\t\tcontentContext.pointerGraceTimerRef.value = window.setTimeout(() => contentContext.onPointerGraceIntentChange(null), 300);\n\t\t\t} else {\n\t\t\t\tconst defaultPrevented = contentContext.onTriggerLeave(event);\n\t\t\t\tif (defaultPrevented) return;\n\t\t\t\tcontentContext.onPointerGraceIntentChange(null);\n\t\t\t}\n\t\t}\n\t\tasync function handleKeyDown(event) {\n\t\t\tconst isTypingAhead = contentContext.searchRef.value !== \"\";\n\t\t\tif (props.disabled || isTypingAhead && event.key === \" \") return;\n\t\t\tif (SUB_OPEN_KEYS[rootContext.dir.value].includes(event.key)) {\n\t\t\t\tmenuContext.onOpenChange(true);\n\t\t\t\tawait nextTick();\n\t\t\t\tmenuContext.content.value?.focus();\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(MenuAnchor_default, { \"as-child\": \"\" }, {\n\t\t\t\tdefault: withCtx(() => [createVNode(MenuItemImpl_default, mergeProps(props, {\n\t\t\t\t\tid: unref(subContext).triggerId,\n\t\t\t\t\tref: (vnode) => {\n\t\t\t\t\t\tunref(subContext)?.onTriggerChange(vnode?.$el);\n\t\t\t\t\t\treturn void 0;\n\t\t\t\t\t},\n\t\t\t\t\t\"aria-haspopup\": \"menu\",\n\t\t\t\t\t\"aria-expanded\": unref(menuContext).open.value,\n\t\t\t\t\t\"aria-controls\": unref(subContext).contentId,\n\t\t\t\t\t\"data-state\": unref(getOpenState)(unref(menuContext).open.value),\n\t\t\t\t\tonClick: _cache[0] || (_cache[0] = async (event) => {\n\t\t\t\t\t\tif (props.disabled || event.defaultPrevented) return;\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t* We manually focus because iOS Safari doesn't always focus on click (e.g. buttons)\n\t\t\t\t\t\t* and we rely heavily on `onFocusOutside` for submenus to close when switching\n\t\t\t\t\t\t* between separate submenus.\n\t\t\t\t\t\t*/\n\t\t\t\t\t\tevent.currentTarget.focus();\n\t\t\t\t\t\tif (!unref(menuContext).open.value) unref(menuContext).onOpenChange(true);\n\t\t\t\t\t}),\n\t\t\t\t\tonPointermove: handlePointerMove,\n\t\t\t\t\tonPointerleave: handlePointerLeave,\n\t\t\t\t\tonKeydown: handleKeyDown\n\t\t\t\t}), {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 16, [\n\t\t\t\t\t\"id\",\n\t\t\t\t\t\"aria-expanded\",\n\t\t\t\t\t\"aria-controls\",\n\t\t\t\t\t\"data-state\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Menu/MenuSubTrigger.vue\nvar MenuSubTrigger_default = MenuSubTrigger_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { MenuSubTrigger_default };\n//# sourceMappingURL=MenuSubTrigger.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useDirection } from \"../shared/useDirection.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { MenuRoot_default } from \"../Menu/MenuRoot.js\";\nimport { createBlock, defineComponent, isRef, openBlock, ref, renderSlot, toRefs, unref, withCtx } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/DropdownMenu/DropdownMenuRoot.vue?vue&type=script&setup=true&lang.ts\nconst [injectDropdownMenuRootContext, provideDropdownMenuRootContext] = createContext(\"DropdownMenuRoot\");\nvar DropdownMenuRoot_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuRoot\",\n\tprops: {\n\t\tdefaultOpen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\topen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\tdir: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tmodal: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t}\n\t},\n\temits: [\"update:open\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emit = __emit;\n\t\tuseForwardExpose();\n\t\tconst open = useVModel(props, \"open\", emit, {\n\t\t\tdefaultValue: props.defaultOpen,\n\t\t\tpassive: props.open === void 0\n\t\t});\n\t\tconst triggerElement = ref();\n\t\tconst { modal, dir: propDir } = toRefs(props);\n\t\tconst dir = useDirection(propDir);\n\t\tprovideDropdownMenuRootContext({\n\t\t\topen,\n\t\t\tonOpenChange: (value) => {\n\t\t\t\topen.value = value;\n\t\t\t},\n\t\t\tonOpenToggle: () => {\n\t\t\t\topen.value = !open.value;\n\t\t\t},\n\t\t\ttriggerId: \"\",\n\t\t\ttriggerElement,\n\t\t\tcontentId: \"\",\n\t\t\tmodal,\n\t\t\tdir\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuRoot_default), {\n\t\t\t\topen: unref(open),\n\t\t\t\t\"onUpdate:open\": _cache[0] || (_cache[0] = ($event) => isRef(open) ? open.value = $event : null),\n\t\t\t\tdir: unref(dir),\n\t\t\t\tmodal: unref(modal)\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", { open: unref(open) })]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"open\",\n\t\t\t\t\"dir\",\n\t\t\t\t\"modal\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuRoot.vue\nvar DropdownMenuRoot_default = DropdownMenuRoot_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuRoot_default, injectDropdownMenuRootContext };\n//# sourceMappingURL=DropdownMenuRoot.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useForwardPropsEmits } from \"../shared/useForwardPropsEmits.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { MenuContent_default } from \"../Menu/MenuContent.js\";\nimport { injectDropdownMenuRootContext } from \"./DropdownMenuRoot.js\";\nimport { createBlock, defineComponent, mergeProps, openBlock, ref, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/DropdownMenu/DropdownMenuContent.vue?vue&type=script&setup=true&lang.ts\nvar DropdownMenuContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuContent\",\n\tprops: {\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tside: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talign: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\",\n\t\t\"closeAutoFocus\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst forwarded = useForwardPropsEmits(props, emits);\n\t\tuseForwardExpose();\n\t\tconst rootContext = injectDropdownMenuRootContext();\n\t\tconst hasInteractedOutsideRef = ref(false);\n\t\tfunction handleCloseAutoFocus(event) {\n\t\t\tif (event.defaultPrevented) return;\n\t\t\tif (!hasInteractedOutsideRef.value) setTimeout(() => {\n\t\t\t\trootContext.triggerElement.value?.focus();\n\t\t\t}, 0);\n\t\t\thasInteractedOutsideRef.value = false;\n\t\t\tevent.preventDefault();\n\t\t}\n\t\trootContext.contentId ||= useId(void 0, \"reka-dropdown-menu-content\");\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuContent_default), mergeProps(unref(forwarded), {\n\t\t\t\tid: unref(rootContext).contentId,\n\t\t\t\t\"aria-labelledby\": unref(rootContext)?.triggerId,\n\t\t\t\tstyle: {\n\t\t\t\t\t\"--reka-dropdown-menu-content-transform-origin\": \"var(--reka-popper-transform-origin)\",\n\t\t\t\t\t\"--reka-dropdown-menu-content-available-width\": \"var(--reka-popper-available-width)\",\n\t\t\t\t\t\"--reka-dropdown-menu-content-available-height\": \"var(--reka-popper-available-height)\",\n\t\t\t\t\t\"--reka-dropdown-menu-trigger-width\": \"var(--reka-popper-anchor-width)\",\n\t\t\t\t\t\"--reka-dropdown-menu-trigger-height\": \"var(--reka-popper-anchor-height)\"\n\t\t\t\t},\n\t\t\t\tonCloseAutoFocus: handleCloseAutoFocus,\n\t\t\t\tonInteractOutside: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\tif (event.defaultPrevented) return;\n\t\t\t\t\tconst originalEvent = event.detail.originalEvent;\n\t\t\t\t\tconst ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n\t\t\t\t\tconst isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n\t\t\t\t\tif (!unref(rootContext).modal.value || isRightClick) hasInteractedOutsideRef.value = true;\n\t\t\t\t\tif (unref(rootContext).triggerElement.value?.contains(event.target)) event.preventDefault();\n\t\t\t\t})\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"id\", \"aria-labelledby\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuContent.vue\nvar DropdownMenuContent_default = DropdownMenuContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuContent_default };\n//# sourceMappingURL=DropdownMenuContent.js.map","import { useEmitAsProps } from \"../shared/useEmitAsProps.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { MenuItem_default } from \"../Menu/MenuItem.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/DropdownMenu/DropdownMenuItem.vue?vue&type=script&setup=true&lang.ts\nvar DropdownMenuItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuItem\",\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\ttextValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\"select\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst emitsAsProps = useEmitAsProps(emits);\n\t\tuseForwardExpose();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuItem_default), normalizeProps(guardReactiveProps({\n\t\t\t\t...props,\n\t\t\t\t...unref(emitsAsProps)\n\t\t\t})), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuItem.vue\nvar DropdownMenuItem_default = DropdownMenuItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuItem_default };\n//# sourceMappingURL=DropdownMenuItem.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { MenuLabel_default } from \"../Menu/MenuLabel.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/DropdownMenu/DropdownMenuLabel.vue?vue&type=script&setup=true&lang.ts\nvar DropdownMenuLabel_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuLabel\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tuseForwardExpose();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuLabel_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuLabel.vue\nvar DropdownMenuLabel_default = DropdownMenuLabel_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuLabel_default };\n//# sourceMappingURL=DropdownMenuLabel.js.map","import { MenuPortal_default } from \"../Menu/MenuPortal.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/DropdownMenu/DropdownMenuPortal.vue?vue&type=script&setup=true&lang.ts\nvar DropdownMenuPortal_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuPortal\",\n\tprops: {\n\t\tto: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tdefer: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuPortal_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuPortal.vue\nvar DropdownMenuPortal_default = DropdownMenuPortal_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuPortal_default };\n//# sourceMappingURL=DropdownMenuPortal.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { MenuSub_default } from \"../Menu/MenuSub.js\";\nimport { createBlock, defineComponent, isRef, openBlock, renderSlot, unref, withCtx } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/DropdownMenu/DropdownMenuSub.vue?vue&type=script&setup=true&lang.ts\nvar DropdownMenuSub_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuSub\",\n\tprops: {\n\t\tdefaultOpen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\topen: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t}\n\t},\n\temits: [\"update:open\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emit = __emit;\n\t\tconst open = useVModel(props, \"open\", emit, {\n\t\t\tpassive: props.open === void 0,\n\t\t\tdefaultValue: props.defaultOpen ?? false\n\t\t});\n\t\tuseForwardExpose();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuSub_default), {\n\t\t\t\topen: unref(open),\n\t\t\t\t\"onUpdate:open\": _cache[0] || (_cache[0] = ($event) => isRef(open) ? open.value = $event : null)\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", { open: unref(open) })]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"open\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuSub.vue\nvar DropdownMenuSub_default = DropdownMenuSub_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuSub_default };\n//# sourceMappingURL=DropdownMenuSub.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useForwardPropsEmits } from \"../shared/useForwardPropsEmits.js\";\nimport { MenuSubContent_default } from \"../Menu/MenuSubContent.js\";\nimport { createBlock, defineComponent, mergeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/DropdownMenu/DropdownMenuSubContent.vue?vue&type=script&setup=true&lang.ts\nvar DropdownMenuSubContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuSubContent\",\n\tprops: {\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tsideOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsideFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\talignOffset: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\talignFlip: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tavoidCollisions: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionBoundary: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tcollisionPadding: {\n\t\t\ttype: [Number, Object],\n\t\t\trequired: false\n\t\t},\n\t\tarrowPadding: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\tsticky: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\thideWhenDetached: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tpositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tupdatePositionStrategy: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tdisableUpdateOnLayoutShift: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tprioritizePosition: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\treference: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\n\t\t\"escapeKeyDown\",\n\t\t\"pointerDownOutside\",\n\t\t\"focusOutside\",\n\t\t\"interactOutside\",\n\t\t\"entryFocus\",\n\t\t\"openAutoFocus\",\n\t\t\"closeAutoFocus\"\n\t],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst forwarded = useForwardPropsEmits(props, emits);\n\t\tuseForwardExpose();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuSubContent_default), mergeProps(unref(forwarded), { style: {\n\t\t\t\t\"--reka-dropdown-menu-content-transform-origin\": \"var(--reka-popper-transform-origin)\",\n\t\t\t\t\"--reka-dropdown-menu-content-available-width\": \"var(--reka-popper-available-width)\",\n\t\t\t\t\"--reka-dropdown-menu-content-available-height\": \"var(--reka-popper-available-height)\",\n\t\t\t\t\"--reka-dropdown-menu-trigger-width\": \"var(--reka-popper-anchor-width)\",\n\t\t\t\t\"--reka-dropdown-menu-trigger-height\": \"var(--reka-popper-anchor-height)\"\n\t\t\t} }), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuSubContent.vue\nvar DropdownMenuSubContent_default = DropdownMenuSubContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuSubContent_default };\n//# sourceMappingURL=DropdownMenuSubContent.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { MenuSubTrigger_default } from \"../Menu/MenuSubTrigger.js\";\nimport { createBlock, defineComponent, guardReactiveProps, normalizeProps, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/DropdownMenu/DropdownMenuSubTrigger.vue?vue&type=script&setup=true&lang.ts\nvar DropdownMenuSubTrigger_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuSubTrigger\",\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\ttextValue: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tuseForwardExpose();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuSubTrigger_default), normalizeProps(guardReactiveProps(props)), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuSubTrigger.vue\nvar DropdownMenuSubTrigger_default = DropdownMenuSubTrigger_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuSubTrigger_default };\n//# sourceMappingURL=DropdownMenuSubTrigger.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { MenuAnchor_default } from \"../Menu/MenuAnchor.js\";\nimport { injectDropdownMenuRootContext } from \"./DropdownMenuRoot.js\";\nimport { createBlock, createVNode, defineComponent, nextTick, onMounted, openBlock, renderSlot, unref, withCtx, withKeys } from \"vue\";\n\n//#region src/DropdownMenu/DropdownMenuTrigger.vue?vue&type=script&setup=true&lang.ts\nvar DropdownMenuTrigger_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"DropdownMenuTrigger\",\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"button\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst rootContext = injectDropdownMenuRootContext();\n\t\tconst { forwardRef, currentElement: triggerElement } = useForwardExpose();\n\t\tonMounted(() => {\n\t\t\trootContext.triggerElement = triggerElement;\n\t\t});\n\t\trootContext.triggerId ||= useId(void 0, \"reka-dropdown-menu-trigger\");\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(MenuAnchor_default), { \"as-child\": \"\" }, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\tid: unref(rootContext).triggerId,\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\ttype: _ctx.as === \"button\" ? \"button\" : void 0,\n\t\t\t\t\t\"as-child\": props.asChild,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"aria-haspopup\": \"menu\",\n\t\t\t\t\t\"aria-expanded\": unref(rootContext).open.value,\n\t\t\t\t\t\"aria-controls\": unref(rootContext).open.value ? unref(rootContext).contentId : void 0,\n\t\t\t\t\t\"data-disabled\": _ctx.disabled ? \"\" : void 0,\n\t\t\t\t\tdisabled: _ctx.disabled,\n\t\t\t\t\t\"data-state\": unref(rootContext).open.value ? \"open\" : \"closed\",\n\t\t\t\t\tonClick: _cache[0] || (_cache[0] = async (event) => {\n\t\t\t\t\t\tif (!_ctx.disabled && event.button === 0 && event.ctrlKey === false) {\n\t\t\t\t\t\t\tunref(rootContext)?.onOpenToggle();\n\t\t\t\t\t\t\tawait nextTick();\n\t\t\t\t\t\t\tif (unref(rootContext).open.value) event.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tonKeydown: _cache[1] || (_cache[1] = withKeys((event) => {\n\t\t\t\t\t\tif (_ctx.disabled) return;\n\t\t\t\t\t\tif ([\"Enter\", \" \"].includes(event.key)) unref(rootContext).onOpenToggle();\n\t\t\t\t\t\tif (event.key === \"ArrowDown\") unref(rootContext).onOpenChange(true);\n\t\t\t\t\t\tif ([\n\t\t\t\t\t\t\t\"Enter\",\n\t\t\t\t\t\t\t\" \",\n\t\t\t\t\t\t\t\"ArrowDown\"\n\t\t\t\t\t\t].includes(event.key)) event.preventDefault();\n\t\t\t\t\t}, [\n\t\t\t\t\t\t\"enter\",\n\t\t\t\t\t\t\"space\",\n\t\t\t\t\t\t\"arrow-down\"\n\t\t\t\t\t]))\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"id\",\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"aria-expanded\",\n\t\t\t\t\t\"aria-controls\",\n\t\t\t\t\t\"data-disabled\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"data-state\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/DropdownMenu/DropdownMenuTrigger.vue\nvar DropdownMenuTrigger_default = DropdownMenuTrigger_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { DropdownMenuTrigger_default };\n//# sourceMappingURL=DropdownMenuTrigger.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useFormControl } from \"../shared/useFormControl.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { VisuallyHiddenInput_default } from \"../VisuallyHidden/VisuallyHiddenInput.js\";\nimport { computed, createBlock, createCommentVNode, defineComponent, mergeProps, openBlock, renderSlot, toRefs, unref, withCtx, withKeys, withModifiers } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/Switch/SwitchRoot.vue?vue&type=script&setup=true&lang.ts\nconst [injectSwitchRootContext, provideSwitchRootContext] = createContext(\"SwitchRoot\");\nvar SwitchRoot_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"SwitchRoot\",\n\tprops: {\n\t\tdefaultValue: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: [Boolean, null],\n\t\t\trequired: false,\n\t\t\tdefault: void 0\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"on\"\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"button\"\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\"update:modelValue\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emit = __emit;\n\t\tconst { disabled } = toRefs(props);\n\t\tconst modelValue = useVModel(props, \"modelValue\", emit, {\n\t\t\tdefaultValue: props.defaultValue,\n\t\t\tpassive: props.modelValue === void 0\n\t\t});\n\t\tfunction toggleCheck() {\n\t\t\tif (disabled.value) return;\n\t\t\tmodelValue.value = !modelValue.value;\n\t\t}\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tconst isFormControl = useFormControl(currentElement);\n\t\tconst ariaLabel = computed(() => props.id && currentElement.value ? document.querySelector(`[for=\"${props.id}\"]`)?.innerText : void 0);\n\t\tprovideSwitchRootContext({\n\t\t\tmodelValue,\n\t\t\ttoggleCheck,\n\t\t\tdisabled\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), mergeProps(_ctx.$attrs, {\n\t\t\t\tid: _ctx.id,\n\t\t\t\tref: unref(forwardRef),\n\t\t\t\trole: \"switch\",\n\t\t\t\ttype: _ctx.as === \"button\" ? \"button\" : void 0,\n\t\t\t\tvalue: _ctx.value,\n\t\t\t\t\"aria-label\": _ctx.$attrs[\"aria-label\"] || ariaLabel.value,\n\t\t\t\t\"aria-checked\": unref(modelValue),\n\t\t\t\t\"aria-required\": _ctx.required,\n\t\t\t\t\"data-state\": unref(modelValue) ? \"checked\" : \"unchecked\",\n\t\t\t\t\"data-disabled\": unref(disabled) ? \"\" : void 0,\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\tas: _ctx.as,\n\t\t\t\tdisabled: unref(disabled),\n\t\t\t\tonClick: toggleCheck,\n\t\t\t\tonKeydown: withKeys(withModifiers(toggleCheck, [\"prevent\"]), [\"enter\"])\n\t\t\t}), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", { modelValue: unref(modelValue) }), unref(isFormControl) && _ctx.name ? (openBlock(), createBlock(unref(VisuallyHiddenInput_default), {\n\t\t\t\t\tkey: 0,\n\t\t\t\t\ttype: \"checkbox\",\n\t\t\t\t\tname: _ctx.name,\n\t\t\t\t\tdisabled: unref(disabled),\n\t\t\t\t\trequired: _ctx.required,\n\t\t\t\t\tvalue: _ctx.value,\n\t\t\t\t\tchecked: !!unref(modelValue)\n\t\t\t\t}, null, 8, [\n\t\t\t\t\t\"name\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"required\",\n\t\t\t\t\t\"value\",\n\t\t\t\t\t\"checked\"\n\t\t\t\t])) : createCommentVNode(\"v-if\", true)]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\n\t\t\t\t\"id\",\n\t\t\t\t\"type\",\n\t\t\t\t\"value\",\n\t\t\t\t\"aria-label\",\n\t\t\t\t\"aria-checked\",\n\t\t\t\t\"aria-required\",\n\t\t\t\t\"data-state\",\n\t\t\t\t\"data-disabled\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"as\",\n\t\t\t\t\"disabled\",\n\t\t\t\t\"onKeydown\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Switch/SwitchRoot.vue\nvar SwitchRoot_default = SwitchRoot_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { SwitchRoot_default, injectSwitchRootContext };\n//# sourceMappingURL=SwitchRoot.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectSwitchRootContext } from \"./SwitchRoot.js\";\nimport { createBlock, defineComponent, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Switch/SwitchThumb.vue?vue&type=script&setup=true&lang.ts\nvar SwitchThumb_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"SwitchThumb\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"span\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst rootContext = injectSwitchRootContext();\n\t\tuseForwardExpose();\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), {\n\t\t\t\t\"data-state\": unref(rootContext).modelValue?.value ? \"checked\" : \"unchecked\",\n\t\t\t\t\"data-disabled\": unref(rootContext).disabled.value ? \"\" : void 0,\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\tas: _ctx.as\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"data-state\",\n\t\t\t\t\"data-disabled\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"as\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Switch/SwitchThumb.vue\nvar SwitchThumb_default = SwitchThumb_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { SwitchThumb_default };\n//# sourceMappingURL=SwitchThumb.js.map","<template>\n  <div\n    class=\"relative inline-block shrink-0\"\n    :class=\"[sizeClasses, shapeClasses]\"\n  >\n    <img\n      v-if=\"image && !imgFetchError\"\n      :src=\"image\"\n      :alt=\"label\"\n      :class=\"[shapeClasses, 'h-full w-full object-cover']\"\n      @error=\"(err) => handleImageError(err)\"\n    />\n    <div\n      v-else\n      class=\"flex h-full w-full items-center justify-center bg-surface-gray-2 uppercase text-ink-gray-5 select-none\"\n      :class=\"[labelClasses, shapeClasses]\"\n    >\n      <div :class=\"iconClasses\" v-if=\"$slots.default\">\n        <slot></slot>\n      </div>\n      <template v-else>\n        {{ label && label[0] }}\n      </template>\n    </div>\n    <div\n      v-if=\"$slots.indicator\"\n      :class=\"[\n        'absolute bottom-0 right-0 grid place-items-center rounded-full bg-surface-white',\n        indicatorContainerClasses,\n      ]\"\n    >\n      <div :class=\"indicatorClasses\">\n        <slot name=\"indicator\"></slot>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed } from 'vue'\nimport type { AvatarProps } from './types'\n\nconst imgFetchError = ref(false)\n\nconst props = withDefaults(defineProps<AvatarProps>(), {\n  size: 'md',\n  shape: 'circle',\n})\n\nconst shapeClasses = computed(() => {\n  return {\n    circle: 'rounded-full',\n    square: {\n      xs: 'rounded-[4px]',\n      sm: 'rounded-[5px]',\n      md: 'rounded-[5px]',\n      lg: 'rounded-[6px]',\n      xl: 'rounded-[6px]',\n      '2xl': 'rounded-[8px]',\n      '3xl': 'rounded-[10px]',\n    }[props.size],\n  }[props.shape]\n})\n\nconst sizeClasses = computed(() => {\n  return {\n    xs: 'w-4 h-4',\n    sm: 'w-5 h-5',\n    md: 'w-6 h-6',\n    lg: 'w-7 h-7',\n    xl: 'w-8 h-8',\n    '2xl': 'w-10 h-10',\n    '3xl': 'w-11.5 h-11.5',\n  }[props.size]\n})\n\nconst labelClasses = computed(() => {\n  let sizeClass = {\n    xs: 'text-2xs',\n    sm: 'text-sm',\n    md: 'text-base',\n    lg: 'text-base',\n    xl: 'text-lg',\n    '2xl': 'text-xl',\n    '3xl': 'text-2xl',\n  }[props.size]\n  return ['font-medium', sizeClass]\n})\n\nconst indicatorContainerClasses = computed(() => {\n  return {\n    xs: '-mr-[.1rem] -mb-[.1rem] h-2 w-2',\n    sm: '-mr-[.1rem] -mb-[.1rem] h-[9px] w-[9px]',\n    md: '-mr-[.1rem] -mb-[.1rem] h-2.5 w-2.5',\n    lg: '-mr-[.1rem] -mb-[.1rem] h-3 w-3',\n    xl: '-mr-[.1rem] -mb-[.1rem] h-3 w-3',\n    '2xl': '-mr-[.1rem] -mb-[.1rem] h-3.5 w-3.5',\n    '3xl': '-mr-[.2rem] -mb-[.2rem] h-4 w-4',\n  }[props.size]\n})\n\nconst indicatorClasses = computed(() => {\n  return {\n    xs: 'h-1 w-1',\n    sm: 'h-[5px] w-[5px]',\n    md: 'h-1.5 w-1.5',\n    lg: 'h-2 w-2',\n    xl: 'h-2 w-2',\n    '2xl': 'h-2.5 w-2.5',\n    '3xl': 'h-3 w-3',\n  }[props.size]\n})\n\nconst iconClasses = computed(() => {\n  return {\n    xs: 'h-2.5 w-2.5',\n    sm: 'h-3 w-3',\n    md: 'h-4 w-4',\n    lg: 'h-4 w-4',\n    xl: 'h-4 w-4',\n    '2xl': 'h-5 w-5',\n    '3xl': 'h-5 w-5',\n  }[props.size]\n})\n\nfunction handleImageError(err) {\n  if (err.type) {\n    imgFetchError.value = true\n  }\n}\n</script>\n","<template>\n  <div :class=\"switchGroupClasses\">\n    <div class=\"flex flex-col gap-1\">\n      <div class=\"flex items-center\">\n        <FeatherIcon\n          v-if=\"props.icon && typeof props.icon === 'string'\"\n          :name=\"props.icon\"\n          :class=\"iconClasses\"\n          aria-hidden=\"true\"\n        />\n        <component\n          :class=\"iconClasses\"\n          v-else-if=\"props.icon\"\n          :is=\"props.icon\"\n        />\n        <label :class=\"switchLabelClasses\" :for=\"id\">\n          {{ props.label }}\n        </label>\n      </div>\n\n      <span\n        v-if=\"props.description\"\n        class=\"max-w-xs text-p-sm text-ink-gray-7\"\n        >{{ props.description }}</span\n      >\n    </div>\n    <SwitchRoot\n      :id\n      v-model=\"model\"\n      @keyup.space.self=\"model = !model\"\n      :class=\"switchClasses\"\n      :disabled=\"props.disabled\"\n    >\n      <SwitchThumb :class=\"switchCircleClasses\" />\n    </SwitchRoot>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, watch } from 'vue'\nimport { useId } from '../../utils/useId'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport { SwitchRoot, SwitchThumb } from 'reka-ui'\nimport type { SwitchProps } from './types'\n\nconst props = withDefaults(defineProps<SwitchProps>(), {\n  size: 'sm',\n  label: '',\n  description: '',\n  disabled: false,\n  labelClasses: '',\n})\n\nconst model = defineModel<boolean>({ default: false })\nconst emit = defineEmits(['change'])\nwatch(model, (val) => {\n  emit('change', val)\n})\n\nconst id = useId()\nconst switchClasses = computed(() => {\n  return [\n    'relative inline-flex flex-shrink-0 cursor-pointer rounded-full border-transparent transition-colors duration-100 ease-in-out items-center',\n    'focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-outline-gray-3',\n    'disabled:cursor-not-allowed disabled:bg-surface-gray-3',\n    model.value\n      ? 'bg-surface-gray-7 enabled:hover:bg-surface-gray-6 active:bg-surface-gray-5 group-hover:enabled:bg-surface-gray-6'\n      : 'bg-surface-gray-4 enabled:hover:bg-gray-400 active:bg-gray-500 group-hover:enabled:bg-gray-400',\n    props.size === 'md' ? 'h-5 w-8 border-[3px]' : 'h-4 w-[26px] border-2',\n  ]\n})\n\nconst switchCircleClasses = computed(() => {\n  return [\n    'pointer-events-none inline-block transform rounded-full bg-surface-white shadow ring-0 transition duration-100 ease-in-out',\n    props.size === 'md' ? 'h-3.5 w-3.5' : 'h-3 w-3',\n    props.size === 'md'\n      ? model.value\n        ? 'translate-x-3 rtl:-translate-x-3'\n        : 'translate-x-0'\n      : model.value\n        ? 'translate-x-2.5 rtl:-translate-x-2.5'\n        : 'translate-x-0',\n  ]\n})\n\nconst iconClasses = 'mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-6'\nconst switchLabelClasses = computed(() => {\n  return [\n    'font-medium leading-normal',\n    props.disabled && !props.description\n      ? 'text-ink-gray-4'\n      : 'text-ink-gray-8',\n    props.size === 'md' ? 'text-lg' : 'text-base',\n    props.labelClasses,\n  ]\n})\n\nconst switchGroupClasses = computed(() => {\n  if (!props.label) return\n  const classes = ['flex justify-between']\n  if (!props.description) {\n    classes.push(\n      'group items-center space-x-3 cursor-pointer rounded focus-visible:bg-surface-gray-2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-outline-gray-3',\n    )\n\n    classes.push(\n      props.disabled\n        ? 'cursor-not-allowed'\n        : 'hover:bg-surface-gray-3 active:bg-surface-gray-4',\n    )\n\n    classes.push(props.size === 'md' ? 'px-3 py-1.5' : 'px-2.5 py-1.5')\n  } else {\n    classes.push('items-start')\n    classes.push(\n      props.size === 'md' ? 'px-3 space-x-3.5' : 'px-2.5 space-x-2.5',\n    )\n  }\n\n  return classes\n})\n</script>\n","<template>\n  <DropdownMenuRoot v-model:open=\"toggleState\" v-slot=\"{ open }\">\n    <DropdownMenuTrigger as-child>\n      <slot v-if=\"$slots.default\" v-bind=\"{ open, close, ...attrs }\" />\n      <Button v-else :active=\"false\" v-bind=\"{ ...button, ...attrs }\">\n        {{ button ? button?.label || null : 'Options' }}\n      </Button>\n    </DropdownMenuTrigger>\n\n    <DropdownMenuPortal>\n      <DropdownMenuContent\n        :class=\"[\n          cssClasses.dropdownContent,\n          {\n            'origin-top-left': placement == 'left',\n            'origin-top-right': placement == 'right',\n            'origin-top': placement == 'center',\n          },\n        ]\"\n        :side=\"side\"\n        :align=\"align\"\n        :side-offset=\"offset\"\n      >\n        <template v-for=\"group in groups\" :key=\"group.key\">\n          <div v-if=\"group.items.length\" :class=\"cssClasses.groupContainer\">\n            <DropdownMenuLabel\n              v-if=\"group.group && !group.hideLabel\"\n              :class=\"[cssClasses.groupLabel, getTextColor(group)]\"\n            >\n              {{ group.group }}\n            </DropdownMenuLabel>\n\n            <template v-for=\"item in group.items\" :key=\"item.label\">\n              <div v-if=\"item.switch\" :class=\"cssClasses.itemButton\">\n                <FeatherIcon\n                  v-if=\"item.icon && typeof item.icon === 'string'\"\n                  :name=\"item.icon\"\n                  :class=\"[cssClasses.itemIcon, getIconColor(item)]\"\n                  aria-hidden=\"true\"\n                />\n                <component\n                  :class=\"[cssClasses.itemIcon, getIconColor(item)]\"\n                  v-else-if=\"item.icon\"\n                  :is=\"item.icon\"\n                />\n                <span :class=\"[cssClasses.itemLabel, getTextColor(item)]\">\n                  {{ item.label }}\n                </span>\n                <Switch\n                  class=\"ml-auto\"\n                  label-classes=\"font-normal cursor-pointer\"\n                  @change=\"item.onClick?.($event)\"\n                  :model-value=\"item.switchValue || false\"\n                />\n              </div>\n              <DropdownMenuItem v-else as-child @select=\"item.onClick\">\n                <slot v-if=\"$slots.item\" name=\"item\" v-bind=\"{ item, close }\" />\n                <component\n                  v-else-if=\"item.component\"\n                  :is=\"item.component\"\n                  :active=\"false\"\n                />\n\n                <DropdownMenuSub v-else-if=\"item.submenu\">\n                  <DropdownMenuSubTrigger as-child>\n                    <button\n                      :class=\"[\n                        cssClasses.submenuTrigger,\n                        getSubmenuBackgroundColor(item),\n                      ]\"\n                    >\n                      <FeatherIcon\n                        v-if=\"item.icon && typeof item.icon === 'string'\"\n                        :name=\"item.icon\"\n                        :class=\"[cssClasses.itemIcon, getIconColor(item)]\"\n                        aria-hidden=\"true\"\n                      />\n                      <component\n                        :class=\"[cssClasses.itemIcon, getIconColor(item)]\"\n                        v-else-if=\"item.icon\"\n                        :is=\"item.icon\"\n                      />\n                      <div\n                        v-else-if=\"groupHasIcons(group)\"\n                        :class=\"cssClasses.itemIconPlaceholder\"\n                      />\n                      <span :class=\"[cssClasses.itemLabel, getTextColor(item)]\">\n                        {{ item.label }}\n                      </span>\n                      <FeatherIcon\n                        name=\"chevron-right\"\n                        :class=\"[cssClasses.chevronIcon, getIconColor(item)]\"\n                        aria-hidden=\"true\"\n                      />\n                    </button>\n                  </DropdownMenuSubTrigger>\n                  <DropdownMenuPortal>\n                    <DropdownMenuSubContent\n                      :class=\"cssClasses.dropdownContent\"\n                      :side-offset=\"4\"\n                    >\n                      <div\n                        v-for=\"submenuGroup in getSubmenuGroups(item.submenu)\"\n                        :key=\"submenuGroup.key\"\n                        :class=\"cssClasses.groupContainer\"\n                      >\n                        <DropdownMenuLabel\n                          v-if=\"submenuGroup.group && !submenuGroup.hideLabel\"\n                          :class=\"cssClasses.groupLabel\"\n                        >\n                          {{ submenuGroup.group }}\n                        </DropdownMenuLabel>\n                        <template\n                          v-for=\"subItem in submenuGroup.items\"\n                          :key=\"subItem.label\"\n                        >\n                          <div\n                            v-if=\"subItem.switch\"\n                            :class=\"cssClasses.itemButton\"\n                          >\n                            <FeatherIcon\n                              v-if=\"\n                                subItem.icon && typeof subItem.icon === 'string'\n                              \"\n                              :name=\"subItem.icon\"\n                              :class=\"[\n                                cssClasses.itemIcon,\n                                getIconColor(subItem),\n                              ]\"\n                              aria-hidden=\"true\"\n                            />\n                            <component\n                              :class=\"[\n                                cssClasses.itemIcon,\n                                getIconColor(subItem),\n                              ]\"\n                              v-else-if=\"subItem.icon\"\n                              :is=\"subItem.icon\"\n                            />\n                            <span\n                              :class=\"[\n                                cssClasses.itemLabel,\n                                getTextColor(subItem),\n                              ]\"\n                            >\n                              {{ subItem.label }}\n                            </span>\n                            <Switch\n                              class=\"ml-auto\"\n                              label-classes=\"font-normal cursor-pointer\"\n                              @change=\"subItem.onClick?.($event)\"\n                              :model-value=\"subItem.switchValue || false\"\n                            />\n                          </div>\n\n                          <DropdownMenuItem\n                            v-else\n                            as-child\n                            @select=\"\n                              (event: PointerEvent) =>\n                                handleItemClick(subItem, event)\n                            \"\n                          >\n                            <component\n                              v-if=\"subItem.component\"\n                              :is=\"subItem.component\"\n                              :active=\"false\"\n                            />\n                            <button\n                              v-else\n                              :class=\"[\n                                cssClasses.itemButton,\n                                getBackgroundColor(subItem),\n                              ]\"\n                            >\n                              <FeatherIcon\n                                v-if=\"\n                                  subItem.icon &&\n                                  typeof subItem.icon === 'string'\n                                \"\n                                :name=\"subItem.icon\"\n                                :class=\"[\n                                  cssClasses.itemIcon,\n                                  getIconColor(subItem),\n                                ]\"\n                                aria-hidden=\"true\"\n                              />\n                              <component\n                                :class=\"[\n                                  cssClasses.itemIcon,\n                                  getIconColor(subItem),\n                                ]\"\n                                v-else-if=\"subItem.icon\"\n                                :is=\"subItem.icon\"\n                              />\n                              <div\n                                v-else-if=\"groupHasIcons(submenuGroup)\"\n                                :class=\"cssClasses.itemIconPlaceholder\"\n                              />\n                              <span\n                                :class=\"[\n                                  cssClasses.itemLabel,\n                                  getTextColor(subItem),\n                                ]\"\n                              >\n                                {{ subItem.label }}\n                              </span>\n                            </button>\n                          </DropdownMenuItem>\n                        </template>\n                      </div>\n                    </DropdownMenuSubContent>\n                  </DropdownMenuPortal>\n                </DropdownMenuSub>\n                <button\n                  v-else\n                  :class=\"[cssClasses.itemButton, getBackgroundColor(item)]\"\n                >\n                  <FeatherIcon\n                    v-if=\"item.icon && typeof item.icon === 'string'\"\n                    :name=\"item.icon\"\n                    :class=\"[cssClasses.itemIcon, getIconColor(item)]\"\n                    aria-hidden=\"true\"\n                  />\n                  <component\n                    :class=\"[cssClasses.itemIcon, getIconColor(item)]\"\n                    v-else-if=\"item.icon\"\n                    :is=\"item.icon\"\n                  />\n                  <div\n                    v-else-if=\"groupHasIcons(group)\"\n                    :class=\"cssClasses.itemIconPlaceholder\"\n                  />\n                  <span :class=\"[cssClasses.itemLabel, getTextColor(item)]\"\n                    >{{ item.label }}\n                  </span>\n                </button>\n              </DropdownMenuItem>\n            </template>\n          </div>\n        </template>\n      </DropdownMenuContent>\n    </DropdownMenuPortal>\n  </DropdownMenuRoot>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  DropdownMenuRoot,\n  DropdownMenuTrigger,\n  DropdownMenuPortal,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n} from 'reka-ui'\nimport { Button } from '../Button'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport { ref, computed, useAttrs } from 'vue'\nimport { useRouter } from 'vue-router'\nimport type {\n  DropdownProps,\n  DropdownOption,\n  DropdownGroupOption,\n  DropdownOptions,\n  DropdownItem,\n} from './types'\nimport Switch from '../Switch/Switch.vue'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst toggleState = ref(false)\nconst test = ref(true)\nconst router = useRouter()\nconst attrs = useAttrs()\n\nconst props = withDefaults(defineProps<DropdownProps>(), {\n  options: () => [],\n  placement: 'left',\n  side: 'bottom',\n  offset: 4,\n})\n\nfunction close() {\n  toggleState.value = false\n}\n\n// Unified click handling for all dropdown items\nconst handleItemClick = (item: DropdownOption, event: PointerEvent) => {\n  if (item.route) {\n    router.push(item.route)\n  } else if (item.onClick) {\n    item.onClick(event)\n  }\n}\n\nconst normalizeDropdownItem = (option: DropdownOption) => {\n  return {\n    ...option,\n    label: option.label,\n    theme: option.theme || 'gray',\n    icon: option.icon,\n    component: option.component,\n    onClick: (event: PointerEvent) => handleItemClick(option, event),\n    submenu: option.submenu,\n  }\n}\n\nconst getIconColor = (item: DropdownItem) =>\n  item.theme === 'red' ? 'text-ink-red-3' : 'text-ink-gray-6'\nconst getTextColor = (item: DropdownItem) =>\n  item.theme === 'red' ? 'text-ink-red-3' : 'text-ink-gray-7'\nconst getBackgroundColor = (item: DropdownItem) =>\n  item.theme === 'red'\n    ? 'focus:bg-surface-red-3 data-[highlighted]:bg-surface-red-3 data-[state=open]:bg-surface-red-3'\n    : 'focus:bg-surface-gray-3 data-[highlighted]:bg-surface-gray-3 data-[state=open]:bg-surface-gray-3'\nconst getSubmenuBackgroundColor = (item: DropdownItem) =>\n  getBackgroundColor(item) +\n  ' data-[state=open]:bg-surface-' +\n  (item.theme === 'red' ? 'red-3' : 'gray-3')\n\n// Unified group processing for both main options and submenu options\nconst processOptionsIntoGroups = (\n  options: DropdownOptions,\n): DropdownGroupOption[] => {\n  let groups: DropdownGroupOption[] = []\n  let currentGroup: DropdownGroupOption | null = null\n  let i = 0\n\n  for (let option of options) {\n    if (option == null) {\n      continue\n    }\n\n    if ('group' in option) {\n      if (currentGroup) {\n        groups.push(currentGroup)\n        currentGroup = null\n      }\n      let groupOption = {\n        key: i,\n        ...option,\n        items: filterOptions(option.items),\n      } as DropdownGroupOption\n      groups.push(groupOption)\n    } else {\n      if (!currentGroup) {\n        currentGroup = {\n          key: i,\n          group: '',\n          hideLabel: true,\n          items: [],\n        } as DropdownGroupOption\n      }\n      currentGroup.items.push(...filterOptions([option]))\n    }\n    i++\n  }\n\n  if (currentGroup) {\n    groups.push(currentGroup)\n  }\n\n  return groups\n}\n\nconst getSubmenuGroups = (submenuOptions: DropdownOptions) => {\n  return processOptionsIntoGroups(submenuOptions)\n}\n\nconst filterOptions = (options: DropdownOption[]) => {\n  return (options || [])\n    .filter(Boolean)\n    .filter((option) => (option.condition ? option.condition() : true))\n    .map((option) => normalizeDropdownItem(option))\n}\n\n// Check if any item in a group has an icon\nconst groupHasIcons = (group: DropdownGroupOption) => {\n  return group.items.some((item) => item.icon)\n}\n\n// Semantic CSS classes for consistent styling\nconst cssClasses = {\n  // Container classes\n  dropdownContent:\n    'min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none dropdown-content',\n  groupContainer: 'p-1.5',\n\n  // Label classes\n  groupLabel: 'flex h-7 items-center px-2 text-sm font-medium',\n  itemLabel: 'whitespace-nowrap',\n\n  // Icon classes\n  itemIcon: 'mr-2 h-4 w-4 flex-shrink-0',\n  itemIconPlaceholder: 'mr-2 h-4 w-4 flex-shrink-0',\n  chevronIcon: 'ml-auto h-4 w-4 flex-shrink-0',\n\n  // Button classes\n  itemButton:\n    'group flex h-7 w-full items-center rounded px-2 text-base focus:outline-none',\n  submenuTrigger:\n    'group flex h-7 w-full items-center rounded px-2 text-base text-ink-gray-6 focus:outline-none',\n}\n\nconst groups = computed(() => {\n  return processOptionsIntoGroups(props.options)\n})\n\nconst align = computed(() => {\n  if (props.placement === 'left') return 'start' as const\n  if (props.placement === 'right') return 'end' as const\n  if (props.placement === 'center') return 'center' as const\n  return 'start' as const\n})\n</script>\n\n<style scoped>\n@keyframes dropdown-in {\n  from {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n@keyframes dropdown-out {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n}\n\n:global(.dropdown-content[data-state='open']) {\n  animation: dropdown-in 100ms ease-out;\n}\n\n:global(.dropdown-content[data-state='closed']) {\n  animation: dropdown-out 75ms ease-in;\n}\n</style>\n","<template>\n  <div\n    class=\"flex h-full w-full flex-col items-center justify-center text-base\"\n  >\n    <slot>\n      <div class=\"text-xl font-medium text-ink-gray-8 mt-6\">{{ list.options.emptyState.title }}</div>\n      <div class=\"mt-1 text-base text-ink-gray-5\">\n        {{ list.options.emptyState.description }}\n      </div>\n      <Button\n        v-if=\"list.options.emptyState.button\"\n        v-bind=\"list.options.emptyState.button\"\n        class=\"mt-4\"\n      ></Button>\n    </slot>\n  </div>\n</template>\n\n<script setup>\nimport { inject } from 'vue'\nimport { Button } from '../Button'\n\nconst list = inject('list')\n</script>\n","export function getGridTemplateColumns(columns, withCheckbox = true) {\n  let checkBoxWidth = withCheckbox ? '14px ' : ''\n  let columnsWidth = columns\n    .map((col) => {\n      let width = col.width || 1\n      if (typeof width === 'number') {\n        return width + 'fr'\n      }\n      return width\n    })\n    .join(' ')\n  return checkBoxWidth + columnsWidth\n}\n\nexport const alignmentMap = {\n  left: 'justify-start',\n  start: 'justify-start',\n  center: 'justify-center',\n  middle: 'justify-center',\n  right: 'justify-end',\n  end: 'justify-end',\n}\n","<template>\n  <div\n    ref=\"columnRef\"\n    class=\"group relative flex items-center\"\n    :class=\"item.align ? alignmentMap[item.align] : 'justify-between'\"\n  >\n    <div\n      class=\"flex items-center space-x-2 truncate text-sm text-ink-gray-5\"\n      :class=\"$attrs.class\"\n    >\n      <slot name=\"prefix\" v-bind=\"{ item }\" />\n      <slot>\n        <div class=\"truncate\">\n          {{ item.label }}\n        </div>\n      </slot>\n      <slot name=\"suffix\" v-bind=\"{ item }\" />\n    </div>\n    <slot v-if=\"list.options.resizeColumn\" name=\"resizer\" v-bind=\"{ item }\">\n      <div\n        class=\"flex h-4 absolute -right-2 w-2 cursor-col-resize justify-center\"\n        @mousedown=\"startResizing\"\n      >\n        <div\n          ref=\"resizer\"\n          class=\"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400\"\n        />\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script setup>\nimport { alignmentMap } from './utils'\nimport { useDebounceFn } from '@vueuse/core'\nimport { ref, computed, inject } from 'vue'\n\nconst props = defineProps({\n  item: {\n    type: Object,\n    required: true,\n  },\n  debounce: {\n    type: Number,\n    default: 1000,\n  },\n})\n\nconst emit = defineEmits(['columnWidthUpdated'])\n\nconst resizer = ref(null)\nconst columnRef = ref(null)\n\nconst widthInPx = computed(() => {\n  if (typeof props.item.width === 'string') {\n    const parsedWidth = parseInt(props.item.width)\n    if (props.item.width.includes('rem')) {\n      return parsedWidth * 16\n    } else if (props.item.width.includes('px')) {\n      return parsedWidth\n    }\n  }\n  return columnRef.value.offsetWidth\n})\n\nconst startResizing = (e) => {\n  const initialX = e.clientX\n  const initialWidth = widthInPx.value\n  const onMouseMove = (e) => {\n    document.body.classList.add('select-none')\n    document.body.classList.add('cursor-col-resize')\n    resizer.value.style.backgroundColor = 'rgb(199 199 199)'\n    let newWidth = initialWidth + (e.clientX - initialX)\n\n    props.item.width = `${newWidth < 50 ? 50 : newWidth}px`\n    updateWidth(props.item.width)\n  }\n  const onMouseUp = () => {\n    document.body.classList.remove('select-none')\n    document.body.classList.remove('cursor-col-resize')\n    resizer.value.style.backgroundColor = ''\n    window.removeEventListener('mousemove', onMouseMove)\n    window.removeEventListener('mouseup', onMouseUp)\n  }\n  window.addEventListener('mousemove', onMouseMove)\n  window.addEventListener('mouseup', onMouseUp)\n}\n\nconst updateWidth = useDebounceFn((width) => {\n  props.item.width = width\n  emit('columnWidthUpdated')\n}, props.debounce)\n\nconst list = inject('list')\n</script>\n","<template>\n  <div\n    class=\"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2\"\n    :style=\"{\n      gridTemplateColumns: getGridTemplateColumns(\n        list.columns,\n        list.options.selectable,\n      ),\n    }\"\n  >\n    <Checkbox\n      v-if=\"list.options.selectable\"\n      class=\"cursor-pointer duration-300\"\n      :modelValue=\"list.allRowsSelected\"\n      @click.stop=\"list.toggleAllRows\"\n    />\n    <slot>\n      <ListHeaderItem\n        v-for=\"column in list.columns\"\n        :key=\"column.key\"\n        :item=\"column\"\n        @columnWidthUpdated=\"emit('columnWidthUpdated', column)\"\n      />\n    </slot>\n  </div>\n</template>\n\n<script setup>\nimport Checkbox from '../Checkbox/Checkbox.vue'\nimport ListHeaderItem from './ListHeaderItem.vue'\nimport { getGridTemplateColumns } from './utils'\nimport { inject } from 'vue'\n\nconst emit = defineEmits(['columnWidthUpdated'])\n\nconst list = inject('list')\n</script>\n","<template>\n  <div class=\"flex items-center space-x-2\" :class=\"alignmentMap[align]\">\n    <slot name=\"prefix\">\n      <component\n        v-if=\"column.prefix\"\n        :is=\"\n          typeof column.prefix === 'function'\n            ? column.prefix({ row })\n            : column.prefix\n        \"\n      />\n    </slot>\n    <Tooltip\n      v-bind=\"\n        list.options.showTooltip\n          ? {\n              text: tooltip,\n            }\n          : { text: '' }\n      \"\n    >\n      <slot v-bind=\"{ label }\">\n        <div class=\"truncate text-base\">{{ label }}</div>\n      </slot>\n    </Tooltip>\n    <slot name=\"suffix\" />\n  </div>\n</template>\n<script setup>\nimport { computed, inject } from 'vue'\nimport { Tooltip } from '../../index'\nimport { alignmentMap } from './utils'\n\nconst props = defineProps({\n  column: {\n    type: Object,\n    default: {},\n  },\n  row: {\n    type: Object,\n    default: {},\n  },\n  item: {\n    type: [String, Number, Object],\n    default: '',\n  },\n  align: {\n    type: String,\n    default: 'left',\n  },\n})\n\nconst label = computed(() => {\n  if (props.column?.getLabel) return props.column?.getLabel({ row: props.row })\n  return getValue(props.item).label || ''\n})\n\nconst tooltip = computed(() => {\n  if (!list.value.options.showTooltip) return ''\n  return props.column.getTooltip\n    ? props.column.getTooltip(props.row)\n    : getValue(props.item).label\n})\n\nfunction getValue(value) {\n  if (value && typeof value === 'object') {\n    return value\n  }\n  return { label: value }\n}\n\nconst list = inject('list')\n</script>\n","<template>\n  <component\n    :is=\"list.options.getRowRoute ? 'router-link' : 'div'\"\n    :class=\"[\n      roundedClass,\n      isSelected || isActive ? 'bg-surface-gray-2' : '',\n      isHoverable ? 'cursor-pointer' : '',\n      isHoverable\n        ? isSelected || isActive\n          ? 'hover:bg-surface-gray-3'\n          : 'hover:bg-surface-menu-bar'\n        : '',\n    ]\"\n    class=\"flex flex-col transition-all duration-300 ease-in-out\"\n    v-bind=\"{\n      to: list.options.getRowRoute ? list.options.getRowRoute(row) : undefined,\n      onClick: (e) => onRowClick(row, e),\n    }\"\n  >\n    <component\n      :is=\"list.options.getRowRoute ? 'template' : 'button'\"\n      class=\"[all:unset] hover:[all:unset]\"\n    >\n      <div\n        class=\"grid items-center space-x-4 px-2\"\n        :style=\"{\n          height: rowHeight,\n          gridTemplateColumns: getGridTemplateColumns(\n            list.columns,\n            list.options.selectable,\n          ),\n        }\"\n      >\n        <div\n          v-if=\"list.options.selectable\"\n          class=\"w-fit pr-2 py-3 flex\"\n          @click.stop.prevent\n          @dblclick.stop\n        >\n          <Checkbox\n            :modelValue=\"isSelected\"\n            class=\"cursor-pointer duration-300\"\n            @click.stop=\"list.toggleRow(row[list.rowKey])\"\n          />\n        </div>\n        <div\n          v-for=\"(column, i) in list.columns\"\n          :key=\"column.key\"\n          :class=\"[\n            alignmentMap[column.align],\n            i == 0 ? 'text-ink-gray-9' : 'text-ink-gray-7',\n          ]\"\n        >\n          <slot v-bind=\"{ idx: i, column, item: row[column.key], isActive }\">\n            <component\n              v-if=\"list.slots.cell\"\n              :is=\"list.slots.cell\"\n              v-bind=\"{\n                column,\n                row,\n                item: row[column.key],\n                align: column.align,\n              }\"\n            />\n            <ListRowItem\n              v-else\n              :column=\"column\"\n              :row=\"row\"\n              :item=\"row[column.key]\"\n              :align=\"column.align\"\n            />\n          </slot>\n        </div>\n      </div>\n      <div\n        v-if=\"!isLastRow\"\n        class=\"h-px border-t\"\n        :class=\"\n          roundedClass === 'rounded' || roundedClass?.includes?.('rounded-b')\n            ? 'mx-2 border-outline-gray-1'\n            : 'border-t-[--surface-gray-2]'\n        \"\n      />\n    </component>\n  </component>\n</template>\n\n<script setup>\nimport Checkbox from '../Checkbox/Checkbox.vue'\nimport ListRowItem from './ListRowItem.vue'\nimport { alignmentMap, getGridTemplateColumns } from './utils'\nimport { computed, inject, ref } from 'vue'\n\nconst props = defineProps({\n  row: {\n    type: Object,\n    required: true,\n  },\n})\n\nconst list = inject('list')\n\nconst isLastRow = computed(() => {\n  if (!list.value.rows?.length) return false\n  return (\n    list.value.rows[list.value.rows.length - 1][list.value.rowKey] ===\n    props.row[list.value.rowKey]\n  )\n})\n\nconst isSelected = computed(() => {\n  return list.value.selections.has(props.row[list.value.rowKey])\n})\nconst isActive = computed(\n  () =>\n    list.value.options.enableActive &&\n    list.value.activeRow.value === props.row.name,\n)\n\nconst isHoverable = computed(() => {\n  return list.value.options.getRowRoute || list.value.options.onRowClick\n})\n\nconst rowHeight = computed(() => {\n  if (typeof list.value.options.rowHeight === 'number') {\n    return `${list.value.options.rowHeight}px`\n  }\n  return list.value.options.rowHeight\n})\n\nconst roundedClass = computed(() => {\n  if (!isSelected.value) return 'rounded'\n  const selections = [...list.value.selections]\n  let groups = list.value.rows[0]?.group\n    ? list.value.rows.map((k) => k.rows)\n    : [list.value.rows]\n\n  for (let rows of groups) {\n    let currentIndex = rows.findIndex((k) => k == props.row)\n    if (currentIndex === -1) continue\n    let atBottom = !selections.includes(rows[currentIndex + 1]?.name)\n    let atTop = !selections.includes(rows[currentIndex - 1]?.name)\n    return (atBottom ? 'rounded-b ' : '') + (atTop ? 'rounded-t' : '')\n  }\n})\n\nconst onRowClick = (row, e) => {\n  if (list.value.options.onRowClick) list.value.options.onRowClick(row, e)\n  if (list.value.activeRow.value === row.name) {\n    list.value.activeRow.value = null\n  } else {\n    list.value.activeRow.value = row.name\n  }\n}\n</script>\n","<template>\n  <div class=\"h-full overflow-y-auto\">\n    <slot>\n      <ListRow v-for=\"row in list.rows\" :key=\"row[list.rowKey]\" :row=\"row\" />\n    </slot>\n  </div>\n</template>\n\n<script setup>\nimport ListRow from './ListRow.vue'\nimport { inject } from 'vue'\n\nconst list = inject('list')\n</script>\n","<template>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\">\n    <path\n      fill=\"currentColor\"\n      d=\"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z\"\n    />\n  </svg>\n</template>\n","<template>\n  <div class=\"flex items-center\">\n    <button\n      @click=\"toggleGroup\"\n      class=\"ml-[3px] mr-[11px] rounded p-1 hover:bg-surface-gray-2\"\n    >\n      <DownSolid\n        class=\"h-4 w-4 text-ink-gray-6 transition-transform duration-200\"\n        :class=\"[group.collapsed ? '-rotate-90' : '']\"\n      />\n    </button>\n    <slot>\n      <div class=\"w-full py-1.5 pr-2\">\n        <component\n          v-if=\"list.slots['group-header']\"\n          :is=\"list.slots['group-header']\"\n          v-bind=\"{ group }\"\n        />\n        <span v-else class=\"text-base font-medium leading-6\">\n          {{ group.group }}\n        </span>\n      </div>\n    </slot>\n  </div>\n  <div class=\"mx-2 h-px border-t border-outline-gray-modals\"></div>\n</template>\n<script setup>\nimport { inject } from 'vue'\nimport DownSolid from '../../icons/DownSolid.vue'\n\nconst props = defineProps({\n  group: {\n    type: Object,\n    required: true,\n  },\n})\n\nconst list = inject('list')\n\nfunction toggleGroup() {\n  if (props.group.collapsed == null) {\n    props.group.collapsed = false\n  }\n  props.group.collapsed = !props.group.collapsed\n}\n</script>\n","<template>\n  <div class=\"mb-5 mt-2\" v-if=\"!group.collapsed\">\n    <slot>\n      <ListRow v-for=\"row in group.rows\" :key=\"row[list.rowKey]\" :row=\"row\" />\n    </slot>\n  </div>\n</template>\n<script setup>\nimport ListRow from './ListRow.vue'\nimport { inject } from 'vue'\n\nconst props = defineProps({\n  group: {\n    type: Object,\n    required: true,\n  },\n})\nconst list = inject('list')\n</script>\n","<template>\n  <div class=\"h-full overflow-y-auto\">\n    <div v-for=\"group in list.rows\" :key=\"group.group\">\n      <slot>\n        <ListGroupHeader :group=\"group\">\n          <slot\n            name=\"group-header\"\n            v-if=\"$slots['group-header']\"\n            v-bind=\"{ group }\"\n          />\n        </ListGroupHeader>\n        <ListGroupRows :group=\"group\" />\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport ListGroupHeader from './ListGroupHeader.vue'\nimport ListGroupRows from './ListGroupRows.vue'\nimport { inject } from 'vue'\n\nconst list = inject('list')\n</script>\n","<template>\n  <transition\n    enter-active-class=\"duration-300 ease-out\"\n    enter-from-class=\"transform opacity-0\"\n    enter-to-class=\"opacity-100\"\n    leave-active-class=\"duration-300 ease-in\"\n    leave-from-class=\"opacity-100\"\n    leave-to-class=\"transform opacity-0\"\n  >\n    <div\n      v-if=\"list.selections.size\"\n      class=\"absolute inset-x-0 bottom-6 mx-auto w-max text-base\"\n    >\n      <div\n        class=\"flex min-w-[596px] items-center space-x-3 rounded-lg bg-surface-white px-4 py-2 shadow-2xl\"\n        :class=\"$attrs.class\"\n      >\n        <slot\n          v-bind=\"{\n            selections: list.selections,\n            allRowsSelected: list.allRowsSelected,\n            selectAll: () => list.toggleAllRows(true),\n            unselectAll: () => list.toggleAllRows(false),\n          }\"\n        >\n          <div\n            class=\"flex flex-1 justify-between border-r border-outline-gray-2 text-ink-gray-9\"\n          >\n            <div class=\"flex items-center space-x-3\">\n              <Checkbox\n                :modelValue=\"true\"\n                :disabled=\"true\"\n                class=\"text-ink-gray-9\"\n              />\n              <div>{{ selectedText }}</div>\n            </div>\n            <div class=\"mr-3\">\n              <slot\n                name=\"actions\"\n                v-bind=\"{\n                  selections: list.selections,\n                  allRowsSelected: list.allRowsSelected,\n                  selectAll: () => list.toggleAllRows(true),\n                  unselectAll: () => list.toggleAllRows(false),\n                }\"\n              />\n            </div>\n          </div>\n          <div class=\"flex items-center space-x-1\">\n            <Button\n              class=\"w- text-ink-gray-7\"\n              :disabled=\"list.allRowsSelected\"\n              :class=\"list.allRowsSelected ? 'cursor-not-allowed' : ''\"\n              variant=\"ghost\"\n              @click=\"list.toggleAllRows(true)\"\n            >\n              Select all\n            </Button>\n            <Button\n              icon=\"x\"\n              variant=\"ghost\"\n              @click=\"list.toggleAllRows(false)\"\n            />\n          </div>\n        </slot>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script setup>\nimport Checkbox from '../Checkbox/Checkbox.vue'\nimport { Button } from '../Button'\nimport { computed, inject } from 'vue'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst list = inject('list')\n\nlet selectedText = computed(() => {\n  return list.value.options.selectionText(list.value.selections.size)\n})\n</script>\n","<template>\n  <div class=\"relative flex w-full flex-1 flex-col overflow-x-auto\">\n    <div\n      class=\"flex w-max min-w-full flex-col overflow-y-hidden\"\n      :class=\"$attrs.class\"\n      :style=\"$attrs.style\"\n    >\n      <slot v-bind=\"{ showGroupedRows, selectable }\">\n        <ListHeader />\n        <template v-if=\"props.rows.length\">\n          <ListGroups v-if=\"showGroupedRows\" />\n          <ListRows v-else />\n        </template>\n        <ListEmptyState v-else />\n        <ListSelectBanner v-if=\"selectable\" />\n      </slot>\n    </div>\n  </div>\n</template>\n<script setup>\nimport ListEmptyState from './ListEmptyState.vue'\nimport ListHeader from './ListHeader.vue'\nimport ListRows from './ListRows.vue'\nimport ListGroups from './ListGroups.vue'\nimport ListSelectBanner from './ListSelectBanner.vue'\nimport { ref, reactive, computed, provide, watch, useSlots } from 'vue'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst props = defineProps({\n  columns: {\n    type: Array,\n    default: [],\n  },\n  rows: {\n    type: Array,\n    default: [],\n  },\n  rowKey: {\n    type: String,\n    required: true,\n  },\n  options: {\n    type: Object,\n    default: () => ({\n      getRowRoute: null,\n      onRowClick: null,\n      showTooltip: true,\n      selectable: true,\n      resizeColumn: false,\n      rowHeight: 40,\n      emptyState: {\n        title: 'No Data',\n        description: 'No data available',\n      },\n    }),\n  },\n})\n\nconst slots = useSlots()\n\nlet selections = reactive(new Set())\nlet activeRow = ref(null)\n\nconst emit = defineEmits(['update:selections', 'update:active-row'])\n\nwatch(selections, (value) => {\n  if (selections.size) {\n    activeRow.value = null\n  }\n  emit('update:selections', value)\n})\n\nwatch(activeRow, (value) => {\n  emit('update:active-row', value)\n})\n\nlet _options = computed(() => {\n  function defaultTrue(value) {\n    return value === undefined ? true : value\n  }\n\n  function defaultFalse(value) {\n    return value === undefined ? false : value\n  }\n\n  return {\n    getRowRoute: props.options.getRowRoute || null,\n    onRowClick: props.options.onRowClick || null,\n    showTooltip: defaultTrue(props.options.showTooltip),\n    selectionText:\n      props.options.selectionText ||\n      ((val) => (val === 1 ? '1 row selected' : `${val} rows selected`)),\n    enableActive: defaultFalse(props.options.enableActive),\n    selectable: defaultTrue(props.options.selectable),\n    resizeColumn: defaultFalse(props.options.resizeColumn),\n    rowHeight: props.options.rowHeight || 40,\n    emptyState: props.options.emptyState,\n  }\n})\n\nconst allRowsSelected = computed(() => {\n  if (!props.rows.length) return false\n  if (showGroupedRows.value) {\n    return (\n      selections.size ===\n      props.rows.reduce((acc, row) => acc + row.rows.length, 0)\n    )\n  }\n  return selections.size === props.rows.length\n})\n\nconst selectable = computed(() => {\n  return _options.value.selectable\n})\n\nlet showGroupedRows = computed(() => {\n  return props.rows.every(\n    (row) => row.group && row.rows && Array.isArray(row.rows)\n  )\n})\n\nfunction toggleRow(row) {\n  if (!selections.delete(row)) {\n    selections.add(row)\n  }\n}\n\nfunction toggleAllRows(select) {\n  if (!select || allRowsSelected.value) {\n    selections.clear()\n    return\n  }\n  if (showGroupedRows.value) {\n    props.rows.forEach((row) => {\n      row.rows.forEach((r) => selections.add(r[props.rowKey]))\n    })\n    return\n  }\n  props.rows.forEach((row) => selections.add(row[props.rowKey]))\n}\n\nprovide(\n  'list',\n  computed(() => ({\n    rowKey: props.rowKey,\n    rows: props.rows,\n    columns: props.columns,\n    options: _options.value,\n    selections: selections,\n    activeRow: activeRow,\n    allRowsSelected: allRowsSelected.value,\n    slots: slots,\n    toggleRow,\n    toggleAllRows,\n  }))\n)\n\ndefineExpose({\n  selections,\n  allRowsSelected,\n  toggleRow,\n  toggleAllRows,\n})\n</script>\n","import { createResource } from \"frappe-ui\"\n\n// Main resource for fetching Issue doctype data with child table support\nexport const issuesResource = createResource({\n\turl: \"force_trans_customization.api.issues.get_issues_with_assignments\",\n\tmakeParams(params) {\n\t\t// Handle null/undefined params explicitly\n\t\tconst safeParams = params || {}\n\t\tconst limit_page_length = safeParams.limit_page_length || 10\n\t\tconst limit_start = safeParams.limit_start || 0\n\t\t// Handle both old and new filter formats\n\t\tconst filters = safeParams.filters || {}\n\t\tconst order_by = safeParams.order_by || \"creation desc\"\n\n\t\tconsole.log('issuesResource params:', {\n\t\t\tlimit_page_length,\n\t\t\tlimit_start,\n\t\t\tfilters,\n\t\t\torder_by\n\t\t})\n\n\t\treturn {\n\t\t\tlimit_page_length,\n\t\t\tlimit_start,\n\t\t\tfilters,\n\t\t\torder_by,\n\t\t}\n\t},\n\tonError(error) {\n\t\tconsole.error(\"Failed to fetch issues:\", error)\n\t\t// Show user-friendly error message using Frappe UI toast\n\t\tif (window.$toast) {\n\t\t\twindow.$toast({\n\t\t\t\ttitle: \"Error\",\n\t\t\t\ttext: \"Failed to load issues. Please try again.\",\n\t\t\t\ticon: \"x\",\n\t\t\t\ticonClasses: \"text-red-600\",\n\t\t\t})\n\t\t}\n\t},\n\tauto: true, // Auto-fetch on component mount\n})\n\n// Resource for getting total count of issues (for pagination)\nexport const issuesCountResource = createResource({\n\turl: \"force_trans_customization.api.issues.get_issues_count_with_filters\",\n\tmakeParams(params) {\n\t\t// Handle null/undefined params explicitly\n\t\tconst safeParams = params || {}\n\t\t// Support both old object format and new array format\n\t\tconst filters = safeParams.filters || safeParams || {}\n\t\t\n\t\tconsole.log('issuesCountResource filters:', filters)\n\t\t\n\t\treturn {\n\t\t\tfilters,\n\t\t}\n\t},\n\tonError(error) {\n\t\tconsole.error(\"Failed to fetch issues count:\", error)\n\t},\n})\n\n// Helper function to reload issues with new parameters\nexport function reloadIssues(params = {}) {\n\tconst reloadParams = {\n\t\tlimit_page_length: params.limit_page_length || 10,\n\t\tlimit_start: params.limit_start || 0,\n\t\tfilters: params.filters || {},\n\t\torder_by: params.order_by || \"creation desc\",\n\t}\n\t\n\tconsole.log('reloadIssues with params:', reloadParams)\n\treturn issuesResource.reload(reloadParams)\n}\n\n// Helper function to get issues count with filters\nexport function getIssuesCount(filters = {}) {\n\tconsole.log('getIssuesCount with filters:', filters)\n\treturn issuesCountResource.reload(filters)\n}\n\n// Resource for fetching a single issue with assignments\nexport const singleIssueResource = createResource({\n\turl: \"force_trans_customization.api.issues.get_single_issue_with_assignments\",\n\tmakeParams(issueName) {\n\t\treturn {\n\t\t\tissue_name: issueName\n\t\t}\n\t},\n\tonError(error) {\n\t\tconsole.error(\"Failed to fetch single issue:\", error)\n\t},\n\tauto: false, // Don't auto-fetch, only fetch when called\n})\n\n// Helper function to fetch a single issue\nexport function fetchSingleIssue(issueName) {\n\treturn singleIssueResource.reload(issueName)\n}\n\n// Resource for fetching Issue Priority options\nexport const issuePriorityResource = createResource({\n\turl: \"frappe.client.get_list\",\n\tmakeParams() {\n\t\treturn {\n\t\t\tdoctype: \"Issue Priority\",\n\t\t\tfields: [\"name\"],\n\t\t\tlimit_page_length: 0, // Get all priorities\n\t\t\torder_by: \"name asc\",\n\t\t}\n\t},\n\tcache: \"IssuePriority\", // Cache for 5 minutes\n\tonError(error) {\n\t\tconsole.error(\"Failed to fetch issue priorities:\", error)\n\t},\n\tauto: true,\n})\n\n// Resource for fetching Issue Type options\nexport const issueTypeResource = createResource({\n\turl: \"frappe.client.get_list\",\n\tmakeParams() {\n\t\treturn {\n\t\t\tdoctype: \"Issue Type\",\n\t\t\tfields: [\"name\"],\n\t\t\tlimit_page_length: 0, // Get all issue types\n\t\t\torder_by: \"name asc\",\n\t\t}\n\t},\n\tcache: \"IssueType\", // Cache for 5 minutes\n\tonError(error) {\n\t\tconsole.error(\"Failed to fetch issue types:\", error)\n\t},\n\tauto: true,\n})\n\n// Resource for fetching Project options\nexport const projectResource = createResource({\n\turl: \"frappe.client.get_list\",\n\tmakeParams() {\n\t\treturn {\n\t\t\tdoctype: \"Project\",\n\t\t\tfields: [\"name\", \"project_name\", \"status\"],\n\t\t\tfilters: {\n\t\t\t\tstatus: [\"!=\", \"Cancelled\"], // Only active projects\n\t\t\t},\n\t\t\tlimit_page_length: 0, // Get all projects\n\t\t\torder_by: \"name asc\",\n\t\t}\n\t},\n\tcache: \"Project\", // Cache for 5 minutes\n\tonError(error) {\n\t\tconsole.error(\"Failed to fetch projects:\", error)\n\t},\n\tauto: true,\n})\n\n// Memoized helper functions to get dropdown options with caching and data freshness checks\nlet priorityOptionsCache = null\nlet priorityDataHash = null\nlet issueTypeOptionsCache = null\nlet issueTypeDataHash = null\nlet projectOptionsCache = null\nlet projectDataHash = null\n\nexport function getPriorityOptions() {\n\tconst currentData = issuePriorityResource.data || []\n\tconst currentHash = JSON.stringify(currentData)\n\t\n\t// Return cached result if data hasn't changed\n\tif (priorityOptionsCache && priorityDataHash === currentHash) {\n\t\treturn priorityOptionsCache\n\t}\n\t\n\tconst options = [\n\t\t{ label: \"All Priority\", value: \"\" },\n\t\t...currentData.map((p) => ({\n\t\t\tlabel: p.name,\n\t\t\tvalue: p.name,\n\t\t})),\n\t]\n\t\n\t// Cache the result with data hash\n\tpriorityOptionsCache = Object.freeze(options)\n\tpriorityDataHash = currentHash\n\treturn priorityOptionsCache\n}\n\nexport function getIssueTypeOptions() {\n\tconst currentData = issueTypeResource.data || []\n\tconst currentHash = JSON.stringify(currentData)\n\t\n\t// Return cached result if data hasn't changed\n\tif (issueTypeOptionsCache && issueTypeDataHash === currentHash) {\n\t\treturn issueTypeOptionsCache\n\t}\n\t\n\tconst options = [\n\t\t{ label: \"All Types\", value: \"\" },\n\t\t...currentData.map((t) => ({\n\t\t\tlabel: t.name,\n\t\t\tvalue: t.name,\n\t\t})),\n\t]\n\t\n\t// Cache the result with data hash\n\tissueTypeOptionsCache = Object.freeze(options)\n\tissueTypeDataHash = currentHash\n\treturn issueTypeOptionsCache\n}\n\nexport function getProjectOptions() {\n\tconst currentData = projectResource.data || []\n\tconst currentHash = JSON.stringify(currentData)\n\t\n\t// Return cached result if data hasn't changed\n\tif (projectOptionsCache && projectDataHash === currentHash) {\n\t\treturn projectOptionsCache\n\t}\n\t\n\tconst options = [\n\t\t{ label: \"All Projects\", value: \"\" },\n\t\t...currentData.map((p) => ({\n\t\t\tlabel: p.project_name || p.name,\n\t\t\tvalue: p.name,\n\t\t})),\n\t]\n\t\n\t// Cache the result with data hash\n\tprojectOptionsCache = Object.freeze(options)\n\tprojectDataHash = currentHash\n\treturn projectOptionsCache\n}\n\n// Status options (hardcoded as they are standard) - memoized since they never change\nconst statusOptionsCache = Object.freeze([\n\t{ label: \"All Status\", value: \"\" },\n\t{ label: \"Open\", value: \"Open\" },\n\t{ label: \"Replied\", value: \"Replied\" },\n\t{ label: \"On Hold\", value: \"On Hold\" },\n\t{ label: \"Resolved\", value: \"Resolved\" },\n\t{ label: \"Closed\", value: \"Closed\" },\n])\n\nexport function getStatusOptions() {\n\treturn statusOptionsCache\n}\n\n// Resource for fetching tag colors from Tag Categories\nexport const tagColorsResource = createResource({\n\turl: \"force_trans_customization.api.issues.get_tag_colors\",\n\tcache: \"TagColors\", // Cache for 10 minutes\n\tonError(error) {\n\t\tconsole.error(\"Failed to fetch tag colors:\", error)\n\t},\n\tauto: true, // Auto-fetch on component mount\n})\n\n// Memoized tag color cache with data freshness check\nconst tagColorCache = new Map()\nlet tagColorsDataHash = null\n\n// Helper function to get tag color with memoization and cache invalidation\nexport function getTagColor(tagName) {\n\tconst currentData = tagColorsResource.data || {}\n\tconst currentHash = JSON.stringify(currentData)\n\t\n\t// Clear cache if data has changed\n\tif (tagColorsDataHash !== currentHash) {\n\t\ttagColorCache.clear()\n\t\ttagColorsDataHash = currentHash\n\t}\n\t\n\t// Check cache first\n\tif (tagColorCache.has(tagName)) {\n\t\treturn tagColorCache.get(tagName)\n\t}\n\t\n\tconst color = currentData[tagName] || null\n\t\n\t// Cache the result\n\ttagColorCache.set(tagName, color)\n\t\n\treturn color\n}\n\n// Cache invalidation will be handled by checking data freshness in the getter functions\n\n// Resource for searching issues (for autocomplete suggestions)\nexport const issueSearchResource = createResource({\n\turl: \"force_trans_customization.api.issues.issue_search\",\n\tmakeParams(params) {\n\t\tconst safeParams = params || {}\n\t\treturn {\n\t\t\tsearch_query: safeParams.search_query || \"\",\n\t\t\tlimit: safeParams.limit || 8,\n\t\t}\n\t},\n\tonError(error) {\n\t\tconsole.error(\"Failed to search issues:\", error)\n\t},\n\tauto: false, // Don't auto-fetch, only fetch when called\n})\n\n// Helper function to search issues\nexport function searchIssues(searchQuery, limit = 8) {\n\tif (!searchQuery || searchQuery.length < 2) {\n\t\treturn Promise.resolve(issueSearchResource.data || [])\n\t}\n\treturn issueSearchResource.reload({ search_query: searchQuery, limit }).then(() => {\n\t\treturn issueSearchResource.data || []\n\t})\n}\n\n// Suggestion filtering has been removed - suggestions now open issues in new tabs\n\n// Resource for filtering issues by stat type\nexport const statFilterResource = createResource({\n\turl: \"force_trans_customization.api.issues.get_issues_by_stat_filter\",\n\tmakeParams(params) {\n\t\tconst safeParams = params || {}\n\t\tconst result = {\n\t\t\tstat_type: safeParams.stat_type || \"team_tickets\",\n\t\t\tlimit_page_length: safeParams.limit_page_length || 10,\n\t\t\tlimit_start: safeParams.limit_start || 0,\n\t\t\torder_by: safeParams.order_by || \"creation desc\",\n\t\t}\n\t\t\n\t\t// Add filters if provided\n\t\tif (safeParams.filters) {\n\t\t\tresult.filters = safeParams.filters\n\t\t}\n\t\t\n\t\treturn result\n\t},\n\tonError(error) {\n\t\tconsole.error(\"Failed to filter issues by stat:\", error)\n\t\tif (window.$toast) {\n\t\t\twindow.$toast({\n\t\t\t\ttitle: \"Error\",\n\t\t\t\ttext: \"Failed to filter issues. Please try again.\",\n\t\t\t\ticon: \"x\",\n\t\t\t\ticonClasses: \"text-red-600\",\n\t\t\t})\n\t\t}\n\t},\n\tauto: false, // Don't auto-fetch, only fetch when called\n})\n\n// Resource for getting count of issues by stat filter\nexport const statFilterCountResource = createResource({\n\turl: \"force_trans_customization.api.issues.get_stat_filter_count\",\n\tmakeParams(params) {\n\t\tconst safeParams = params || {}\n\t\tconst result = {\n\t\t\tstat_type: safeParams.stat_type || \"team_tickets\",\n\t\t}\n\t\t\n\t\t// Add filters if provided\n\t\tif (safeParams.filters) {\n\t\t\tresult.filters = safeParams.filters\n\t\t}\n\t\t\n\t\treturn result\n\t},\n\tonError(error) {\n\t\tconsole.error(\"Failed to get stat filter count:\", error)\n\t},\n\tauto: false, // Don't auto-fetch, only fetch when called\n})\n\n// Helper function to filter issues by stat type\nexport function filterIssuesByStat(statType, params = {}) {\n\tconst filterParams = {\n\t\tstat_type: statType,\n\t\tlimit_page_length: params.limit_page_length || 10,\n\t\tlimit_start: params.limit_start || 0,\n\t\torder_by: params.order_by || \"creation desc\",\n\t}\n\t\n\t// Add filters if provided\n\tif (params.filters) {\n\t\tfilterParams.filters = params.filters\n\t}\n\t\n\tconsole.log('filterIssuesByStat params:', filterParams)\n\treturn statFilterResource.reload(filterParams)\n}\n\n// Helper function to get count of issues by stat filter\nexport function getStatFilterCount(statType, filters = null) {\n\tconst params = {\n\t\tstat_type: statType,\n\t}\n\t\n\t// Add filters if provided\n\tif (filters) {\n\t\tparams.filters = filters\n\t}\n\t\n\treturn statFilterCountResource.reload(params)\n}\n\n// Helper function to refresh all filter options and clear caches\nexport function refreshFilterOptions() {\n\t// Clear caches before reloading\n\tpriorityOptionsCache = null\n\tissueTypeOptionsCache = null\n\tprojectOptionsCache = null\n\t\n\tissuePriorityResource.reload()\n\tissueTypeResource.reload()\n\tprojectResource.reload()\n\ttagColorsResource.reload()\n}\n\n// Cache invalidation is handled by checking data freshness in the getter functions\n// The frappe-ui createResource doesn't support event listeners, so we rely on\n// the cache validation logic in getPriorityOptions, getIssueTypeOptions, and getProjectOptions\n","<template>\n\t<div class=\"relative w-full max-w-2xl mx-auto\">\n\t\t<!-- Search Input Container -->\n\t\t<div class=\"relative group\">\n\t\t\t<!-- Search Icon -->\n\t\t\t<div class=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10\">\n\t\t\t\t<svg class=\"h-5 w-5 text-slate-400 transition-colors duration-200 group-focus-within:text-blue-500\"\n\t\t\t\t\tfill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n\t\t\t\t\t\td=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n\t\t\t\t</svg>\n\t\t\t</div>\n\n\t\t\t<!-- Main Search Input -->\n\t\t\t<input ref=\"searchInput\" type=\"text\" v-model=\"searchQuery\" @input=\"handleSearch\" @focus=\"handleFocus\"\n\t\t\t\t@blur=\"handleBlur\" @keydown=\"handleKeydown\" :placeholder=\"placeholder\" class=\"w-full h-14 pl-12 pr-20 text-base bg-white border border-slate-200 rounded-2xl \n                       placeholder-slate-400 text-slate-700 transition-all duration-200 ease-out\n                       focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 \n                       focus:bg-white hover:border-slate-300 hover:shadow-sm focus:shadow-lg\n                       backdrop-blur-sm\" :class=\"{\n\t\t\t\t\t\t'shadow-lg ring-2 ring-blue-500/20 border-blue-500': isFocused,\n\t\t\t\t\t\t'bg-slate-50/50': !isFocused && searchQuery\n\t\t\t\t\t}\" />\n\n\t\t\t<!-- Right Side Controls -->\n\t\t\t<div class=\"absolute inset-y-0 right-0 flex items-center pr-4 space-x-2\">\n\t\t\t\t<!-- Clear Button -->\n\t\t\t\t<button v-if=\"searchQuery\" @click=\"clearSearch\" class=\"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg \n                           transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20\"\n\t\t\t\t\taria-label=\"Clear search\">\n\t\t\t\t\t<svg class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n\t\t\t\t\t\t\td=\"M6 18L18 6M6 6l12 12\" />\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\n\t\t\t\t<!-- Keyboard Shortcut Hint -->\n\t\t\t\t<div v-if=\"!searchQuery && !isFocused\" class=\"flex items-center pointer-events-none\">\n\t\t\t\t\t<kbd class=\"hidden sm:inline-flex items-center px-2.5 py-1.5 border border-slate-200 \n                               rounded-lg text-xs font-mono text-slate-400 bg-slate-50/80 shadow-sm\">\n\t\t\t\t\t\t<span class=\"text-xs\">+</span>K\n\t\t\t\t\t</kbd>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Loading Spinner -->\n\t\t\t\t<div v-if=\"isLoading\" class=\"animate-spin\">\n\t\t\t\t\t<svg class=\"h-4 w-4 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\">\n\t\t\t\t\t\t</circle>\n\t\t\t\t\t\t<path class=\"opacity-75\" fill=\"currentColor\"\n\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Search Results Dropdown -->\n\t\t<div v-if=\"showSuggestions\" class=\"absolute z-50 w-full mt-3 bg-white border border-slate-200 rounded-2xl shadow-2xl \n                    overflow-hidden backdrop-blur-sm bg-white/95\"\n\t\t\t:class=\"{ 'animate-in slide-in-from-top-2 duration-200': showSuggestions }\">\n\n\t\t\t<!-- Results Header -->\n\t\t\t<div v-if=\"searchSuggestions.length > 0\"\n\t\t\t\tclass=\"px-4 py-3 bg-gradient-to-r from-slate-50 to-slate-100/50 border-b border-slate-100\">\n\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t<span class=\"text-xs font-semibold text-slate-600 uppercase tracking-wider\">\n\t\t\t\t\t\t{{ searchSuggestions.length }} Result{{ searchSuggestions.length !== 1 ? 's' : '' }}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class=\"text-xs text-slate-500\">\n\t\t\t\t\t\t{{ Math.round(searchTime) }}ms\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Search Results -->\n\t\t\t<div ref=\"suggestionsContainer\"\n\t\t\t\tclass=\"max-h-80 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent\">\n\t\t\t\t<div v-if=\"searchSuggestions.length === 0 && searchQuery.length >= 2\" class=\"px-6 py-8 text-center\">\n\t\t\t\t\t<div class=\"w-16 h-16 mx-auto mb-4 bg-slate-100 rounded-full flex items-center justify-center\">\n\t\t\t\t\t\t<svg class=\"w-8 h-8 text-slate-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n\t\t\t\t\t\t\t\td=\"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class=\"text-slate-500 text-sm font-medium\">No issues found</p>\n\t\t\t\t\t<p class=\"text-slate-400 text-xs mt-1\">Try adjusting your search terms</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-for=\"(suggestion, index) in searchSuggestions\" :key=\"suggestion.name || index\"\n\t\t\t\t\t:ref=\"el => suggestionRefs[index] = el\" @click=\"selectSuggestion(suggestion)\" class=\"group px-4 py-4 hover:bg-blue-50/50 cursor-pointer transition-all duration-150 \n                            border-b border-slate-50 last:border-b-0\" :class=\"{\n\t\t\t\t\t\t\t\t'bg-blue-50 ring-2 ring-blue-500/10': index === selectedSuggestionIndex\n\t\t\t\t\t\t\t}\">\n\t\t\t\t\t<div class=\"flex items-start space-x-4\">\n\t\t\t\t\t\t<!-- Issue Icon -->\n\t\t\t\t\t\t<div class=\"flex-shrink-0 mt-0.5\">\n\t\t\t\t\t\t\t<div class=\"w-10 h-10 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl \n                                        flex items-center justify-center group-hover:from-blue-200 group-hover:to-blue-300 \n                                        transition-all duration-200\">\n\t\t\t\t\t\t\t\t<svg class=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\td=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Issue Content -->\n\t\t\t\t\t\t<div class=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t<div class=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t<h4 class=\"text-sm font-semibold text-slate-900 truncate group-hover:text-blue-900 \n                                               transition-colors duration-150\">\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tv-html=\"highlightMatch(suggestion.subject || suggestion.name, searchQuery)\"></span>\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t<p class=\"text-xs text-slate-500 mt-1 line-clamp-2\">\n\t\t\t\t\t\t\t\t\t\tID: {{ suggestion.name }}\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"suggestion.customer\" class=\"ml-2\"> {{ suggestion.customer }}</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- Status Badge -->\n\t\t\t\t\t\t\t\t<div class=\"flex-shrink-0 ml-4\">\n\t\t\t\t\t\t\t\t\t<span class=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium \n                                                 transition-colors duration-150\"\n\t\t\t\t\t\t\t\t\t\t:class=\"getStatusBadgeClass(suggestion.status)\">\n\t\t\t\t\t\t\t\t\t\t{{ suggestion.status }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Additional Info -->\n\t\t\t\t\t\t\t<div class=\"mt-2 flex items-center justify-between text-xs text-slate-400\">\n\t\t\t\t\t\t\t\t<!-- Raised By -->\n\t\t\t\t\t\t\t\t<div v-if=\"suggestion.raised_by\" class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<svg class=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t{{ suggestion.raised_by }}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- Creation Date -->\n\t\t\t\t\t\t\t\t<div v-if=\"suggestion.creation\" class=\"flex items-center\">\n\t\t\t\t\t\t\t\t\t<svg class=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\td=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t{{ formatCreationDate(suggestion.creation) }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Footer with shortcuts -->\n\t\t\t<div v-if=\"searchQuery && searchSuggestions.length > 0\"\n\t\t\t\tclass=\"px-4 py-3 bg-slate-50/50 border-t border-slate-100\">\n\t\t\t\t<div class=\"flex items-center justify-between text-xs text-slate-500\">\n\t\t\t\t\t<div class=\"flex items-center space-x-4\">\n\t\t\t\t\t\t<span class=\"flex items-center\">\n\t\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\t\tclass=\"px-1.5 py-0.5 bg-white border border-slate-200 rounded text-xs font-mono mr-1\"></kbd>\n\t\t\t\t\t\t\tto select\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"flex items-center\">\n\t\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\t\tclass=\"px-1.5 py-0.5 bg-white border border-slate-200 rounded text-xs font-mono mr-1\"></kbd>\n\t\t\t\t\t\t\tto navigate\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class=\"flex items-center\">\n\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\tclass=\"px-1.5 py-0.5 bg-white border border-slate-200 rounded text-xs font-mono mr-1\">esc</kbd>\n\t\t\t\t\t\tto close\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Backdrop -->\n\t\t<div v-if=\"showSuggestions\" class=\"fixed inset-0 z-40 bg-black/5\" @click=\"hideSuggestions\">\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue'\nimport { searchIssues } from '../data/issues'\n\nconst props = defineProps({\n\tmodelValue: {\n\t\ttype: String,\n\t\tdefault: ''\n\t},\n\tplaceholder: {\n\t\ttype: String,\n\t\tdefault: 'Search issues by title, description, ID...'\n\t},\n\tissues: {\n\t\ttype: Array,\n\t\tdefault: () => []\n\t}\n})\n\nconst emit = defineEmits(['update:modelValue', 'search', 'suggestion-selected'])\n\nconst searchInput = ref(null)\nconst searchQuery = ref(props.modelValue)\nconst isFocused = ref(false)\nconst showSuggestions = ref(false)\nconst selectedSuggestionIndex = ref(-1)\nconst isLoading = ref(false)\nconst searchTime = ref(0)\n\n// Refs for auto-scroll functionality\nconst suggestionsContainer = ref(null)\nconst suggestionRefs = ref([])\n\n// Debounce timer for search\nlet searchTimeout = null\n\n// Watch for external changes to modelValue\nwatch(() => props.modelValue, (newValue) => {\n\tsearchQuery.value = newValue\n})\n\n// Watch for changes in search query\nwatch(searchQuery, (newValue) => {\n\temit('update:modelValue', newValue)\n\temit('search', newValue)\n})\n\n// Search suggestions from API\nconst searchSuggestions = ref([])\n\n// Function to fetch search suggestions from API\nconst fetchSearchSuggestions = async (query) => {\n\tif (!query || query.length < 2) {\n\t\tsearchSuggestions.value = []\n\t\tshowSuggestions.value = false\n\t\tisLoading.value = false\n\t\treturn\n\t}\n\n\ttry {\n\t\tisLoading.value = true\n\t\tconst startTime = performance.now()\n\n\t\tconst results = await searchIssues(query, 8)\n\n\t\tsearchTime.value = performance.now() - startTime\n\t\tsearchSuggestions.value = results || []\n\t\tshowSuggestions.value = true\n\n\t} catch (error) {\n\t\tconsole.error('Search error:', error)\n\t\tsearchSuggestions.value = []\n\t\tshowSuggestions.value = false\n\t} finally {\n\t\tisLoading.value = false\n\t}\n}\n\n// Debounced search function\nconst debouncedSearch = (query) => {\n\t// Clear any existing timeout\n\tif (searchTimeout) {\n\t\tclearTimeout(searchTimeout)\n\t}\n\n\t// Reset selected suggestion index when typing\n\tselectedSuggestionIndex.value = -1\n\n\t// If query is too short, clear suggestions immediately\n\tif (!query || query.length < 2) {\n\t\tsearchSuggestions.value = []\n\t\tshowSuggestions.value = false\n\t\tisLoading.value = false\n\t\treturn\n\t}\n\n\t// Show loading state immediately for better UX\n\tisLoading.value = true\n\n\t// Set new timeout for 1 second\n\tsearchTimeout = setTimeout(() => {\n\t\tfetchSearchSuggestions(query)\n\t}, 1000)\n}\n\nconst handleSearch = () => {\n\tdebouncedSearch(searchQuery.value)\n}\n\n// Highlight matching text in search results\nconst highlightMatch = (text, query) => {\n\tif (!text || !query) return text\n\n\tconst escapedQuery = query.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n\tconst regex = new RegExp(`(${escapedQuery})`, 'gi')\n\treturn text.replace(regex, '<mark class=\"bg-yellow-200 text-yellow-900 px-0.5 rounded\">$1</mark>')\n}\n\n// Get status badge styling\nconst getStatusBadgeClass = (status) => {\n\tconst statusClasses = {\n\t\t'Open': 'bg-green-100 text-green-800 border border-green-200',\n\t\t'New': 'bg-blue-100 text-blue-800 border border-blue-200',\n\t\t'In Progress': 'bg-blue-100 text-blue-800 border border-blue-200',\n\t\t'In Review': 'bg-orange-100 text-orange-800 border border-orange-200',\n\t\t'Resolved': 'bg-gray-100 text-gray-800 border border-gray-200',\n\t\t'Closed': 'bg-red-100 text-red-800 border border-red-200',\n\t\t'Pending': 'bg-yellow-100 text-yellow-800 border border-yellow-200',\n\t\t'On Hold': 'bg-orange-100 text-orange-800 border border-orange-200',\n\t\t'Delivered': 'bg-green-100 text-green-800 border border-green-200',\n\t\t'Confirmed': 'bg-purple-100 text-purple-800 border border-purple-200'\n\t}\n\n\treturn statusClasses[status] || 'bg-gray-100 text-gray-800 border border-gray-200'\n}\n\nconst handleFocus = () => {\n\tisFocused.value = true\n\t// Clear any pending blur timeout to prevent suggestions from hiding\n\tif (blurTimeout) {\n\t\tclearTimeout(blurTimeout)\n\t\tblurTimeout = null\n\t}\n\n\t// Show suggestions if there's a query and we have results or need to fetch them\n\tif (searchQuery.value.length >= 2) {\n\t\t// If we already have suggestions, show them immediately\n\t\tif (searchSuggestions.value.length > 0) {\n\t\t\tshowSuggestions.value = true\n\t\t} else {\n\t\t\t// Otherwise, fetch new suggestions\n\t\t\tfetchSearchSuggestions(searchQuery.value)\n\t\t}\n\t}\n}\n\n// Add blur timeout variable\nlet blurTimeout = null\n\nconst handleBlur = () => {\n\tisFocused.value = false\n\t// Use a timeout to allow for click events on suggestions\n\tblurTimeout = setTimeout(() => {\n\t\tshowSuggestions.value = false\n\t\tblurTimeout = null\n\t}, 200)\n}\n\nconst handleKeydown = (event) => {\n\tif (!showSuggestions.value) return\n\n\tswitch (event.key) {\n\t\tcase 'ArrowDown':\n\t\t\tevent.preventDefault()\n\t\t\tselectedSuggestionIndex.value = Math.min(\n\t\t\t\tselectedSuggestionIndex.value + 1,\n\t\t\t\tsearchSuggestions.value.length - 1\n\t\t\t)\n\t\t\t// Auto-scroll to the selected suggestion\n\t\t\tscrollToSelectedSuggestion()\n\t\t\tbreak\n\t\tcase 'ArrowUp':\n\t\t\tevent.preventDefault()\n\t\t\tselectedSuggestionIndex.value = Math.max(selectedSuggestionIndex.value - 1, -1)\n\t\t\t// Auto-scroll to the selected suggestion\n\t\t\tscrollToSelectedSuggestion()\n\t\t\tbreak\n\t\tcase 'Enter':\n\t\t\tevent.preventDefault()\n\t\t\tif (selectedSuggestionIndex.value >= 0) {\n\t\t\t\tselectSuggestion(searchSuggestions.value[selectedSuggestionIndex.value])\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'Escape':\n\t\t\thideSuggestions()\n\t\t\tsearchInput.value?.blur()\n\t\t\tbreak\n\t}\n\n}\n\nconst selectSuggestion = (suggestion) => {\n\tsearchQuery.value = suggestion.name\n\thideSuggestions()\n\t\n\t// Navigate to Frappe issue page\n\tconst hostname = window.location.origin\n\tconst issueUrl = `${hostname}/app/issue/${suggestion.name}`\n\twindow.open(issueUrl, '_blank')\n\t\n\temit('suggestion-selected', suggestion)\n}\n\nconst clearSearch = () => {\n\tsearchQuery.value = ''\n\thideSuggestions()\n\tsearchInput.value?.focus()\n}\n\nconst hideSuggestions = () => {\n\tshowSuggestions.value = false\n\tselectedSuggestionIndex.value = -1\n}\n\n// Function to scroll selected suggestion into view\nconst scrollToSelectedSuggestion = () => {\n\tif (selectedSuggestionIndex.value < 0 || !suggestionsContainer.value || !suggestionRefs.value[selectedSuggestionIndex.value]) {\n\t\treturn\n\t}\n\n\tconst container = suggestionsContainer.value\n\tconst selectedElement = suggestionRefs.value[selectedSuggestionIndex.value]\n\n\tif (selectedElement) {\n\t\t// Get the position of the selected element relative to the container\n\t\tconst containerRect = container.getBoundingClientRect()\n\t\tconst elementRect = selectedElement.getBoundingClientRect()\n\n\t\t// Calculate if the element is outside the visible area\n\t\tconst elementTop = elementRect.top - containerRect.top + container.scrollTop\n\t\tconst elementBottom = elementTop + elementRect.height\n\n\t\tconst containerScrollTop = container.scrollTop\n\t\tconst containerHeight = container.clientHeight\n\n\t\t// Scroll if element is above the visible area\n\t\tif (elementTop < containerScrollTop) {\n\t\t\tcontainer.scrollTop = elementTop\n\t\t}\n\t\t// Scroll if element is below the visible area\n\t\telse if (elementBottom > containerScrollTop + containerHeight) {\n\t\t\tcontainer.scrollTop = elementBottom - containerHeight\n\t\t}\n\t}\n}\n\n// Function to format creation date for display\nconst formatCreationDate = (dateString) => {\n\tif (!dateString) return ''\n\n\ttry {\n\t\tconst date = new Date(dateString)\n\t\tconst now = new Date()\n\t\tconst diffTime = Math.abs(now - date)\n\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n\n\t\t// If less than 1 day, show relative time\n\t\tif (diffDays === 1) {\n\t\t\treturn 'Today'\n\t\t} else if (diffDays === 2) {\n\t\t\treturn 'Yesterday'\n\t\t} else if (diffDays <= 7) {\n\t\t\treturn `${diffDays - 1} days ago`\n\t\t} else {\n\t\t\t// Otherwise show formatted date\n\t\t\treturn date.toLocaleDateString('en-US', {\n\t\t\t\tmonth: 'short',\n\t\t\t\tday: 'numeric',\n\t\t\t\tyear: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\n\t\t\t})\n\t\t}\n\t} catch (error) {\n\t\tconsole.error('Error formatting date:', error)\n\t\treturn dateString\n\t}\n}\n\n// Global keyboard shortcut (Cmd+K / Ctrl+K)\nconst handleGlobalKeydown = (event) => {\n\tif ((event.metaKey || event.ctrlKey) && event.key === 'k') {\n\t\tevent.preventDefault()\n\t\tsearchInput.value?.focus()\n\t\tsearchInput.value?.select()\n\t}\n}\n\nonMounted(() => {\n\tdocument.addEventListener('keydown', handleGlobalKeydown)\n})\n\nonUnmounted(() => {\n\tdocument.removeEventListener('keydown', handleGlobalKeydown)\n\t// Clean up any pending timeouts\n\tif (searchTimeout) {\n\t\tclearTimeout(searchTimeout)\n\t}\n\tif (blurTimeout) {\n\t\tclearTimeout(blurTimeout)\n\t}\n})\n\n// Expose methods for parent component\ndefineExpose({\n\tfocus: () => {\n\t\tsearchInput.value?.focus()\n\t\tsearchInput.value?.select()\n\t},\n\tselect: () => searchInput.value?.select(),\n\t$el: searchInput\n})\n</script>\n\n<style scoped>\n/* Custom scrollbar styles */\n.scrollbar-thin {\n\tscrollbar-width: thin;\n}\n\n.scrollbar-thumb-slate-200::-webkit-scrollbar-thumb {\n\tbackground-color: rgb(226 232 240);\n\tborder-radius: 0.375rem;\n}\n\n.scrollbar-track-transparent::-webkit-scrollbar-track {\n\tbackground-color: transparent;\n}\n\n.scrollbar-thin::-webkit-scrollbar {\n\twidth: 6px;\n}\n\n/* Animation classes */\n@keyframes slide-in-from-top {\n\tfrom {\n\t\topacity: 0;\n\t\ttransform: translateY(-10px);\n\t}\n\n\tto {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t}\n}\n\n.animate-in {\n\tanimation-fill-mode: both;\n}\n\n.slide-in-from-top-2 {\n\tanimation-name: slide-in-from-top;\n}\n\n.duration-200 {\n\tanimation-duration: 200ms;\n}\n\n/* Line clamp utility */\n.line-clamp-2 {\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 2;\n\t-webkit-box-orient: vertical;\n\toverflow: hidden;\n}\n\n/* Focus ring improvements */\n.focus\\:ring-blue-500\\/20:focus {\n\t--tw-ring-color: rgb(59 130 246 / 0.2);\n}\n\n/* Backdrop blur support */\n.backdrop-blur-sm {\n\tbackdrop-filter: blur(4px);\n}\n\n/* Background opacity utilities */\n.bg-white\\/95 {\n\tbackground-color: rgb(255 255 255 / 0.95);\n}\n\n.bg-slate-50\\/50 {\n\tbackground-color: rgb(248 250 252 / 0.5);\n}\n\n.bg-slate-50\\/80 {\n\tbackground-color: rgb(248 250 252 / 0.8);\n}\n\n.bg-blue-50\\/50 {\n\tbackground-color: rgb(239 246 255 / 0.5);\n}\n\n.bg-black\\/5 {\n\tbackground-color: rgb(0 0 0 / 0.05);\n}\n\n.ring-blue-500\\/10 {\n\t--tw-ring-color: rgb(59 130 246 / 0.1);\n}\n\n.ring-blue-500\\/20 {\n\t--tw-ring-color: rgb(59 130 246 / 0.2);\n}\n</style>","<template>\n  <div class=\"bg-white p-6 rounded-lg shadow-sm border mb-6\">\n    <!-- Search Section -->\n    <div class=\"mb-6\">\n      <div class=\"relative max-w-2xl mx-auto\">\n        <CustomSearchBox ref=\"searchBoxRef\" :model-value=\"searchQuery\" @update:model-value=\"handleSearchChange\"\n          @suggestion-selected=\"handleSuggestionSelected\" :issues=\"issues\"\n          placeholder=\"Search issues by title, description, assignee...\" class=\"awesome-search\" />\n        <div v-if=\"searchQuery\" class=\"absolute top-full left-0 right-0 mt-1 text-sm text-gray-500 text-center\">\n          Searching in {{ filteredCount }} issues\n        </div>\n      </div>\n    </div>\n\n    <!-- Filter Controls -->\n    <div class=\"border-t border-gray-200 pt-4\">\n      <div class=\"flex items-center justify-between\">\n        <!-- Left: Filter button and active filters -->\n        <div class=\"flex items-center space-x-3 flex-1\">\n          <button @click=\"showFilterPanel = !showFilterPanel\"\n            class=\"inline-flex items-center space-x-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium text-gray-700 transition-colors\">\n            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z\"/>\n            </svg>\n            <span>Filters</span>\n            <span v-if=\"appliedFilters.length > 0\" class=\"bg-blue-600 text-white text-xs px-1.5 py-0.5 rounded-full\">\n              {{ appliedFilters.length }}\n            </span>\n          </button>\n\n          <!-- Active Filters Display -->\n          <div v-if=\"appliedFilters.length > 0\" class=\"flex items-center flex-1 overflow-x-auto flex-wrap gap-2\">\n            <div v-for=\"(filter, index) in appliedFilters\" :key=\"filter.id\" \n              class=\"flex items-center space-x-1 bg-green-100 border border-green-200 rounded px-2 py-1 text-sm whitespace-nowrap\">\n              <span class=\"text-green-800 font-medium\">{{ getFieldLabel(filter.field) }}</span>\n              <span class=\"text-green-600\">{{ filter.operator }}</span>\n              <span class=\"text-green-900\">{{ getDisplayValue(filter) }}</span>\n              <button @click=\"removeAppliedFilter(index)\" class=\"text-green-400 hover:text-red-600 ml-1\">\n                <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Right: Clear and Apply buttons -->\n        <div class=\"flex items-center space-x-2 ml-4\">\n          <button v-if=\"appliedFilters.length > 0 || searchQuery\" \n            @click=\"clearAllFilters\"\n            class=\"px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors\">\n            Clear All\n          </button>\n          <button v-if=\"pendingFilters.length > 0\"\n            @click=\"applyFilters\"\n            :class=\"[\n              'px-4 py-2 text-sm font-medium rounded-md transition-all duration-200',\n              isApplyingFilters ? 'bg-blue-500 text-white cursor-wait' :\n              hasPendingChanges ? 'bg-blue-600 text-white hover:bg-blue-700' : 'bg-gray-300 text-gray-600 cursor-not-allowed'\n            ]\"\n            :disabled=\"!hasPendingChanges || isApplyingFilters\">\n            <span v-if=\"isApplyingFilters\" class=\"flex items-center\">\n              <svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Applying...\n            </span>\n            <span v-else>\n              {{ hasPendingChanges ? 'Apply Filters' : 'Filters Applied' }}\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Filter Panel -->\n    <div v-if=\"showFilterPanel\" class=\"relative\">\n      <div class=\"absolute top-2 left-0 right-0 z-50 bg-white border border-gray-200 rounded-lg shadow-lg\" @click.stop>\n        <div class=\"flex\">\n          <!-- Left: Field Selection -->\n          <div class=\"w-48 border-r border-gray-200 bg-gray-50\">\n            <div class=\"p-3 border-b border-gray-200\">\n              <h4 class=\"text-sm font-medium text-gray-900\">Add Filter</h4>\n            </div>\n            <div class=\"max-h-64 overflow-y-auto\">\n              <button v-for=\"field in availableFields\" :key=\"field.value\"\n                @click.stop=\"addFilter(field.value)\"\n                class=\"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between\">\n                <span>{{ field.label }}</span>\n                <span class=\"text-xs text-gray-400 bg-gray-200 px-1 rounded\">{{ field.type }}</span>\n              </button>\n            </div>\n          </div>\n\n          <!-- Right: Active Filters -->\n          <div class=\"flex-1 min-w-96\">\n            <div class=\"p-4\">\n              <div v-if=\"pendingFilters.length === 0\" class=\"text-center py-8 text-gray-500\">\n                <p class=\"text-sm\">Select a field from the left to add a filter</p>\n              </div>\n              \n              <div v-else class=\"space-y-4\">\n                <div v-for=\"(filter, index) in pendingFilters\" :key=\"filter.id\" \n                  class=\"grid grid-cols-12 gap-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg shadow-sm hover:shadow-md transition-shadow\">\n                  \n                  <!-- Field Name -->\n                  <div class=\"col-span-2 flex items-center\">\n                    <span class=\"text-sm font-semibold text-gray-800 bg-white px-2 py-1 rounded-md border border-gray-200\">\n                      {{ getFieldLabel(filter.field) }}\n                    </span>\n                  </div>\n\n                  <!-- Operator -->\n                  <div class=\"col-span-2 flex items-center\">\n                    <Dropdown \n                      :options=\"getOperatorDropdownOptions(filter.field, filter)\"\n                      :placement=\"'left'\"\n                    >\n                      <template #default=\"{ open }\">\n                        <button \n                          :class=\"[\n                            'w-full px-3 py-2 text-sm border rounded-md transition-all duration-200 flex items-center justify-between bg-white hover:bg-gray-50',\n                            open ? 'border-blue-500 ring-2 ring-blue-200 shadow-md' : 'border-gray-300 hover:border-gray-400 shadow-sm'\n                          ]\"\n                        >\n                          <span class=\"text-gray-700 font-medium truncate\">{{ getOperatorLabel(filter.operator, filter.field) }}</span>\n                          <svg class=\"w-4 h-4 text-gray-400 flex-shrink-0 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n                          </svg>\n                        </button>\n                      </template>\n                    </Dropdown>\n                  </div>\n\n                  <!-- Dynamic Value Input -->\n                  <div class=\"col-span-7\">\n                    <!-- Text Input -->\n                    <input v-if=\"getFieldType(filter.field) === 'text'\" \n                      v-model=\"filter.value\" \n                      type=\"text\" \n                      :placeholder=\"getFieldPlaceholder(filter.field)\"\n                      class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                    \n                    <!-- Email Input -->\n                    <input v-else-if=\"getFieldType(filter.field) === 'email'\" \n                      v-model=\"filter.value\" \n                      type=\"email\" \n                      :placeholder=\"getFieldPlaceholder(filter.field)\"\n                      class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                    \n                    <!-- DateTime Input -->\n                    <div v-else-if=\"getFieldType(filter.field) === 'datetime'\" class=\"space-y-2\">\n                      <div v-if=\"filter.operator === 'between'\" class=\"grid grid-cols-2 gap-2\">\n                        <div>\n                          <input v-model=\"filter.startValue\" \n                            type=\"datetime-local\" \n                            placeholder=\"Start date and time\"\n                            @input=\"updateDateRange(filter)\"\n                            class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                          <p class=\"text-xs text-gray-500 mt-1\">From</p>\n                        </div>\n                        <div>\n                          <input v-model=\"filter.endValue\" \n                            type=\"datetime-local\" \n                            placeholder=\"End date and time\"\n                            @input=\"updateDateRange(filter)\"\n                            class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                          <p class=\"text-xs text-gray-500 mt-1\">To</p>\n                        </div>\n                      </div>\n                      <div v-else>\n                        <input v-model=\"filter.value\" \n                          type=\"datetime-local\" \n                          class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                        <p class=\"text-xs text-gray-500 italic mt-1\">Select date and time</p>\n                      </div>\n                    </div>\n\n                    <!-- Date Input -->\n                    <div v-else-if=\"getFieldType(filter.field) === 'date'\" class=\"space-y-2\">\n                      <div v-if=\"filter.operator === 'between'\" class=\"grid grid-cols-2 gap-2\">\n                        <div>\n                          <input v-model=\"filter.startValue\" \n                            type=\"date\" \n                            @input=\"updateDateRange(filter)\"\n                            class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                          <p class=\"text-xs text-gray-500 mt-1\">From</p>\n                        </div>\n                        <div>\n                          <input v-model=\"filter.endValue\" \n                            type=\"date\" \n                            @input=\"updateDateRange(filter)\"\n                            class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                          <p class=\"text-xs text-gray-500 mt-1\">To</p>\n                        </div>\n                      </div>\n                      <div v-else>\n                        <input v-model=\"filter.value\" \n                          type=\"date\" \n                          class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                      </div>\n                    </div>\n                    \n                    <!-- Select/ComboBox for Options -->\n                    <div v-else-if=\"getFieldType(filter.field) === 'select'\" class=\"relative\">\n                      <div v-if=\"!filter.isMultiSelect\">\n                        <!-- Simple select for priority field -->\n                        <select v-if=\"filter.field === 'priority' || filter.field === 'status' || filter.field === 'issue_type'\"\n                          v-model=\"filter.value\"\n                          @keydown.enter.prevent=\"$event.target.blur()\"\n                          class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\"\n                        >\n                          <option value=\"\">Select {{ getFieldLabel(filter.field) }}...</option>\n                          <option v-for=\"option in getFieldOptions(filter.field)\" :key=\"option.value\" :value=\"option.value\">\n                            {{ option.label }}\n                          </option>\n                        </select>\n                      </div>\n                      \n                      <!-- Multi-select for tags, users, etc -->\n                      <div v-else class=\"space-y-2\">\n                        <div v-if=\"getSelectedValues(filter.value).length > 0\" class=\"flex flex-wrap gap-1 mb-2 p-2 bg-white rounded-md border border-gray-200\">\n                          <span v-for=\"(selectedValue, idx) in getSelectedValues(filter.value)\" :key=\"idx\"\n                            class=\"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full border border-blue-200 hover:bg-blue-200 transition-colors\">\n                            {{ getDisplayValueForOption(selectedValue, filter.field) }}\n                            <button @click=\"removeSelectedValue(filter, idx)\" class=\"ml-1 text-blue-600 hover:text-red-600 transition-colors\">\n                              <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n                              </svg>\n                            </button>\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Link/Reference Input with ComboBox -->\n                    <div v-else-if=\"getFieldType(filter.field) === 'link'\" class=\"space-y-2\">\n                      <!-- Multi-select for all link fields -->\n                      <div class=\"space-y-2\">\n                        <!-- Selected Items Display -->\n                        <div v-if=\"getSelectedValues(filter.value).length > 0\" class=\"flex flex-wrap gap-1 mb-2 p-2 bg-white rounded-md border border-gray-200\">\n                          <span v-for=\"(selectedValue, idx) in getSelectedValues(filter.value)\" :key=\"idx\"\n                            class=\"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full border border-blue-200 hover:bg-blue-200 transition-colors\">\n                            {{ getDisplayValueForUser(selectedValue, filter) }}\n                            <button @click=\"removeSelectedValue(filter, idx)\" class=\"ml-1 text-blue-600 hover:text-red-600 transition-colors\">\n                              <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n                              </svg>\n                            </button>\n                          </span>\n                        </div>\n                        \n                        <!-- Search Input -->\n                        <div class=\"relative\">\n                          <input \n                            v-model=\"filter.searchValue\" \n                            @input=\"handleLinkSearch(filter, filter.searchValue)\"\n                            @keydown.up.prevent=\"handleLinkKeyNavigation(filter, 'up')\"\n                            @keydown.down.prevent=\"handleLinkKeyNavigation(filter, 'down')\"\n                            @keydown.enter.prevent=\"handleLinkEnter(filter)\"\n                            @keydown.escape=\"clearLinkSuggestions(filter)\"\n                            type=\"text\" \n                            :placeholder=\"`Search and add ${getFieldLabel(filter.field)}...`\"\n                            class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                          \n                          <!-- Loading indicator -->\n                          <div v-if=\"filter.loading\" class=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                            <svg class=\"animate-spin h-4 w-4 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\">\n                              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                              <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                            </svg>\n                          </div>\n                        </div>\n                        \n                        <!-- Search Results Dropdown -->\n                        <div v-if=\"filter.suggestions && filter.suggestions.length > 0 && filter.searchValue\" \n                          class=\"max-h-48 overflow-y-auto border border-gray-200 rounded-md bg-white shadow-lg\">\n                          <button v-for=\"(suggestion, idx) in filter.suggestions\" :key=\"idx\"\n                            @click=\"addUserToMultiSelect(filter, suggestion)\"\n                            :class=\"[\n                              'w-full text-left px-3 py-2 text-sm border-b border-gray-100 last:border-b-0 transition-colors',\n                              filter.selectedLinkIndex === idx ? 'bg-blue-100 text-blue-900' : 'hover:bg-gray-100'\n                            ]\"\n                            :ref=\"filter.selectedLinkIndex === idx ? 'selectedLinkOption' : null\">\n                            <div class=\"font-medium text-gray-900\">{{ suggestion.label }}</div>\n                            <div class=\"text-xs text-gray-500\">{{ suggestion.subtitle }}</div>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Tags/Multi-value Input with Search -->\n                    <div v-else-if=\"getFieldType(filter.field) === 'tags'\" class=\"space-y-2\">\n                      <!-- Selected Tags Display -->\n                      <div v-if=\"getTags(filter.value).length > 0\" class=\"flex flex-wrap gap-1 mb-2 p-2 bg-white rounded-md border border-gray-200\">\n                        <span v-for=\"(tag, idx) in getTags(filter.value)\" :key=\"idx\"\n                          :style=\"getTagStyle(tag)\"\n                          class=\"inline-flex items-center px-2 py-1 text-xs rounded-full border transition-colors\">\n                          {{ tag }}\n                          <button @click=\"removeTag(filter, idx)\" class=\"ml-1 hover:text-red-600 transition-colors\">\n                            <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n                            </svg>\n                          </button>\n                        </span>\n                      </div>\n                      \n                      <!-- Tag Search Input -->\n                      <div class=\"relative\">\n                        <input v-model=\"filter.tagInput\" \n                          @input=\"handleTagSearch(filter, filter.tagInput)\"\n                          @keyup.enter=\"handleTagEnter(filter)\"\n                          @keydown.up.prevent=\"handleTagKeyNavigation(filter, 'up')\"\n                          @keydown.down.prevent=\"handleTagKeyNavigation(filter, 'down')\"\n                          @keydown.escape=\"clearTagSuggestions(filter)\"\n                          type=\"text\" \n                          placeholder=\"Search and select tags from dropdown...\"\n                          class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400\" />\n                        \n                        <!-- Loading indicator -->\n                        <div v-if=\"filter.loadingTags\" class=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                          <svg class=\"animate-spin h-4 w-4 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\">\n                            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                            <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                          </svg>\n                        </div>\n                      </div>\n                      \n                      <!-- Tag Suggestions Dropdown -->\n                      <div v-if=\"filter.tagSuggestions && filter.tagSuggestions.length > 0\" \n                        class=\"max-h-48 overflow-y-auto border border-gray-200 rounded-md bg-white shadow-lg\">\n                        <button v-for=\"(tagSuggestion, idx) in filter.tagSuggestions\" :key=\"idx\"\n                          @click=\"addTagFromSuggestion(filter, tagSuggestion)\"\n                          :class=\"[\n                            'w-full text-left px-3 py-2 text-sm border-b border-gray-100 last:border-b-0 transition-colors',\n                            filter.selectedTagIndex === idx ? 'bg-blue-100 text-blue-900' : 'hover:bg-gray-100'\n                          ]\"\n                          :ref=\"filter.selectedTagIndex === idx ? 'selectedTagOption' : null\">\n                          <div class=\"flex items-center justify-between\">\n                            <div>\n                              <div class=\"font-medium text-gray-900\">{{ tagSuggestion.label }}</div>\n                              <div class=\"text-xs text-gray-500\">{{ tagSuggestion.subtitle }}</div>\n                            </div>\n                            <div v-if=\"tagSuggestion.color\" \n                              class=\"w-3 h-3 rounded-full border border-gray-300\" \n                              :style=\"{ backgroundColor: tagSuggestion.color }\"></div>\n                          </div>\n                        </button>\n                      </div>\n                      \n                      <p class=\"text-xs text-gray-500 italic\">Search existing tags and select from dropdown only</p>\n                    </div>\n                  </div>\n\n                  <!-- Remove Button -->\n                  <div class=\"col-span-1 flex items-start justify-center pt-1\">\n                    <button @click=\"removeFilter(index)\" \n                      class=\"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-all duration-200 group\">\n                      <svg class=\"w-4 h-4 group-hover:scale-110 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Bottom Actions -->\n              <div v-if=\"pendingFilters.length > 0\" class=\"flex justify-between items-center pt-4 mt-4 border-t border-gray-200\">\n                <button @click=\"clearAllFilters\" class=\"text-sm text-gray-600 hover:text-gray-900\">\n                  Clear All\n                </button>\n                <button @click=\"applyFilters\" :disabled=\"!hasPendingChanges || isApplyingFilters\"\n                  :class=\"[\n                    'px-4 py-2 text-sm font-medium rounded transition-all duration-200',\n                    isApplyingFilters ? 'bg-gray-700 text-white cursor-wait' :\n                    hasPendingChanges ? 'bg-gray-900 text-white hover:bg-gray-800' : 'bg-gray-300 text-gray-600 cursor-not-allowed'\n                  ]\">\n                  <span v-if=\"isApplyingFilters\" class=\"flex items-center\">\n                    <svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                      <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    Applying...\n                  </span>\n                  <span v-else>\n                    {{ hasPendingChanges ? 'Apply Filters' : 'Filters Applied' }}\n                  </span>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Backdrop -->\n      <div class=\"fixed inset-0 z-40\" @click=\"showFilterPanel = false\"></div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { Dropdown, Combobox, Autocomplete } from \"frappe-ui\"\nimport { computed, ref, watch, onMounted, onUnmounted, nextTick } from \"vue\"\nimport CustomSearchBox from \"./CustomSearchBox.vue\"\nimport { getTagColor } from '../data/issues.js'\n\n// Props\nconst props = defineProps({\n  searchQuery: { type: String, default: \"\" },\n  filters: { type: Object, default: () => ({}) },\n  filteredCount: { type: Number, default: 0 },\n  issues: { type: Array, default: () => [] },\n})\n\n// Emits\nconst emit = defineEmits([\"update:searchQuery\", \"update:filters\", \"suggestion-selected\", \"filters-applied\"])\n\n// State\nconst searchQuery = ref(props.searchQuery)\nconst showFilterPanel = ref(false)\nconst pendingFilters = ref([])\nconst appliedFilters = ref([])\nlet filterIdCounter = 0\n\n// Loading state for better UX\nconst isApplyingFilters = ref(false)\n\n// Enhanced Field Configuration with Types - Only specified fields\nconst availableFields = [\n  { value: 'subject', label: 'Subject', type: 'text' },\n  { value: 'status', label: 'Status', type: 'select' },\n  { value: 'raised_by', label: 'Raised By', type: 'email' },\n  { value: 'description', label: 'Description', type: 'text' },\n  { value: 'customer', label: 'Customer', type: 'link' },\n  { value: 'contact', label: 'Contact', type: 'link' },\n  { value: 'lead', label: 'Lead', type: 'link' },\n  { value: 'custom_assigned_csm_team', label: 'Assigned CSM Team', type: 'link' },\n  { value: 'custom_users_assigned', label: 'User Assigned', type: 'link' },\n  { value: 'creation', label: 'Created Date', type: 'date' },\n  { value: 'modified', label: 'Modified Date', type: 'date' },\n  { value: '_user_tags', label: 'Tags', type: 'tags' },\n]\n\n// Field Options Data - Only for select type fields\nconst fieldOptions = {\n  status: [\n    { value: 'New', label: 'New' },\n    { value: 'In Review', label: 'In Review' },\n    { value: 'Confirmed', label: 'Confirmed' },\n    { value: 'In Transit', label: 'In Transit' },\n    { value: 'Delivered', label: 'Delivered' },\n    { value: 'Closed', label: 'Closed' },\n  ]\n}\n\n\n// Operator options based on field type\nconst operatorsByType = {\n  text: [\n    { value: 'like', label: 'Contains' },\n    { value: 'equals', label: 'Equals' },\n    { value: 'not_equals', label: 'Not Equals' },\n    { value: 'starts_with', label: 'Starts With' },\n    { value: 'ends_with', label: 'Ends With' }\n  ],\n  email: [\n    { value: 'equals', label: 'Equals' },\n    { value: 'like', label: 'Contains' },\n    { value: 'not_equals', label: 'Not Equals' }\n  ],\n  select: [\n    { value: 'equals', label: 'Equals' },\n    { value: 'not_equals', label: 'Not Equals' },\n    { value: 'in', label: 'In' },\n    { value: 'not_in', label: 'Not In' }\n  ],\n  link: [\n    { value: 'in', label: 'In' },\n    { value: 'equals', label: 'Is' },\n    { value: 'not_equals', label: 'Is Not' },\n    { value: 'like', label: 'Contains' },\n    { value: 'not_in', label: 'Not In' }\n  ],\n  datetime: [\n    { value: 'equals', label: 'On' },\n    { value: 'greater_than', label: 'After' },\n    { value: 'less_than', label: 'Before' },\n    { value: 'between', label: 'Between' }\n  ],\n  date: [\n    { value: 'equals', label: 'On' },\n    { value: 'greater_than', label: 'After' },\n    { value: 'less_than', label: 'Before' },\n    { value: 'between', label: 'Between' }\n  ],\n  tags: [\n    { value: 'has', label: 'Has Tag' },\n    { value: 'has_all', label: 'Has All Tags' },\n    { value: 'not_has', label: 'Does Not Have' }\n  ]\n}\n\n// Computed\nconst hasPendingChanges = computed(() => {\n  return JSON.stringify(pendingFilters.value) !== JSON.stringify(appliedFilters.value)\n})\n\n// Helper Functions\nconst getFieldType = (fieldValue) => {\n  const field = availableFields.find(f => f.value === fieldValue)\n  return field?.type || 'text'\n}\n\nconst isLinkFieldMultiSelect = (fieldValue) => {\n  // All link fields are multiSelect by default\n  return getFieldType(fieldValue) === 'link'\n}\n\nconst getFieldLabel = (fieldValue) => {\n  const field = availableFields.find(f => f.value === fieldValue)\n  return field?.label || fieldValue\n}\n\nconst getFieldPlaceholder = (fieldValue) => {\n  const placeholders = {\n    subject: 'Enter issue title...',\n    description: 'Enter description...',\n    raised_by: 'Enter email address...',\n    customer: 'Search for customer...',\n    contact: 'Search for contact...',\n    lead: 'Search for lead...',\n    custom_assigned_csm_team: 'Search for CSM team...',\n    custom_users_assigned: 'Search for users...',\n    creation: 'Select date',\n    modified: 'Select date'\n  }\n  return placeholders[fieldValue] || `Enter ${getFieldLabel(fieldValue).toLowerCase()}...`\n}\n\nconst getOperatorsForField = (fieldValue) => {\n  const fieldType = getFieldType(fieldValue)\n  return operatorsByType[fieldType] || operatorsByType.text\n}\n\nconst getFieldOptions = (fieldValue) => {\n  return fieldOptions[fieldValue] || []\n}\n\nconst getDisplayValue = (filter) => {\n  if (filter.displayValue) return filter.displayValue\n  if (Array.isArray(filter.value)) return filter.value.join(', ')\n  return filter.value\n}\n\n// Multi-select and Tags Helpers\nconst getSelectedValues = (value) => {\n  if (!value) return []\n  return typeof value === 'string' ? value.split(',').map(v => v.trim()).filter(Boolean) : value\n}\n\nconst removeSelectedValue = (filter, index) => {\n  const values = getSelectedValues(filter.value)\n  values.splice(index, 1)\n  filter.value = values.join(', ')\n}\n\nconst addSelectedValue = (filter, newValue) => {\n  if (!newValue) return\n  const values = getSelectedValues(filter.value)\n  if (!values.includes(newValue)) {\n    values.push(newValue)\n    filter.value = values.join(', ')\n  }\n}\n\nconst getAvailableOptions = (filter) => {\n  const allOptions = getFieldOptions(filter.field)\n  const selectedValues = getSelectedValues(filter.value)\n  return allOptions.filter(option => !selectedValues.includes(option.value))\n}\n\n// Tags Helpers\nconst getTags = (value) => {\n  if (!value) return []\n  return value.split(',').map(v => v.trim()).filter(Boolean)\n}\n\nconst removeTag = (filter, index) => {\n  const tags = getTags(filter.value)\n  tags.splice(index, 1)\n  filter.value = tags.join(', ')\n}\n\n// addTag function removed - now only allowing selection from dropdown\n\n// New helper functions for enhanced functionality\nconst getDisplayValueForUser = (value, filter) => {\n  if (filter.userDisplayMap && filter.userDisplayMap[value]) {\n    return filter.userDisplayMap[value]\n  }\n  return value\n}\n\nconst addUserToMultiSelect = (filter, suggestion) => {\n  const currentValues = getSelectedValues(filter.value)\n  if (!currentValues.includes(suggestion.value)) {\n    currentValues.push(suggestion.value)\n    filter.value = currentValues.join(', ')\n    \n    // Store display name mapping\n    if (!filter.userDisplayMap) filter.userDisplayMap = {}\n    filter.userDisplayMap[suggestion.value] = suggestion.label\n  }\n  filter.searchValue = ''\n  filter.suggestions = []\n  filter.selectedLinkIndex = -1\n}\n\n// Keyboard navigation functions for link fields\nconst handleLinkKeyNavigation = (filter, direction) => {\n  if (!filter.suggestions || filter.suggestions.length === 0) return\n  \n  const maxIndex = filter.suggestions.length - 1\n  \n  // Initialize selectedIndex if not set\n  if (filter.selectedLinkIndex === undefined || filter.selectedLinkIndex === null) {\n    filter.selectedLinkIndex = -1\n  }\n  \n  if (direction === 'down') {\n    filter.selectedLinkIndex = filter.selectedLinkIndex < maxIndex ? filter.selectedLinkIndex + 1 : 0\n  } else if (direction === 'up') {\n    filter.selectedLinkIndex = filter.selectedLinkIndex > 0 ? filter.selectedLinkIndex - 1 : maxIndex\n  }\n  \n  // Scroll selected item into view\n  scrollSelectedLinkIntoView(filter)\n}\n\nconst handleLinkEnter = (filter) => {\n  if (filter.selectedLinkIndex >= 0 && filter.suggestions && filter.suggestions[filter.selectedLinkIndex]) {\n    // Select the highlighted suggestion\n    addUserToMultiSelect(filter, filter.suggestions[filter.selectedLinkIndex])\n  }\n}\n\nconst clearLinkSuggestions = (filter) => {\n  filter.suggestions = []\n  filter.selectedLinkIndex = -1\n}\n\nconst scrollSelectedLinkIntoView = (filter) => {\n  // Use nextTick to ensure DOM is updated\n  nextTick(() => {\n    const selectedElement = document.querySelector(`[ref=\"selectedLinkOption\"]`)\n    if (selectedElement) {\n      selectedElement.scrollIntoView({ block: 'nearest', behavior: 'smooth' })\n    }\n  })\n}\n\n// Tag search helpers\nlet tagSearchTimeouts = {}\n\nconst handleTagSearch = async (filter, searchValue) => {\n  filter.loadingTags = true\n  \n  // Store current selected index to preserve it if possible\n  const previousSelectedIndex = filter.selectedTagIndex\n  \n  // Clear existing timeout for this filter\n  if (tagSearchTimeouts[filter.id]) {\n    clearTimeout(tagSearchTimeouts[filter.id])\n  }\n  \n  // Debounce search requests\n  tagSearchTimeouts[filter.id] = setTimeout(async () => {\n    try {\n      const response = await fetch('/api/method/force_trans_customization.api.issues.search_tags', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Frappe-CSRF-Token': window.csrf_token || ''\n        },\n        body: JSON.stringify({\n          search_query: searchValue || '',\n          limit: 15\n        })\n      })\n      \n      if (response.ok) {\n        const data = await response.json()\n        filter.tagSuggestions = data.message || []\n        // Preserve current selection or reset to -1 only if suggestions array length changed significantly\n        if (!filter.tagSuggestions || filter.tagSuggestions.length === 0) {\n          filter.selectedTagIndex = -1\n        } else if (previousSelectedIndex >= 0 && previousSelectedIndex < filter.tagSuggestions.length) {\n          // Try to preserve the previous selection if valid\n          filter.selectedTagIndex = previousSelectedIndex\n        } else if (filter.selectedTagIndex >= filter.tagSuggestions.length) {\n          filter.selectedTagIndex = Math.max(0, filter.tagSuggestions.length - 1)\n        }\n      }\n    } catch (error) {\n      console.error('Tag search error:', error)\n      filter.tagSuggestions = []\n    } finally {\n      filter.loadingTags = false\n    }\n  }, 300) // 300ms debounce\n}\n\n// addTagFromInput function removed - now only allowing selection from dropdown\n\nconst addTagFromSuggestion = (filter, tagSuggestion) => {\n  const currentTags = getTags(filter.value)\n  \n  if (!currentTags.includes(tagSuggestion.value)) {\n    currentTags.push(tagSuggestion.value)\n    filter.value = currentTags.join(', ')\n  }\n  \n  filter.tagInput = ''\n  filter.tagSuggestions = []\n  filter.selectedTagIndex = -1\n}\n\n// Keyboard navigation functions for tags\nconst handleTagKeyNavigation = (filter, direction) => {\n  if (!filter.tagSuggestions || filter.tagSuggestions.length === 0) return\n  \n  const maxIndex = filter.tagSuggestions.length - 1\n  \n  // Initialize selectedIndex if not set\n  if (filter.selectedTagIndex === undefined || filter.selectedTagIndex === null) {\n    filter.selectedTagIndex = -1\n  }\n  \n  if (direction === 'down') {\n    filter.selectedTagIndex = filter.selectedTagIndex < maxIndex ? filter.selectedTagIndex + 1 : 0\n  } else if (direction === 'up') {\n    filter.selectedTagIndex = filter.selectedTagIndex > 0 ? filter.selectedTagIndex - 1 : maxIndex\n  }\n  \n  // Scroll selected item into view\n  scrollSelectedTagIntoView(filter)\n}\n\nconst handleTagEnter = (filter) => {\n  // Only allow selection from dropdown suggestions\n  if (filter.selectedTagIndex >= 0 && filter.tagSuggestions && filter.tagSuggestions[filter.selectedTagIndex]) {\n    // Select the highlighted suggestion\n    addTagFromSuggestion(filter, filter.tagSuggestions[filter.selectedTagIndex])\n  }\n  // Do not add custom tags from input text anymore\n}\n\nconst clearTagSuggestions = (filter) => {\n  filter.tagSuggestions = []\n  filter.selectedTagIndex = -1\n}\n\nconst scrollSelectedTagIntoView = (filter) => {\n  // Use nextTick to ensure DOM is updated\n  nextTick(() => {\n    const selectedElement = document.querySelector(`[ref=\"selectedTagOption\"]`)\n    if (selectedElement) {\n      selectedElement.scrollIntoView({ block: 'nearest', behavior: 'smooth' })\n    }\n  })\n}\n\n// Tag styling function using exact backend category colors\nconst getTagStyle = (tag) => {\n  const categoryColor = getTagColor(tag) // This returns the exact category_color from Tag Category\n  \n  if (categoryColor) {\n    // Use the exact category color for the pill\n    const hexColor = categoryColor.startsWith('#') ? categoryColor : `#${categoryColor}`\n    \n    // Convert hex to RGB for opacity variations\n    const hex = hexColor.replace('#', '')\n    const r = parseInt(hex.substr(0, 2), 16)\n    const g = parseInt(hex.substr(2, 2), 16)\n    const b = parseInt(hex.substr(4, 2), 16)\n\n    // Create color variations based on the exact category color\n    const bgColor = `rgba(${r}, ${g}, ${b}, 0.15)` // Light background using category color\n    const borderColor = hexColor // Exact category color for border\n\n    return {\n      backgroundColor: bgColor,\n      color: '#000000', // Always black text\n      borderColor: borderColor,\n      borderWidth: '1.5px'\n    }\n  }\n  \n  // Fallback to neutral gray if no category color mapping found\n  return {\n    backgroundColor: 'rgba(107, 114, 128, 0.1)',\n    color: '#000000', // Always black text\n    borderColor: 'rgba(107, 114, 128, 0.3)',\n    borderWidth: '1px'\n  }\n}\n\n// Link/Reference Helpers - Updated to use real API endpoints\nlet searchTimeouts = {}\n\nconst handleLinkSearch = async (filter, searchValue) => {\n  filter.searchValue = searchValue\n  filter.loading = true\n  \n  // Store current selected index to preserve it if possible\n  const previousSelectedIndex = filter.selectedLinkIndex\n  \n  // Clear existing timeout for this filter\n  if (searchTimeouts[filter.id]) {\n    clearTimeout(searchTimeouts[filter.id])\n  }\n  \n  // Debounce search requests\n  searchTimeouts[filter.id] = setTimeout(async () => {\n    try {\n      let searchResults = []\n      let endpoint = ''\n      \n      // Determine which endpoint to use based on field type\n      if (filter.field === 'customer') {\n        endpoint = '/api/method/force_trans_customization.api.issues.search_customers'\n      } else if (filter.field === 'contact') {\n        endpoint = '/api/method/force_trans_customization.api.issues.search_contacts'\n      } else if (filter.field === 'lead') {\n        endpoint = '/api/method/force_trans_customization.api.issues.search_leads'\n      } else if (filter.field === 'custom_assigned_csm_team') {\n        endpoint = '/api/method/force_trans_customization.api.issues.search_user_groups'\n      } else if (filter.field === 'custom_users_assigned') {\n        endpoint = '/api/method/force_trans_customization.api.issues.search_users'\n      }\n      \n      if (endpoint) {\n        const response = await fetch(endpoint, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Frappe-CSRF-Token': window.csrf_token || ''\n          },\n          body: JSON.stringify({\n            search_query: searchValue || '',\n            limit: 10,\n            doctype_filter: filter.field === 'custom_users_assigned' ? 'User' : undefined\n          })\n        })\n        \n        if (response.ok) {\n          const data = await response.json()\n          searchResults = data.message || []\n        }\n      }\n      \n      filter.suggestions = searchResults\n      // Preserve current selection or reset to -1 only if suggestions array length changed significantly\n      if (!filter.suggestions || filter.suggestions.length === 0) {\n        filter.selectedLinkIndex = -1\n      } else if (previousSelectedIndex >= 0 && previousSelectedIndex < filter.suggestions.length) {\n        // Try to preserve the previous selection if valid\n        filter.selectedLinkIndex = previousSelectedIndex\n      } else if (filter.selectedLinkIndex >= filter.suggestions.length) {\n        filter.selectedLinkIndex = Math.max(0, filter.suggestions.length - 1)\n      }\n    } catch (error) {\n      console.error('Search error:', error)\n      filter.suggestions = []\n    } finally {\n      filter.loading = false\n    }\n  }, 300) // 300ms debounce\n}\n\n\n// Frappe UI Helper Functions\nconst getOperatorDropdownOptions = (fieldValue, filter) => {\n  const operators = getOperatorsForField(fieldValue)\n  return operators.map(op => ({\n    label: op.label,\n    onClick: () => {\n      // Only clear specific values based on operator change, preserve main data\n      if (filter.operator !== op.value) {\n        // For date fields, only clear date range specific values\n        if (getFieldType(fieldValue) === 'date') {\n          if (op.value === 'between') {\n            // Switching to between - keep single value as start value\n            if (filter.value && !filter.startValue) {\n              filter.startValue = filter.value\n              filter.endValue = ''\n            }\n          } else if (filter.operator === 'between') {\n            // Switching from between - use start value as main value\n            if (filter.startValue && !filter.value) {\n              filter.value = filter.startValue\n            }\n            filter.startValue = ''\n            filter.endValue = ''\n          }\n        }\n        \n        // Don't clear main filter values - preserve user input\n        // Only clear operator-specific UI state\n        filter.multiSelectValue = null\n        filter.searchValue = ''\n        \n        // Clear search suggestions but keep selected values\n        filter.suggestions = []\n        filter.searchOptions = []\n      }\n      filter.operator = op.value\n    }\n  }))\n}\n\nconst getOperatorLabel = (operatorValue, fieldValue) => {\n  const operators = getOperatorsForField(fieldValue)\n  return operators.find(op => op.value === operatorValue)?.label || operatorValue\n}\n\nconst getComboboxOptions = (fieldValue) => {\n  const options = getFieldOptions(fieldValue)\n  if (!options || options.length === 0) {\n    return []\n  }\n  return options.map(option => {\n    if (typeof option === 'string') {\n      return {\n        label: option,\n        value: option\n      }\n    }\n    return {\n      label: option.label || option.value,\n      value: option.value || option.label\n    }\n  })\n}\n\nconst getDisplayValueForOption = (value, fieldValue) => {\n  const options = getFieldOptions(fieldValue)\n  const option = options.find(opt => opt.value === value)\n  return option ? option.label : value\n}\n\nconst getAvailableComboboxOptions = (filter) => {\n  const allOptions = getFieldOptions(filter.field)\n  const selectedValues = getSelectedValues(filter.value)\n  return allOptions\n    .filter(option => !selectedValues.includes(option.value))\n    .map(option => ({\n      label: option.label,\n      value: option.value\n    }))\n}\n\nconst handleMultiSelectChange = (filter, newValue) => {\n  if (!newValue) return\n  \n  const values = getSelectedValues(filter.value)\n  if (!values.includes(newValue)) {\n    values.push(newValue)\n    filter.value = values.join(', ')\n  }\n  // Clear the combobox selection\n  filter.multiSelectValue = null\n}\n\n\nconst updateDateRange = (filter) => {\n  if (filter.startValue && filter.endValue) {\n    filter.value = `${filter.startValue},${filter.endValue}`\n  } else {\n    filter.value = ''\n  }\n}\n\n// Main Functions\nconst addFilter = (fieldValue) => {\n  // Set default operators based on field type\n  const fieldType = getFieldType(fieldValue)\n  let defaultOperator = 'equals'\n  \n  if (fieldType === 'link') {\n    defaultOperator = 'in' // Default to 'In' for link fields\n  } else if (fieldType === 'tags') {\n    defaultOperator = 'has' // Default to 'Has Tag' for tags\n  } else {\n    defaultOperator = getOperatorsForField(fieldValue)[0]?.value || 'equals'\n  }\n  \n  const newFilter = {\n    id: ++filterIdCounter,\n    field: fieldValue,\n    operator: defaultOperator,\n    value: '',\n    // Date range specific properties\n    startValue: '',\n    endValue: '',\n    // Link-specific properties (all link fields are multiSelect)\n    searchValue: '',\n    displayValue: '',\n    suggestions: [],\n    showSuggestions: false,\n    loading: false,\n    userDisplayMap: {},\n    selectedLinkIndex: -1,\n    // Tags-specific properties\n    tagInput: '',\n    tagSuggestions: [],\n    loadingTags: false,\n    selectedTagIndex: -1\n  }\n  \n  pendingFilters.value.push(newFilter)\n}\n\nconst removeFilter = (index) => {\n  pendingFilters.value.splice(index, 1)\n}\n\nconst removeAppliedFilter = (index) => {\n  appliedFilters.value.splice(index, 1)\n  emitFilters()\n}\n\nconst applyFilters = async () => {\n  if (!hasPendingChanges.value) return\n  \n  // Show loading state\n  isApplyingFilters.value = true\n  \n  try {\n    appliedFilters.value = JSON.parse(JSON.stringify(pendingFilters.value))\n    emitFilters()\n    showFilterPanel.value = false\n  } catch (error) {\n    console.error('Error applying filters:', error)\n  } finally {\n    // Add slight delay for smooth UX\n    setTimeout(() => {\n      isApplyingFilters.value = false\n    }, 500)\n  }\n}\n\nconst clearAllFilters = () => {\n  pendingFilters.value = []\n  appliedFilters.value = []\n  searchQuery.value = ''\n  \n  emit(\"update:searchQuery\", '')\n  emit(\"update:filters\", [])\n  emit(\"filters-applied\", [])\n  \n  showFilterPanel.value = false\n}\n\nconst emitFilters = () => {\n  const filterData = appliedFilters.value\n    .filter(f => f.value && f.value.toString().trim())\n    .map(filter => ({\n      field: filter.field,\n      operator: filter.operator,\n      value: filter.value.toString().trim(),\n      displayValue: filter.displayValue || null\n    }))\n  \n  console.log('Emitting filters:', filterData)\n  \n  // Emit both the old format (for compatibility) and new event\n  emit(\"update:filters\", filterData)\n  emit(\"filters-applied\", filterData)\n}\n\n// Event handlers\nconst handleSearchChange = (value) => {\n  searchQuery.value = value\n  emit(\"update:searchQuery\", value)\n}\n\nconst handleSuggestionSelected = (suggestion) => {\n  emit(\"suggestion-selected\", suggestion)\n}\n\n// Watch props\nwatch(() => props.searchQuery, (newValue) => {\n  searchQuery.value = newValue\n})\n\n// Load from localStorage on mount and setup search for link fields\nonMounted(() => {\n  const savedFilters = localStorage.getItem('issue_filters')\n  if (savedFilters) {\n    try {\n      const parsed = JSON.parse(savedFilters)\n      appliedFilters.value = parsed.applied || []\n      pendingFilters.value = parsed.pending || []\n    } catch (e) {\n      console.warn('Failed to parse saved filters:', e)\n    }\n  }\n\n  // Setup reactive search for link fields\n  watch(() => pendingFilters.value, (newFilters) => {\n    newFilters.forEach(filter => {\n      if (getFieldType(filter.field) === 'link' && filter.searchValue) {\n        handleLinkSearch(filter, filter.searchValue)\n      }\n    })\n  }, { deep: true })\n})\n\n// Save to localStorage when filters change\nwatch([appliedFilters, pendingFilters], () => {\n  localStorage.setItem('issue_filters', JSON.stringify({\n    applied: appliedFilters.value,\n    pending: pendingFilters.value\n  }))\n}, { deep: true })\n</script>\n\n<style scoped>\n.awesome-search {\n  transition: all 0.3s ease;\n}\n\n.awesome-search:deep(.search-box) {\n  border-radius: 12px;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  border: 2px solid #e5e7eb;\n  background: white;\n  transition: all 0.3s ease;\n}\n\n.awesome-search:deep(.search-box):hover {\n  border-color: #3b82f6;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n}\n\n/* Custom scrollbar for suggestions */\n.max-h-48::-webkit-scrollbar {\n  width: 6px;\n}\n\n.max-h-48::-webkit-scrollbar-track {\n  background: #f1f5f9;\n  border-radius: 3px;\n}\n\n.max-h-48::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n\n.max-h-48::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\n/* Focus styles for better accessibility */\nselect:focus, input:focus {\n  outline: none;\n  ring: 2px;\n  ring-color: #3b82f6;\n  border-color: #3b82f6;\n}\n\n/* Animation for filter tags */\n.inline-flex {\n  animation: fadeIn 0.2s ease-in-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n/* Hover effects for interactive elements */\n.hover\\\\:bg-gray-100:hover {\n  background-color: #f3f4f6;\n  transition: background-color 0.15s ease-in-out;\n}\n\n.hover\\\\:text-red-600:hover {\n  color: #dc2626;\n  transition: color 0.15s ease-in-out;\n}\n\n/* Custom styles for multi-select tags */\n.bg-blue-100 {\n  animation: slideIn 0.2s ease-in-out;\n}\n\n.bg-purple-100 {\n  animation: slideIn 0.2s ease-in-out;\n}\n\n/* Enhanced filter container styling */\n.filter-container {\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border: 1px solid #e2e8f0;\n  border-radius: 0.75rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  transition: all 0.3s ease;\n}\n\n.filter-container:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  transform: translateY(-1px);\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateX(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* Improved filter panel shadow */\n.shadow-lg {\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n}\n\n/* Better spacing for filter items */\n.space-y-4 > * + * {\n  margin-top: 1rem;\n}\n\n/* Frappe UI Combobox styling improvements */\n.filter-combobox {\n  @apply relative;\n}\n\n.filter-combobox .reka-combobox-trigger {\n  @apply bg-white border-gray-300 hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 shadow-sm hover:shadow-md;\n}\n\n/* Grid layout improvements */\n.grid-cols-12 {\n  grid-template-columns: repeat(12, minmax(0, 1fr));\n}\n\n/* Enhanced button styling */\nbutton:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n/* Tag styling improvements */\n.inline-flex {\n  animation: fadeIn 0.3s ease-out;\n}\n\n/* Responsive adjustments */\n@media (max-width: 1024px) {\n  .grid-cols-12 {\n    grid-template-columns: 1fr;\n    gap: 2rem;\n  }\n  \n  .col-span-2,\n  .col-span-7,\n  .col-span-1 {\n    grid-column: span 1;\n  }\n  \n  .min-w-96 {\n    min-width: 100%;\n  }\n}\n\n@media (max-width: 768px) {\n  .filter-panel-grid {\n    display: block;\n  }\n  \n  .filter-panel-grid > * {\n    margin-bottom: 0.75rem;\n  }\n  \n  .flex-wrap {\n    flex-wrap: wrap;\n  }\n}\n</style>","<template>\r\n  <div class=\"bg-white rounded-lg shadow-sm border mt-4\">\r\n    <div class=\"px-6 py-4 flex items-center justify-between\">\r\n      <!-- Results info -->\r\n      <div class=\"text-sm text-gray-700\">\r\n        <span v-if=\"totalItems > 0\">\r\n          Showing {{ startItem }} to {{ endItem }} of {{ totalItems }} results\r\n        </span>\r\n        <span v-else>\r\n          No results found\r\n        </span>\r\n      </div>\r\n\r\n      <!-- Pagination controls -->\r\n      <div class=\"flex items-center space-x-2\" v-if=\"totalPages > 1\">\r\n        <!-- Previous button -->\r\n        <Button\r\n          theme=\"gray\"\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          :disabled=\"currentPage === 1\"\r\n          @click=\"goToPreviousPage\"\r\n        >\r\n          <template #prefix>\r\n            <FeatherIcon name=\"chevron-left\" class=\"h-4 w-4\" />\r\n          </template>\r\n          Previous\r\n        </Button>\r\n\r\n        <!-- Page numbers -->\r\n        <div class=\"flex items-center space-x-1\">\r\n          <!-- First page -->\r\n          <Button\r\n            v-if=\"showFirstPage\"\r\n            theme=\"gray\"\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n:class=\"{ 'bg-blue-50 text-blue-600 border-blue-200': currentPage !== 1, 'pagination-active-btn': currentPage === 1 }\"\r\n            @click=\"goToPage(1)\"\r\n          >\r\n            1\r\n          </Button>\r\n\r\n          <!-- First ellipsis -->\r\n          <span v-if=\"showFirstEllipsis\" class=\"px-2 text-gray-500\">...</span>\r\n\r\n          <!-- Visible page numbers -->\r\n          <Button\r\n            v-for=\"page in visiblePages\"\r\n            :key=\"page\"\r\n            theme=\"gray\"\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n:class=\"{ 'bg-blue-50 text-blue-600 border-blue-200': currentPage !== page, 'pagination-active-btn': currentPage === page }\"\r\n            @click=\"goToPage(page)\"\r\n          >\r\n            {{ page }}\r\n          </Button>\r\n\r\n          <!-- Last ellipsis -->\r\n          <span v-if=\"showLastEllipsis\" class=\"px-2 text-gray-500\">...</span>\r\n\r\n          <!-- Last page -->\r\n          <Button\r\n            v-if=\"showLastPage\"\r\n            theme=\"gray\"\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n:class=\"{ 'bg-blue-50 text-blue-600 border-blue-200': currentPage !== totalPages, 'pagination-active-btn': currentPage === totalPages }\"\r\n            @click=\"goToPage(totalPages)\"\r\n          >\r\n            {{ totalPages }}\r\n          </Button>\r\n        </div>\r\n\r\n        <!-- Next button -->\r\n        <Button\r\n          theme=\"gray\"\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          :disabled=\"currentPage === totalPages\"\r\n          @click=\"goToNextPage\"\r\n        >\r\n          Next\r\n          <template #suffix>\r\n            <FeatherIcon name=\"chevron-right\" class=\"h-4 w-4\" />\r\n          </template>\r\n        </Button>\r\n      </div>\r\n\r\n      <!-- Items per page selector -->\r\n      <div class=\"flex items-center space-x-2\" v-if=\"showItemsPerPage\">\r\n        <span class=\"text-sm text-gray-700\">Items per page:</span>\r\n        <Select\r\n          v-model=\"localItemsPerPage\"\r\n          :options=\"itemsPerPageOptions\"\r\n          @change=\"handleItemsPerPageChange\"\r\n          class=\"w-20\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { Button, FeatherIcon, Select } from \"frappe-ui\"\r\nimport { computed, ref, watch } from \"vue\"\r\n\r\n// Props\r\nconst props = defineProps({\r\n\tcurrentPage: {\r\n\t\ttype: Number,\r\n\t\tdefault: 1,\r\n\t},\r\n\ttotalItems: {\r\n\t\ttype: Number,\r\n\t\tdefault: 0,\r\n\t},\r\n\titemsPerPage: {\r\n\t\ttype: Number,\r\n\t\tdefault: 10,\r\n\t},\r\n\tshowItemsPerPage: {\r\n\t\ttype: Boolean,\r\n\t\tdefault: true,\r\n\t},\r\n\tmaxVisiblePages: {\r\n\t\ttype: Number,\r\n\t\tdefault: 5,\r\n\t},\r\n})\r\n\r\n// Emits\r\nconst emit = defineEmits([\r\n\t\"update:currentPage\",\r\n\t\"update:itemsPerPage\",\r\n\t\"pageChange\",\r\n])\r\n\r\n// Local state\r\nconst localItemsPerPage = ref(props.itemsPerPage)\r\n\r\n// Watch for prop changes\r\nwatch(\r\n\t() => props.itemsPerPage,\r\n\t(newValue) => {\r\n\t\tlocalItemsPerPage.value = newValue\r\n\t},\r\n)\r\n\r\n// Computed properties\r\nconst totalPages = computed(() => {\r\n\treturn Math.ceil(props.totalItems / props.itemsPerPage)\r\n})\r\n\r\nconst startItem = computed(() => {\r\n\tif (props.totalItems === 0) return 0\r\n\treturn (props.currentPage - 1) * props.itemsPerPage + 1\r\n})\r\n\r\nconst endItem = computed(() => {\r\n\tconst end = props.currentPage * props.itemsPerPage\r\n\treturn Math.min(end, props.totalItems)\r\n})\r\n\r\n// Calculate visible page numbers\r\nconst visiblePages = computed(() => {\r\n\tconst pages = []\r\n\tconst maxVisible = props.maxVisiblePages\r\n\tconst current = props.currentPage\r\n\tconst total = totalPages.value\r\n\r\n\tif (total <= maxVisible) {\r\n\t\t// Show all pages if total is less than max visible\r\n\t\tfor (let i = 1; i <= total; i++) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\t} else {\r\n\t\t// Calculate start and end of visible range\r\n\t\tlet start = Math.max(1, current - Math.floor(maxVisible / 2))\r\n\t\tlet end = Math.min(total, start + maxVisible - 1)\r\n\r\n\t\t// Adjust start if we're near the end\r\n\t\tif (end - start + 1 < maxVisible) {\r\n\t\t\tstart = Math.max(1, end - maxVisible + 1)\r\n\t\t}\r\n\r\n\t\t// Don't include first and last page in visible range if they'll be shown separately\r\n\t\tif (start > 1) start = Math.max(2, start)\r\n\t\tif (end < total) end = Math.min(total - 1, end)\r\n\r\n\t\tfor (let i = start; i <= end; i++) {\r\n\t\t\tpages.push(i)\r\n\t\t}\r\n\t}\r\n\r\n\treturn pages\r\n})\r\n\r\n// Show/hide first page button\r\nconst showFirstPage = computed(() => {\r\n\treturn (\r\n\t\ttotalPages.value > props.maxVisiblePages && !visiblePages.value.includes(1)\r\n\t)\r\n})\r\n\r\n// Show/hide last page button\r\nconst showLastPage = computed(() => {\r\n\treturn (\r\n\t\ttotalPages.value > props.maxVisiblePages &&\r\n\t\t!visiblePages.value.includes(totalPages.value)\r\n\t)\r\n})\r\n\r\n// Show/hide ellipsis\r\nconst showFirstEllipsis = computed(() => {\r\n\treturn (\r\n\t\tshowFirstPage.value &&\r\n\t\tvisiblePages.value.length > 0 &&\r\n\t\tvisiblePages.value[0] > 2\r\n\t)\r\n})\r\n\r\nconst showLastEllipsis = computed(() => {\r\n\treturn (\r\n\t\tshowLastPage.value &&\r\n\t\tvisiblePages.value.length > 0 &&\r\n\t\tvisiblePages.value[visiblePages.value.length - 1] < totalPages.value - 1\r\n\t)\r\n})\r\n\r\n// Items per page options\r\nconst itemsPerPageOptions = computed(() => [\r\n\t{ label: \"5\", value: 5 },\r\n\t{ label: \"10\", value: 10 },\r\n\t{ label: \"20\", value: 20 },\r\n\t{ label: \"50\", value: 50 },\r\n\t{ label: \"100\", value: 100 },\r\n])\r\n\r\n// Methods\r\nconst goToPage = (page) => {\r\n\tif (page >= 1 && page <= totalPages.value && page !== props.currentPage) {\r\n\t\temit(\"update:currentPage\", page)\r\n\t\temit(\"pageChange\", {\r\n\t\t\tpage,\r\n\t\t\titemsPerPage: props.itemsPerPage,\r\n\t\t\toffset: (page - 1) * props.itemsPerPage,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nconst goToPreviousPage = () => {\r\n\tif (props.currentPage > 1) {\r\n\t\tgoToPage(props.currentPage - 1)\r\n\t}\r\n}\r\n\r\nconst goToNextPage = () => {\r\n\tif (props.currentPage < totalPages.value) {\r\n\t\tgoToPage(props.currentPage + 1)\r\n\t}\r\n}\r\n\r\nconst handleItemsPerPageChange = () => {\r\n\tconst newItemsPerPage = localItemsPerPage.value\r\n\temit(\"update:itemsPerPage\", newItemsPerPage)\r\n\r\n\t// Calculate new page to maintain roughly the same position\r\n\tconst currentFirstItem = (props.currentPage - 1) * props.itemsPerPage + 1\r\n\tconst newPage = Math.ceil(currentFirstItem / newItemsPerPage)\r\n\r\n\temit(\"pageChange\", {\r\n\t\tpage: newPage,\r\n\t\titemsPerPage: newItemsPerPage,\r\n\t\toffset: (newPage - 1) * newItemsPerPage,\r\n\t})\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.pagination-active-btn {\r\n  background-color: #2563eb !important;\r\n  color: white !important;\r\n  border-color: #2563eb !important;\r\n  font-weight: bold !important;\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;\r\n  transform: translateY(-1px) !important;\r\n}\r\n\r\n.pagination-active-btn:hover {\r\n  background-color: #1d4ed8 !important;\r\n  border-color: #1d4ed8 !important;\r\n  transform: translateY(-2px) !important;\r\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;\r\n}\r\n\r\n/* Override Frappe UI button styles */\r\n:deep(.pagination-active-btn) {\r\n  background-color: #2563eb !important;\r\n  color: white !important;\r\n  border-color: #2563eb !important;\r\n  font-weight: bold !important;\r\n}\r\n\r\n:deep(.pagination-active-btn:hover) {\r\n  background-color: #1d4ed8 !important;\r\n  border-color: #1d4ed8 !important;\r\n}\r\n</style>","<template>\n  <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8\">\n    <div \n      @click=\"handleStatClick('team_tickets')\"\n      :class=\"[\n        'bg-white p-6 rounded-lg shadow-sm border cursor-pointer transition-all duration-200 hover:shadow-md',\n        activeFilter === 'team_tickets' ? 'ring-2 ring-gray-500 bg-gray-50' : 'hover:bg-gray-50'\n      ]\"\n    >\n      <div class=\"text-3xl font-bold text-gray-900\">{{ teamTickets }}</div>\n      <div class=\"text-sm text-gray-600 mt-1\">Team Tickets</div>\n    </div>\n    <div \n      @click=\"handleStatClick('open_tickets')\"\n      :class=\"[\n        'bg-white p-6 rounded-lg shadow-sm border cursor-pointer transition-all duration-200 hover:shadow-md',\n        activeFilter === 'open_tickets' ? 'ring-2 ring-blue-500 bg-blue-50' : 'hover:bg-blue-50'\n      ]\"\n    >\n      <div class=\"text-3xl font-bold text-blue-600\">{{ openTickets }}</div>\n      <div class=\"text-sm text-gray-600 mt-1\">Open Tickets</div>\n    </div>\n    <div \n      @click=\"handleStatClick('assigned_to_me')\"\n      :class=\"[\n        'bg-white p-6 rounded-lg shadow-sm border cursor-pointer transition-all duration-200 hover:shadow-md',\n        activeFilter === 'assigned_to_me' ? 'ring-2 ring-green-500 bg-green-50' : 'hover:bg-green-50'\n      ]\"\n    >\n      <div class=\"text-3xl font-bold text-green-600\">{{ assignedToMe }}</div>\n      <div class=\"text-sm text-gray-600 mt-1\">Assigned To Me</div>\n    </div>\n    <div \n      @click=\"handleStatClick('actionable_tickets')\"\n      :class=\"[\n        'bg-white p-6 rounded-lg shadow-sm border cursor-pointer transition-all duration-200 hover:shadow-md',\n        activeFilter === 'actionable_tickets' ? 'ring-2 ring-orange-500 bg-orange-50' : 'hover:bg-orange-50'\n      ]\"\n      title=\"Tickets where customer awaits our reply\"\n    >\n      <div class=\"text-3xl font-bold text-orange-600\">{{ actionableTickets }}</div>\n      <div class=\"text-sm text-gray-600 mt-1\">Customers Awaiting Our Reply</div>\n    </div>\n    <div \n      @click=\"handleStatClick('response_tickets')\"\n      :class=\"[\n        'bg-white p-6 rounded-lg shadow-sm border cursor-pointer transition-all duration-200 hover:shadow-md',\n        activeFilter === 'response_tickets' ? 'ring-2 ring-purple-500 bg-purple-50' : 'hover:bg-purple-50'\n      ]\"\n      title=\"Tickets awaiting customer response\"\n    >\n      <div class=\"text-3xl font-bold text-purple-600\">{{ responseTickets }}</div>\n      <div class=\"text-sm text-gray-600 mt-1\">Awaiting Response from Customer</div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch, shallowRef } from \"vue\"\nimport { call } from \"frappe-ui\"\n\nconst props = defineProps({\n  issues: {\n    type: Array,\n    default: () => [],\n  },\n  activeFilter: {\n    type: String,\n    default: 'team_tickets'\n  }\n})\n\n// Define emits\nconst emit = defineEmits(['filter-changed'])\n\n// Use shallowRef for stats object since we replace the entire object\nconst stats = shallowRef({\n  team_tickets: 0,\n  open_tickets: 0,\n  assigned_to_me: 0,\n  actionable_tickets: 0,\n  response_tickets: 0\n})\n\n// Memoized reactive getters for template with proper reactivity\nconst teamTickets = computed(() => stats.value.team_tickets)\nconst openTickets = computed(() => stats.value.open_tickets)\nconst assignedToMe = computed(() => stats.value.assigned_to_me)\nconst actionableTickets = computed(() => stats.value.actionable_tickets)\nconst responseTickets = computed(() => stats.value.response_tickets)\n\n// Memoized stats fetching with debouncing to prevent excessive API calls\nlet statsCache = null\nlet lastFetchTime = 0\nconst CACHE_DURATION = 30000 // 30 seconds cache\n\nconst fetchStats = async () => {\n  const now = Date.now()\n  \n  // Return cached result if still valid\n  if (statsCache && (now - lastFetchTime) < CACHE_DURATION) {\n    return statsCache\n  }\n  \n  try {\n    const result = await call(\"force_trans_customization.api.issues.get_issue_stats\")\n    stats.value = result\n    statsCache = result\n    lastFetchTime = now\n    return result\n  } catch (error) {\n    console.error(\"Error fetching issue stats:\", error)\n    // Keep existing values on error\n    return stats.value\n  }\n}\n\n// Debounced stats refresh to prevent excessive API calls\nlet refreshTimeout = null\nconst debouncedStatsRefresh = () => {\n  if (refreshTimeout) {\n    clearTimeout(refreshTimeout)\n  }\n  refreshTimeout = setTimeout(() => {\n    fetchStats()\n  }, 500) // 500ms debounce\n}\n\n// Fetch stats on component mount\nonMounted(() => {\n  fetchStats()\n})\n\n// Optimized watcher - only watch issues length instead of deep watching entire array\n// This prevents unnecessary re-renders when issue content changes but count remains same\nwatch(() => props.issues.length, () => {\n  debouncedStatsRefresh()\n})\n\n// Handle stat tile clicks\nconst handleStatClick = (filterType) => {\n  emit('filter-changed', filterType)\n}\n\n// Expose fetchStats method for parent components to trigger refresh\ndefineExpose({\n  refreshStats: fetchStats\n})\n</script>","<template>\n\t<div class=\"bg-white rounded-lg shadow-sm border\">\n\t\t<div class=\"px-6 py-4 border-b border-gray-200\">\n\t\t\t<h3 class=\"text-lg font-medium text-gray-900\">Issues</h3>\n\t\t</div>\n\n\t\t<!-- Loading state -->\n\t\t<div v-if=\"loading\" class=\"px-6 py-12 text-center text-gray-500\">\n\t\t\t<div class=\"flex items-center justify-center\">\n\t\t\t\t<div class=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n\t\t\t\t<span class=\"ml-2\">Loading issues...</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- ListView -->\n\t\t<ListView v-else :columns=\"columns\" :rows=\"transformedIssues\" row-key=\"name\" :options=\"listOptions\"\n\t\t\t@update:selections=\"handleSelections\" class=\"p-4\">\n\n\t\t\t<ListHeader>\n\t\t\t\t<ListHeaderItem v-for=\"column in columns\" :key=\"column.key\" :item=\"column\">\n\t\t\t\t\t<template v-if=\"column.icon\" #prefix=\"{ item }\">\n\t\t\t\t\t\t<FeatherIcon :name=\"item.icon\" class=\"h-4 w-4\" />\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<!-- Sort indicator for sortable columns -->\n\t\t\t\t\t<template v-if=\"column.sortable\" #suffix>\n\t\t\t\t\t\t<button @click=\"handleColumnSort(column.key)\"\n\t\t\t\t\t\t\tclass=\"ml-2 p-1 rounded hover:bg-gray-100 transition-colors\"\n\t\t\t\t\t\t\t:class=\"getSortButtonClass(column.key)\">\n\t\t\t\t\t\t\t<FeatherIcon :name=\"getSortIcon(column.key)\" class=\"h-3 w-3\"\n\t\t\t\t\t\t\t\t:class=\"getSortIconClass(column.key)\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</template>\n\t\t\t\t</ListHeaderItem>\n\t\t\t</ListHeader>\n\n\t\t\t<ListRows>\n\t\t\t\t<ListRow \n\t\t\t\t\tv-for=\"issue in transformedIssues\" \n\t\t\t\t\t:key=\"issue.name\" \n\t\t\t\t\t:row=\"issue\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'bg-orange-50 hover:bg-orange-100': issue.custom_is_response_expected === 1\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<template #default=\"{ column, item }\">\n\t\t\t\t\t\t<ListRowItem :item=\"item\" :align=\"column.align\">\n\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t<!-- Avatar for assignee column -->\n\t\t\t\t\t\t\t\t<Avatar v-if=\"column.key === 'raised_by'\" :size=\"'sm'\"\n\t\t\t\t\t\t\t\t\t:label=\"getInitials(issue.raised_by)\" class=\"mr-3\" />\n\t\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\t<!-- Custom content for specific columns only -->\n\t\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t\t<!-- Issue ID with link -->\n\t\t\t\t\t\t\t\t<a v-if=\"column.key === 'name'\" \n\t\t\t\t\t\t\t\t\t:href=\"getIssueUrl(issue)\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\tclass=\"text-blue-600 hover:text-blue-800 hover:underline font-medium text-sm\"\n\t\t\t\t\t\t\t\t\t@click.prevent=\"handleIssueClick(issue)\">\n\t\t\t\t\t\t\t\t\t{{ formatIssueId(item) }}\n\t\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t\t<!-- Title with description -->\n\t\t\t\t\t\t\t\t<div v-else-if=\"column.key === 'subject'\" class=\"max-w-xs cursor-pointer\" \n\t\t\t\t\t\t\t\t\t@mouseenter=\"showIssueDetailsPopupFn($event, issue)\"\n\t\t\t\t\t\t\t\t\t@mouseleave=\"hideIssueDetailsPopup\">\n\t\t\t\t\t\t\t\t\t<div class=\"font-medium truncate\">{{ issue.subject }}</div>\n\n\t\t\t\t\t\t\t\t\t<template v-if=\"issue.description && issue.description.length > 0\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-gray-500 text-sm mt-1 truncate max-w-xs\">\n\t\t\t\t\t\t\t\t\t\t\t{{ stripHtml(issue.description) }}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- Assignee email with truncation -->\n\t\t\t\t\t\t\t\t<Tooltip v-else-if=\"column.key === 'raised_by'\" \n\t\t\t\t\t\t\t\t\t:text=\"`Raised By: ${item || 'Not assigned'}`\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm font-medium text-gray-900 truncate block\">\n\t\t\t\t\t\t\t\t\t\t{{ item || '-' }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t<!-- Assigned Users as pills with hover popup -->\n\t\t\t\t\t\t\t\t<div v-else-if=\"column.key === 'custom_users_assigned'\" class=\"flex flex-wrap gap-1\">\n\t\t\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\t\t\tv-if=\"issue.custom_users_assigned && issue.custom_users_assigned.length > 0\">\n\t\t\t\t\t\t\t\t\t\t<div v-for=\"user in issue.custom_users_assigned.filter(u => u.user_assigned)\"\n\t\t\t\t\t\t\t\t\t\t\t:key=\"user.name || user\" class=\"relative inline-block\">\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 cursor-pointer hover:bg-blue-200 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t\t@mouseenter=\"showUserPopup($event, user)\" @mouseleave=\"hideUserPopup\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{ getInitials(user.user_assigned) }}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<span v-else class=\"text-gray-400 text-sm\">-</span>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- CSM Team simple display like Raised By -->\n\t\t\t\t\t\t\t\t<Tooltip v-else-if=\"column.key === 'custom_assigned_csm_team'\" \n\t\t\t\t\t\t\t\t\t:text=\"`CSM Team: ${issue.custom_assigned_csm_team || 'Not assigned'}`\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm font-medium text-gray-900 truncate block\">\n\t\t\t\t\t\t\t\t\t\t{{ issue.custom_assigned_csm_team || '-' }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t<!-- Tags -->\n\t\t\t\t\t\t\t\t<div v-else-if=\"column.key === '_user_tags'\"\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center gap-1 cursor-pointer hover:bg-gray-50 p-1 rounded transition-colors\"\n\t\t\t\t\t\t\t\t\t@mouseenter=\"showTagsPopupFn($event, issue._user_tags)\"\n\t\t\t\t\t\t\t\t\t@mouseleave=\"hideTagsPopupFn\">\n\t\t\t\t\t\t\t\t\t<template v-if=\"issue._user_tags && issue._user_tags.length > 0\">\n\t\t\t\t\t\t\t\t\t\t<!-- Show first tag, truncated if needed -->\n\t\t\t\t\t\t\t\t\t\t<span :style=\"getTagStyle(issue._user_tags[0])\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full border transition-colors max-w-16\"\n\t\t\t\t\t\t\t\t\t\t\t:title=\"issue._user_tags[0]\">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"truncate\">{{ issue._user_tags[0] }}</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<!-- Always show +X more if there are more tags -->\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"issue._user_tags.length > 1\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"inline-flex items-center px-1 py-1 text-xs font-medium text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t+{{ issue._user_tags.length - 1 }}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<span v-else class=\"text-gray-400 text-sm\">-</span>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- Created At with date and time -->\n\t\t\t\t\t\t\t\t<div v-else-if=\"column.key === 'creation'\" class=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm\">{{ formatDate(item) }}</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-xs text-gray-400\">{{ formatTime(item) }}</span>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<!-- Status badge -->\n\t\t\t\t\t\t\t\t<Tooltip v-else-if=\"column.key === 'status'\" \n\t\t\t\t\t\t\t\t\t:text=\"`Status: ${issue.status?.label || issue.status || 'New'}`\">\n\t\t\t\t\t\t\t\t\t<span :class=\"getStatusBadgeClass(issue.status?.label || issue.status || 'New')\"\n\t\t\t\t\t\t\t\t\t\tclass=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full\">\n\t\t\t\t\t\t\t\t\t\t{{ issue.status?.label || issue.status || 'New' }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Tooltip>\n\n\n\n\t\t\t\t\t\t\t\t<!-- Default fallback for other columns -->\n\t\t\t\t\t\t\t\t<span v-else>{{ item }}</span>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ListRowItem>\n\t\t\t\t\t</template>\n\t\t\t\t</ListRow>\n\t\t\t</ListRows>\n\n\t\t\t<ListSelectBanner>\n\t\t\t\t<template #actions=\"{ unselectAll }\">\n\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t<Button variant=\"ghost\" label=\"Delete\" />\n\t\t\t\t\t\t<Button variant=\"ghost\" label=\"Unselect all\" @click=\"unselectAll\" />\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</ListSelectBanner>\n\n\t\t</ListView>\n\n\t\t<!-- User Popup -->\n\t\t<div v-if=\"showPopup && popupUser && typeof popupUser === 'object'\"\n\t\t\tclass=\"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-3 min-w-48\" :style=\"{\n\t\t\t\tleft: popupPosition.x + 'px',\n\t\t\t\ttop: popupPosition.y + 'px',\n\t\t\t\ttransform: 'translateX(-50%) translateY(-100%)'\n\t\t\t}\">\n\t\t\t<div class=\"text-sm\">\n\t\t\t\t<div class=\"font-semibold text-gray-900 mb-1\">\n\t\t\t\t\t{{ popupUser.user_assigned || 'Unknown User' }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-gray-600 flex items-center gap-1\">\n\t\t\t\t\t<span class=\"inline-block w-2 h-2 bg-blue-500 rounded-full\"></span>\n\t\t\t\t\t{{ popupUser.team || 'No Team' }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-xs text-gray-500 mt-1\">\n\t\t\t\t\tAssigned: {{ formatDate(popupUser.assigned_date) }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Issue Details Popup (Subject + Description) -->\n\t\t<div v-if=\"showIssueDetailsPopup && issueDetailsPopupData\"\n\t\t\tclass=\"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 max-w-md\" :style=\"{\n\t\t\t\tleft: issueDetailsPopupPosition.x + 'px',\n\t\t\t\ttop: issueDetailsPopupPosition.y + 'px',\n\t\t\t\ttransform: 'translateX(-50%) translateY(-100%)'\n\t\t\t}\">\n\t\t\t<div class=\"text-sm\">\n\t\t\t\t<div class=\"font-bold text-gray-900 mb-3\">\n\t\t\t\t\t{{ issueDetailsPopupData.subject }}\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"issueDetailsPopupData.description\" class=\"text-gray-700 whitespace-pre-wrap max-h-48 overflow-y-auto\">\n\t\t\t\t\t{{ stripHtml(issueDetailsPopupData.description) }}\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"text-gray-400 italic\">\n\t\t\t\t\tNo description available\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tags Popup -->\n\t\t<div v-if=\"showTagsPopup && tagsPopupData\"\n\t\t\tclass=\"fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-3 min-w-48 max-w-xs\" :style=\"{\n\t\t\t\tleft: tagsPopupPosition.x + 'px',\n\t\t\t\ttop: tagsPopupPosition.y + 'px',\n\t\t\t\ttransform: 'translateX(-50%) translateY(-100%)'\n\t\t\t}\">\n\t\t\t<div class=\"text-sm\">\n\t\t\t\t<div class=\"font-semibold text-gray-900 mb-2\">All Tags</div>\n\t\t\t\t<div class=\"flex flex-wrap gap-1\">\n\t\t\t\t\t<span v-for=\"tag in tagsPopupData\" :key=\"tag\" :style=\"getTagStyle(tag)\"\n\t\t\t\t\t\tclass=\"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full border\">\n\t\t\t\t\t\t{{ tag }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { Avatar, Badge, Button, FeatherIcon, ListView, Tooltip } from \"frappe-ui\"\nimport ListHeader from \"frappe-ui/src/components/ListView/ListHeader.vue\"\nimport ListHeaderItem from \"frappe-ui/src/components/ListView/ListHeaderItem.vue\"\nimport ListRow from \"frappe-ui/src/components/ListView/ListRow.vue\"\nimport ListRowItem from \"frappe-ui/src/components/ListView/ListRowItem.vue\"\nimport ListRows from \"frappe-ui/src/components/ListView/ListRows.vue\"\nimport ListSelectBanner from \"frappe-ui/src/components/ListView/ListSelectBanner.vue\"\nimport { computed, ref, shallowRef, watchEffect } from \"vue\"\nimport { getTagColor } from \"../data/issues\"\n\n// Enhanced status badge component with custom status values\nconst StatusBadge = {\n\tprops: [\"status\"],\n\ttemplate: `\n    <Badge :label=\"displayStatus\" :theme=\"statusTheme\" variant=\"subtle\" />\n  `,\n\tcomputed: {\n\t\tdisplayStatus() {\n\t\t\treturn this.status || \"New\"\n\t\t},\n\t\tstatusTheme() {\n\t\t\tconst status = this.status || \"New\"\n\t\t\t// Color mapping from issue_list.js to maintain consistency\n\t\t\tconst statusThemes = {\n\t\t\t\tNew: \"blue\", //  New issues - blue for fresh/attention needed\n\t\t\t\t\"In Review\": \"orange\", //  Under review - orange for active progress\n\t\t\t\tConfirmed: \"purple\", //  Confirmed and validated - purple for approval\n\t\t\t\t\"In Transit\": \"blue\", //  Active transit - light-blue mapped to blue in Frappe UI\n\t\t\t\tDelivered: \"green\", //  Successfully delivered - green for success\n\t\t\t\tClosed: \"green\", //  Fully completed - darkgreen mapped to green in Frappe UI\n\n\t\t\t\t// Legacy Status Support (backward compatibility)\n\t\t\t\tOpen: \"red\", //  Legacy open state\n\t\t\t\tReplied: \"orange\", //  Legacy replied state\n\t\t\t\t\"On Hold\": \"yellow\", //  Legacy hold state\n\t\t\t\tResolved: \"green\", //  Legacy resolved state\n\t\t\t}\n\t\t\treturn statusThemes[status] || \"gray\"\n\t\t},\n\t},\n\tcomponents: { Badge },\n}\n\n// Enhanced priority badge component with visual indicators\nconst PriorityBadge = {\n\tprops: [\"priority\"],\n\ttemplate: `\n    <div class=\"flex items-center gap-2\">\n      <div :class=\"priorityIndicatorClass\" class=\"w-2 h-2 rounded-full\"></div>\n      <Badge :label=\"displayPriority\" :theme=\"priorityTheme\" variant=\"subtle\" />\n    </div>\n  `,\n\tcomputed: {\n\t\tdisplayPriority() {\n\t\t\treturn this.priority || \"Medium\"\n\t\t},\n\t\tpriorityTheme() {\n\t\t\tconst priority = this.priority || \"Medium\"\n\t\t\tconst priorityThemes = {\n\t\t\t\tCritical: \"red\",\n\t\t\t\tHigh: \"red\",\n\t\t\t\tMedium: \"yellow\",\n\t\t\t\tLow: \"green\",\n\t\t\t}\n\t\t\treturn priorityThemes[priority] || \"yellow\"\n\t\t},\n\t\tpriorityIndicatorClass() {\n\t\t\tconst priority = this.priority || \"Medium\"\n\t\t\treturn {\n\t\t\t\t\"bg-red-500\": priority === \"Critical\",\n\t\t\t\t\"bg-red-400\": priority === \"High\",\n\t\t\t\t\"bg-yellow-400\": priority === \"Medium\",\n\t\t\t\t\"bg-green-400\": priority === \"Low\",\n\t\t\t}\n\t\t},\n\t},\n\tcomponents: { Badge },\n}\n\n\n\nexport default {\n\tcomponents: {\n\t\tListView,\n\t\tAvatar,\n\t\tBadge,\n\t\tButton,\n\t\tFeatherIcon,\n\t\tListHeader,\n\t\tListHeaderItem,\n\t\tListRow,\n\t\tListRowItem,\n\t\tListRows,\n\t\tListSelectBanner,\n\t\tStatusBadge,\n\t\tPriorityBadge,\n\t\tTooltip,\n\t},\n\tprops: {\n\t\tissues: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tsortField: {\n\t\t\ttype: String,\n\t\t\tdefault: \"creation\",\n\t\t},\n\t\tsortDirection: {\n\t\t\ttype: String,\n\t\t\tdefault: \"desc\",\n\t\t},\n\t},\n\temits: [\"sort\"],\n\tsetup(props, { emit }) {\n\t\t// Popup state management\n\t\tconst showPopup = ref(false)\n\t\tconst popupUser = ref(null)\n\t\tconst popupPosition = ref({ x: 0, y: 0 })\n\n\t\t// Tags popup state management\n\t\tconst showTagsPopup = ref(false)\n\t\tconst tagsPopupPosition = ref({ x: 0, y: 0 })\n\t\tconst tagsPopupData = ref(null)\n\n\t\t// Issue details popup state management (for subject + description)\n\t\tconst showIssueDetailsPopup = ref(false)\n\t\tconst issueDetailsPopupPosition = ref({ x: 0, y: 0 })\n\t\tconst issueDetailsPopupData = ref(null)\n\n\t\t// Helper methods\n\t\tconst getInitials = (name) => {\n\t\t\tif (!name || typeof name !== \"string\") {\n\t\t\t\treturn \"?\"\n\t\t\t}\n\n\t\t\t// If it's an email address, extract the part before @\n\t\t\tif (name.includes(\"@\")) {\n\t\t\t\tconst emailPart = name.split(\"@\")[0]\n\n\t\t\t\t// If email part has dots or underscores, use those as separators\n\t\t\t\tif (emailPart.includes(\".\") || emailPart.includes(\"_\")) {\n\t\t\t\t\tconst parts = emailPart.split(/[._]/)\n\t\t\t\t\treturn parts\n\t\t\t\t\t\t.map((part) => part[0])\n\t\t\t\t\t\t.join(\"\")\n\t\t\t\t\t\t.toUpperCase()\n\t\t\t\t\t\t.slice(0, 2)\n\t\t\t\t}\n\t\t\t\t// Otherwise, take first 2 characters of email part\n\t\t\t\treturn emailPart.slice(0, 2).toUpperCase()\n\t\t\t}\n\n\t\t\t// For regular names with spaces\n\t\t\tif (name.includes(\" \")) {\n\t\t\t\treturn name\n\t\t\t\t\t.split(\" \")\n\t\t\t\t\t.map((n) => n[0])\n\t\t\t\t\t.join(\"\")\n\t\t\t\t\t.toUpperCase()\n\t\t\t\t\t.slice(0, 2)\n\t\t\t}\n\n\t\t\t// For single words, take first 2 characters\n\t\t\treturn name.slice(0, 2).toUpperCase()\n\t\t}\n\n\t\t// Format issue ID to show only year and serial number\n\t\tconst formatIssueId = (issueId) => {\n\t\t\tif (!issueId) return \"\"\n\t\t\t// Extract year and serial from ISS-2025-000016 format\n\t\t\tconst match = issueId.match(/ISS-(\\d{4}-\\d+)/)\n\t\t\treturn match ? match[1] : issueId\n\t\t}\n\n\t\tconst stripHtml = (html) => {\n\t\t\tif (!html) return \"\"\n\t\t\tconst tmp = document.createElement(\"div\")\n\t\t\ttmp.innerHTML = html\n\t\t\treturn tmp.textContent || tmp.innerText || \"\"\n\t\t}\n\n\t\tconst formatDate = (dateString) => {\n\t\t\tif (!dateString) return \"-\"\n\t\t\treturn new Date(dateString).toLocaleDateString(\"en-US\", {\n\t\t\t\tyear: \"numeric\",\n\t\t\t\tmonth: \"short\",\n\t\t\t\tday: \"numeric\",\n\t\t\t})\n\t\t}\n\n\t\tconst formatTime = (dateString) => {\n\t\t\tif (!dateString) return \"\"\n\t\t\treturn new Date(dateString).toLocaleTimeString(\"en-US\", {\n\t\t\t\thour: \"2-digit\",\n\t\t\t\tminute: \"2-digit\",\n\t\t\t})\n\t\t}\n\n\t\t// Helper function to get status color\n\t\tconst getStatusBadgeColor = (status) => {\n\t\t\tconst statusColors = {\n\t\t\t\tNew: \"blue\",\n\t\t\t\t\"In Review\": \"orange\",\n\t\t\t\tConfirmed: \"purple\",\n\t\t\t\t\"In Transit\": \"blue\",\n\t\t\t\tDelivered: \"green\",\n\t\t\t\tClosed: \"green\",\n\t\t\t\tOpen: \"red\",\n\t\t\t\tReplied: \"orange\",\n\t\t\t\t\"On Hold\": \"yellow\",\n\t\t\t\tResolved: \"green\",\n\t\t\t}\n\t\t\treturn statusColors[status] || \"gray\"\n\t\t}\n\n\t\t// Helper function to get priority color\n\t\tconst getPriorityBadgeColor = (priority) => {\n\t\t\tconst priorityColors = {\n\t\t\t\tCritical: \"red\",\n\t\t\t\tHigh: \"red\",\n\t\t\t\tMedium: \"yellow\",\n\t\t\t\tLow: \"green\",\n\t\t\t}\n\t\t\treturn priorityColors[priority] || \"yellow\"\n\t\t}\n\n\t\t// Memoized transformation cache to prevent unnecessary re-computations\n\t\tconst transformationCache = new Map()\n\t\t\n\t\t// Transform issues data to include badge structure for ListView with memoization\n\t\tconst transformedIssues = computed(() => {\n\t\t\treturn props.issues.map((issue) => {\n\t\t\t\t// Use issue name as cache key since it's unique\n\t\t\t\tconst cacheKey = issue.name\n\t\t\t\t\n\t\t\t\t// Check if we have a cached transformation for this issue\n\t\t\t\tif (transformationCache.has(cacheKey)) {\n\t\t\t\t\tconst cached = transformationCache.get(cacheKey)\n\t\t\t\t\t// Verify the cached data is still valid (check all important fields)\n\t\t\t\t\tif (cached.originalStatus === issue.status && \n\t\t\t\t\t    cached.originalPriority === issue.priority &&\n\t\t\t\t\t    cached.originalSubject === issue.subject &&\n\t\t\t\t\t    cached.originalUsersAssigned === JSON.stringify(issue.custom_users_assigned) &&\n\t\t\t\t\t    cached.originalIsResponseExpected === issue.custom_is_response_expected) {\n\t\t\t\t\t\treturn cached.transformed\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Create new transformation\n\t\t\t\tconst transformed = {\n\t\t\t\t\t...issue,\n\t\t\t\t\tstatus: {\n\t\t\t\t\t\tlabel: issue.status || \"New\",\n\t\t\t\t\t\tcolor: getStatusBadgeColor(issue.status),\n\t\t\t\t\t},\n\t\t\t\t\tpriority: {\n\t\t\t\t\t\tlabel: issue.priority || \"Medium\",\n\t\t\t\t\t\tcolor: getPriorityBadgeColor(issue.priority),\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Cache the transformation\n\t\t\t\ttransformationCache.set(cacheKey, {\n\t\t\t\t\ttransformed,\n\t\t\t\t\toriginalStatus: issue.status,\n\t\t\t\t\toriginalPriority: issue.priority,\n\t\t\t\t\toriginalSubject: issue.subject,\n\t\t\t\t\toriginalUsersAssigned: JSON.stringify(issue.custom_users_assigned),\n\t\t\t\t\toriginalIsResponseExpected: issue.custom_is_response_expected\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\treturn transformed\n\t\t\t})\n\t\t})\n\n\t\t// Static columns configuration (memoized since it never changes)\n\t\tconst columns = shallowRef([\n\t\t\t{\n\t\t\t\tlabel: \"Issue ID\",\n\t\t\t\tkey: \"name\",\n\t\t\t\twidth: \"90px\",\n\t\t\t\tsortable: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Title\",\n\t\t\t\tkey: \"subject\",\n\t\t\t\twidth: 3,\n\t\t\t\tsortable: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Status\",\n\t\t\t\tkey: \"status\",\n\t\t\t\twidth: \"110px\",\n\t\t\t\tsortable: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Raised By\",\n\t\t\t\tkey: \"raised_by\",\n\t\t\t\twidth: \"120px\",\n\t\t\t\tsortable: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Assigned Users\",\n\t\t\t\tkey: \"custom_users_assigned\",\n\t\t\t\twidth: \"120px\",\n\t\t\t\tsortable: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"CSM Team\",\n\t\t\t\tkey: \"custom_assigned_csm_team\",\n\t\t\t\twidth: \"100px\",\n\t\t\t\tsortable: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Tags\",\n\t\t\t\tkey: \"_user_tags\",\n\t\t\t\twidth: \"100px\",\n\t\t\t\tsortable: false,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Created At\",\n\t\t\t\tkey: \"creation\",\n\t\t\t\twidth: \"90px\",\n\t\t\t\tsortable: true,\n\t\t\t},\n\t\t])\n\n\t\t// Static ListView options (memoized since they rarely change)\n\t\tconst listOptions = shallowRef({\n\t\t\tshowTooltip: false,\n\t\t\tselectable: true,\n\t\t\tresizeColumn: false,\n\t\t\trowHeight: 60,\n\t\t\temptyState: {\n\t\t\t\ttitle: \"No tickets found\",\n\t\t\t\tdescription: \"Try adjusting your search or filter criteria\",\n\t\t\t},\n\t\t\tonRowClick: (row) => {\n\t\t\t\thandleIssueClick(row)\n\t\t\t},\n\t\t})\n\n\t\t// Handle selections\n\t\tconst handleSelections = (selections) => {\n\t\t\tconsole.log(\"Selected rows:\", selections)\n\t\t}\n\n\t\t// Get issue URL\n\t\tconst getIssueUrl = (issue) => {\n\t\t\tconst hostname = window.location.origin\n\t\t\treturn `${hostname}/app/issue/${issue.name}`\n\t\t}\n\n\t\t// Handle issue click\n\t\tconst handleIssueClick = (issue) => {\n\t\t\tconsole.log(\"Issue clicked:\", issue)\n\t\t\t// Navigate to Frappe issue page\n\t\t\tconst issueUrl = getIssueUrl(issue)\n\t\t\twindow.open(issueUrl, '_blank')\n\t\t}\n\n\t\t// Get status color classes for indicator dots\n\t\tconst getStatusColor = (status) => {\n\t\t\tconst statusValue = status || \"New\"\n\t\t\t// Color mapping from issue_list.js to maintain consistency\n\t\t\treturn {\n\t\t\t\t\"bg-blue-500\": statusValue === \"New\", //  New issues - blue for fresh/attention needed\n\t\t\t\t\"bg-orange-500\": statusValue === \"In Review\", //  Under review - orange for active progress\n\t\t\t\t\"bg-purple-500\": statusValue === \"Confirmed\", //  Confirmed and validated - purple for approval\n\t\t\t\t\"bg-blue-500\": statusValue === \"In Transit\", //  Active transit - light-blue mapped to blue in Tailwind\n\t\t\t\t\"bg-green-500\": statusValue === \"Delivered\", //  Successfully delivered - green for success\n\t\t\t\t\"bg-green-500\": statusValue === \"Closed\", //  Fully completed - darkgreen mapped to green in Tailwind\n\n\t\t\t\t// Legacy Status Support (backward compatibility)\n\t\t\t\t\"bg-red-500\": statusValue === \"Open\", //  Legacy open state\n\t\t\t\t\"bg-orange-500\": statusValue === \"Replied\", //  Legacy replied state\n\t\t\t\t\"bg-yellow-500\": statusValue === \"On Hold\", //  Legacy hold state\n\t\t\t\t\"bg-green-500\": statusValue === \"Resolved\", //  Legacy resolved state\n\t\t\t}\n\t\t}\n\n\t\t// Get priority color classes\n\t\tconst getPriorityColor = (priority) => {\n\t\t\tconst priorityValue = priority || \"Medium\"\n\t\t\treturn {\n\t\t\t\t\"bg-red-500\": priorityValue === \"Critical\" || priorityValue === \"High\",\n\t\t\t\t\"bg-yellow-500\": priorityValue === \"Medium\",\n\t\t\t\t\"bg-green-500\": priorityValue === \"Low\",\n\t\t\t}\n\t\t}\n\n\t\t// Get status badge CSS classes\n\t\tconst getStatusBadgeClass = (status) => {\n\t\t\tconst statusValue = status || \"New\"\n\t\t\tconst statusClasses = {\n\t\t\t\tNew: \"bg-blue-100 text-blue-800\",\n\t\t\t\t\"In Review\": \"bg-orange-100 text-orange-800\",\n\t\t\t\tConfirmed: \"bg-purple-100 text-purple-800\",\n\t\t\t\t\"In Transit\": \"bg-blue-100 text-blue-800\",\n\t\t\t\tDelivered: \"bg-green-100 text-green-800\",\n\t\t\t\tClosed: \"bg-green-100 text-green-800\",\n\t\t\t\tOpen: \"bg-red-100 text-red-800\",\n\t\t\t\tReplied: \"bg-orange-100 text-orange-800\",\n\t\t\t\t\"On Hold\": \"bg-yellow-100 text-yellow-800\",\n\t\t\t\tResolved: \"bg-green-100 text-green-800\",\n\t\t\t}\n\t\t\treturn statusClasses[statusValue] || \"bg-gray-100 text-gray-800\"\n\t\t}\n\n\t\t// Get priority badge CSS classes\n\t\tconst getPriorityBadgeClass = (priority) => {\n\t\t\tconst priorityValue = priority || \"Medium\"\n\t\t\tconst priorityClasses = {\n\t\t\t\tCritical: \"bg-red-100 text-red-800\",\n\t\t\t\tHigh: \"bg-red-100 text-red-800\",\n\t\t\t\tMedium: \"bg-yellow-100 text-yellow-800\",\n\t\t\t\tLow: \"bg-green-100 text-green-800\",\n\t\t\t}\n\t\t\treturn priorityClasses[priorityValue] || \"bg-yellow-100 text-yellow-800\"\n\t\t}\n\n\t\t// Get priority indicator dot CSS classes\n\t\tconst getPriorityIndicatorClass = (priority) => {\n\t\t\tconst priorityValue = priority || \"Medium\"\n\t\t\treturn {\n\t\t\t\t\"bg-red-500\": priorityValue === \"Critical\",\n\t\t\t\t\"bg-red-400\": priorityValue === \"High\",\n\t\t\t\t\"bg-yellow-400\": priorityValue === \"Medium\",\n\t\t\t\t\"bg-green-400\": priorityValue === \"Low\",\n\t\t\t}\n\t\t}\n\n\t\t// Popup functions for user hover\n\t\tconst showUserPopup = (event, user) => {\n\t\t\tconst rect = event.target.getBoundingClientRect()\n\t\t\tpopupPosition.value = {\n\t\t\t\tx: rect.left + rect.width / 2,\n\t\t\t\ty: rect.top - 10,\n\t\t\t}\n\t\t\tpopupUser.value = user\n\t\t\tshowPopup.value = true\n\t\t}\n\n\t\tconst hideUserPopup = () => {\n\t\t\tshowPopup.value = false\n\t\t\tpopupUser.value = null\n\t\t}\n\n\t\t// Tags popup functions\n\t\tconst showTagsPopupFn = (event, tags) => {\n\t\t\tif (!tags || tags.length === 0) return\n\n\t\t\tconst rect = event.target.getBoundingClientRect()\n\t\t\ttagsPopupPosition.value = {\n\t\t\t\tx: rect.left + rect.width / 2,\n\t\t\t\ty: rect.top - 10,\n\t\t\t}\n\t\t\ttagsPopupData.value = tags\n\t\t\tshowTagsPopup.value = true\n\t\t}\n\n\t\tconst hideTagsPopupFn = () => {\n\t\t\tshowTagsPopup.value = false\n\t\t\ttagsPopupData.value = null\n\t\t}\n\n\t\t// Issue details popup functions\n\t\tconst showIssueDetailsPopupFn = (event, issue) => {\n\t\t\tif (!issue || !issue.subject) return\n\n\t\t\tconst rect = event.currentTarget.getBoundingClientRect()\n\t\t\tissueDetailsPopupPosition.value = {\n\t\t\t\tx: rect.left + rect.width / 2,\n\t\t\t\ty: rect.top - 10,\n\t\t\t}\n\t\t\tissueDetailsPopupData.value = {\n\t\t\t\tsubject: issue.subject,\n\t\t\t\tdescription: issue.description\n\t\t\t}\n\t\t\tshowIssueDetailsPopup.value = true\n\t\t}\n\n\t\tconst hideIssueDetailsPopup = () => {\n\t\t\tshowIssueDetailsPopup.value = false\n\t\t\tissueDetailsPopupData.value = null\n\t\t}\n\n\t\t// Sorting functionality\n\t\tconst handleColumnSort = (field) => {\n\t\t\tlet newDirection = \"asc\"\n\n\t\t\t// If clicking the same field, toggle direction\n\t\t\tif (props.sortField === field) {\n\t\t\t\tnewDirection = props.sortDirection === \"asc\" ? \"desc\" : \"asc\"\n\t\t\t}\n\n\t\t\t// Emit sort event to parent component\n\t\t\temit(\"sort\", { field, direction: newDirection })\n\t\t}\n\n\t\tconst getSortIcon = (field) => {\n\t\t\tif (props.sortField !== field) {\n\t\t\t\treturn \"arrow-up-down\" // Default unsorted icon\n\t\t\t}\n\n\t\t\treturn props.sortDirection === \"asc\" ? \"arrow-up\" : \"arrow-down\"\n\t\t}\n\n\t\tconst getSortIconClass = (field) => {\n\t\t\tif (props.sortField !== field) {\n\t\t\t\treturn \"text-gray-400\" // Inactive sort icon\n\t\t\t}\n\n\t\t\treturn \"text-blue-600\" // Active sort icon\n\t\t}\n\n\t\tconst getSortButtonClass = (field) => {\n\t\t\tif (props.sortField === field) {\n\t\t\t\treturn \"bg-blue-50\" // Active sort button background\n\t\t\t}\n\n\t\t\treturn \"\" // Default button styling\n\t\t}\n\n\t\t// Memoized tag styling function to prevent recalculating colors\n\t\tconst tagStyleCache = new Map()\n\t\tconst getTagStyle = (tag) => {\n\t\t\t// Check cache first\n\t\t\tif (tagStyleCache.has(tag)) {\n\t\t\t\treturn tagStyleCache.get(tag)\n\t\t\t}\n\t\t\t\n\t\t\t// Get tag color from API\n\t\t\tconst hexColor = getTagColor(tag)\n\t\t\tlet style\n\n\t\t\tif (hexColor) {\n\t\t\t\t// Convert hex color to RGB for background and text colors\n\t\t\t\tconst hex = hexColor.replace('#', '')\n\t\t\t\tconst r = parseInt(hex.substr(0, 2), 16)\n\t\t\t\tconst g = parseInt(hex.substr(2, 2), 16)\n\t\t\t\tconst b = parseInt(hex.substr(4, 2), 16)\n\n\t\t\t\t// Create background color (lighter version with opacity)\n\t\t\t\tconst bgColor = `rgba(${r}, ${g}, ${b}, 0.1)`\n\n\t\t\t\t// Create text color (darker version for contrast)\n\t\t\t\tconst textColor = `rgb(${Math.max(r - 50, 0)}, ${Math.max(g - 50, 0)}, ${Math.max(b - 50, 0)})`\n\n\t\t\t\tstyle = {\n\t\t\t\t\tbackgroundColor: bgColor,\n\t\t\t\t\tcolor: textColor,\n\t\t\t\t\tborderColor: textColor\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Fallback to default styling\n\t\t\t\tstyle = {\n\t\t\t\t\tbackgroundColor: '#f3f4f6',\n\t\t\t\t\tcolor: '#374151',\n\t\t\t\t\tborderColor: '#d1d5db'\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Cache the result\n\t\t\ttagStyleCache.set(tag, style)\n\t\t\treturn style\n\t\t}\n\n\t\treturn {\n\t\t\tcolumns,\n\t\t\tlistOptions,\n\t\t\ttransformedIssues,\n\t\t\thandleSelections,\n\t\t\tgetIssueUrl,\n\t\t\thandleIssueClick,\n\t\t\tgetStatusColor,\n\t\t\tgetPriorityColor,\n\t\t\tgetStatusBadgeClass,\n\t\t\tgetPriorityBadgeClass,\n\t\t\tgetPriorityIndicatorClass,\n\t\t\tgetInitials,\n\t\t\tformatIssueId,\n\t\t\tstripHtml,\n\t\t\tformatDate,\n\t\t\tformatTime,\n\t\t\tshowPopup,\n\t\t\tpopupUser,\n\t\t\tpopupPosition,\n\t\t\tshowUserPopup,\n\t\t\thideUserPopup,\n\t\t\thandleColumnSort,\n\t\t\tgetSortIcon,\n\t\t\tgetSortIconClass,\n\t\t\tgetSortButtonClass,\n\t\t\tgetTagStyle,\n\t\t\tshowTagsPopup,\n\t\t\ttagsPopupPosition,\n\t\t\ttagsPopupData,\n\t\t\tshowTagsPopupFn,\n\t\t\thideTagsPopupFn,\n\t\t\tshowIssueDetailsPopup,\n\t\t\tissueDetailsPopupPosition,\n\t\t\tissueDetailsPopupData,\n\t\t\tshowIssueDetailsPopupFn,\n\t\t\thideIssueDetailsPopup,\n\t\t}\n\t},\n}\n</script>","<template>\n  <div class=\"fixed top-4 right-4 z-50 space-y-2 max-w-sm\">\n    <transition-group name=\"notification\" tag=\"div\">\n      <div\n        v-for=\"notification in notifications\"\n        :key=\"notification.id\"\n        :class=\"notificationClasses(notification.type)\"\n        class=\"p-4 rounded-lg shadow-lg border backdrop-blur-sm\"\n      >\n        <div class=\"flex items-start justify-between\">\n          <div class=\"flex items-start space-x-3\">\n            <div class=\"flex-shrink-0\">\n              <FeatherIcon \n                :name=\"getNotificationIcon(notification.type)\" \n                :class=\"getIconColor(notification.type)\"\n                class=\"h-5 w-5\"\n              />\n            </div>\n            <div class=\"flex-1 min-w-0\">\n              <p class=\"text-sm font-medium text-gray-900\">\n                {{ notification.title }}\n              </p>\n              <p class=\"text-sm text-gray-600 mt-1\">\n                {{ notification.message }}\n              </p>\n              <p class=\"text-xs text-gray-500 mt-1\">\n                {{ formatTime(notification.timestamp) }}\n              </p>\n            </div>\n          </div>\n          <button\n            @click=\"$emit('remove', notification.id)\"\n            class=\"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600 focus:outline-none\"\n          >\n            <FeatherIcon name=\"x\" class=\"h-4 w-4\" />\n          </button>\n        </div>\n      </div>\n    </transition-group>\n  </div>\n</template>\n\n<script setup>\nimport { FeatherIcon } from 'frappe-ui'\n\ndefineProps({\n  notifications: {\n    type: Array,\n    default: () => []\n  }\n})\n\ndefineEmits(['remove'])\n\nconst notificationClasses = (type) => {\n  const baseClasses = 'bg-white/95 border-l-4'\n  const typeClasses = {\n    success: 'border-green-500',\n    info: 'border-blue-500', \n    warning: 'border-yellow-500',\n    error: 'border-red-500'\n  }\n  return `${baseClasses} ${typeClasses[type] || typeClasses.info}`\n}\n\nconst getNotificationIcon = (type) => {\n  const icons = {\n    success: 'check-circle',\n    info: 'info',\n    warning: 'alert-triangle',\n    error: 'alert-circle'\n  }\n  return icons[type] || icons.info\n}\n\nconst getIconColor = (type) => {\n  const colors = {\n    success: 'text-green-500',\n    info: 'text-blue-500',\n    warning: 'text-yellow-500', \n    error: 'text-red-500'\n  }\n  return colors[type] || colors.info\n}\n\nconst formatTime = (timestamp) => {\n  const now = new Date()\n  const diff = now - timestamp\n  const minutes = Math.floor(diff / 60000)\n  \n  if (minutes < 1) return 'Just now'\n  if (minutes < 60) return `${minutes}m ago`\n  \n  const hours = Math.floor(minutes / 60)\n  if (hours < 24) return `${hours}h ago`\n  \n  return timestamp.toLocaleDateString()\n}\n</script>\n\n<style scoped>\n.notification-enter-active,\n.notification-leave-active {\n  transition: all 0.3s ease;\n}\n\n.notification-enter-from {\n  opacity: 0;\n  transform: translateX(100%);\n}\n\n.notification-leave-to {\n  opacity: 0;\n  transform: translateX(100%);\n}\n\n.notification-move {\n  transition: transform 0.3s ease;\n}\n</style>","import { computed, ref, watch, shallowRef, markRaw } from \"vue\"\n\n// Optimized debounce function with cleanup\nfunction debounce(func, wait) {\n\tlet timeout\n\treturn function executedFunction(...args) {\n\t\tconst later = () => {\n\t\t\tclearTimeout(timeout)\n\t\t\tfunc(...args)\n\t\t}\n\t\tclearTimeout(timeout)\n\t\ttimeout = setTimeout(later, wait)\n\t}\n}\n\nexport function useIssueFilters() {\n\t// Reactive state for search and filters\n\tconst searchQuery = ref(\"\")\n\tconst filters = ref({\n\t\tstatus: \"\",\n\t\tpriority: \"\",\n\t\tassignee: \"\",\n\t\ttags: \"\",\n\t\tsortBy: \"creation desc\",\n\t})\n\n\t// Debounced search to optimize performance\n\tconst debouncedSearchQuery = ref(\"\")\n\n\t// Create debounced function for search\n\tconst updateDebouncedSearch = debounce((query) => {\n\t\tdebouncedSearchQuery.value = query\n\t}, 300) // 300ms delay\n\n\t// Watch search query and update debounced version\n\twatch(searchQuery, (newQuery) => {\n\t\tupdateDebouncedSearch(newQuery)\n\t})\n\n\t// Computed property for API filters\n\tconst apiFilters = computed(() => {\n\t\tconst filterObj = {}\n\n\t\t// Add search filter if query exists\n\t\tif (debouncedSearchQuery.value.trim()) {\n\t\t\t// Search in subject and description fields\n\t\t\tfilterObj[\"subject\"] = [\"like\", `%${debouncedSearchQuery.value.trim()}%`]\n\t\t}\n\n\t\t// Add status filter\n\t\tif (filters.value.status) {\n\t\t\tfilterObj[\"status\"] = filters.value.status\n\t\t}\n\n\t\t// Add priority filter\n\t\tif (filters.value.priority) {\n\t\t\tfilterObj[\"priority\"] = filters.value.priority\n\t\t}\n\n\t\t// Add assignee filter\n\t\tif (filters.value.assignee) {\n\t\t\tfilterObj[\"raised_by\"] = filters.value.assignee\n\t\t}\n\n\t\t// Add tags filter (issue_type)\n\t\tif (filters.value.tags) {\n\t\t\tfilterObj[\"issue_type\"] = filters.value.tags\n\t\t}\n\n\t\treturn filterObj\n\t})\n\n\t// Computed property for sort order\n\tconst sortOrder = computed(() => {\n\t\treturn filters.value.sortBy || \"creation desc\"\n\t})\n\n\t// Memoized filter cache to prevent re-filtering identical data\n\tconst filterCache = new Map()\n\t\n\t// Function to apply filters to a list of issues (client-side filtering) with memoization\n\tconst filterIssues = (issues) => {\n\t\tif (!issues || !Array.isArray(issues)) return []\n\n\t\t// Create cache key based on issues length and filter values\n\t\tconst cacheKey = JSON.stringify({\n\t\t\tissuesLength: issues.length,\n\t\t\tsearchQuery: searchQuery.value.trim(),\n\t\t\tstatus: filters.value.status,\n\t\t\tpriority: filters.value.priority,\n\t\t\tassignee: filters.value.assignee,\n\t\t\ttags: filters.value.tags,\n\t\t\tsortBy: filters.value.sortBy\n\t\t})\n\t\t\n\t\t// Return cached result if available\n\t\tif (filterCache.has(cacheKey)) {\n\t\t\treturn filterCache.get(cacheKey)\n\t\t}\n\n\t\tlet filteredIssues = [...issues]\n\n\t\t// Apply search filter\n\t\tif (searchQuery.value.trim()) {\n\t\t\tconst query = searchQuery.value.toLowerCase().trim()\n\t\t\tfilteredIssues = filteredIssues.filter((issue) => {\n\t\t\t\tconst subject = (issue.subject || \"\").toLowerCase()\n\t\t\t\tconst description = (issue.description || \"\").toLowerCase()\n\t\t\t\treturn subject.includes(query) || description.includes(query)\n\t\t\t})\n\t\t}\n\n\t\t// Apply status filter\n\t\tif (filters.value.status) {\n\t\t\tfilteredIssues = filteredIssues.filter(\n\t\t\t\t(issue) => issue.status === filters.value.status,\n\t\t\t)\n\t\t}\n\n\t\t// Apply priority filter\n\t\tif (filters.value.priority) {\n\t\t\tfilteredIssues = filteredIssues.filter(\n\t\t\t\t(issue) => issue.priority === filters.value.priority,\n\t\t\t)\n\t\t}\n\n\t\t// Apply assignee filter\n\t\tif (filters.value.assignee) {\n\t\t\tfilteredIssues = filteredIssues.filter(\n\t\t\t\t(issue) => issue.raised_by === filters.value.assignee,\n\t\t\t)\n\t\t}\n\n\t\t// Apply tags filter (issue_type)\n\t\tif (filters.value.tags) {\n\t\t\tfilteredIssues = filteredIssues.filter(\n\t\t\t\t(issue) => issue.issue_type === filters.value.tags,\n\t\t\t)\n\t\t}\n\n\t\t// Apply sorting with memoized priority order\n\t\tconst priorityOrder = markRaw({ Critical: 4, High: 3, Medium: 2, Low: 1 })\n\t\tfilteredIssues.sort((a, b) => {\n\t\t\tconst [field, direction] = filters.value.sortBy.split(\" \")\n\t\t\tconst aValue = a[field] || \"\"\n\t\t\tconst bValue = b[field] || \"\"\n\n\t\t\tlet comparison = 0\n\n\t\t\t// Handle different field types\n\t\t\tif (field === \"creation\" || field === \"modified\") {\n\t\t\t\tcomparison = new Date(aValue) - new Date(bValue)\n\t\t\t} else if (field === \"priority\") {\n\t\t\t\t// Custom priority sorting: Critical > High > Medium > Low\n\t\t\t\tcomparison = (priorityOrder[aValue] || 0) - (priorityOrder[bValue] || 0)\n\t\t\t} else {\n\t\t\t\t// String comparison\n\t\t\t\tcomparison = aValue.toString().localeCompare(bValue.toString())\n\t\t\t}\n\n\t\t\treturn direction === \"desc\" ? -comparison : comparison\n\t\t})\n\n\t\t// Cache the result (limit cache size to prevent memory leaks)\n\t\tif (filterCache.size > 50) {\n\t\t\tconst firstKey = filterCache.keys().next().value\n\t\t\tfilterCache.delete(firstKey)\n\t\t}\n\t\tfilterCache.set(cacheKey, filteredIssues)\n\n\t\treturn filteredIssues\n\t}\n\n\t// Memoized assignee options cache\n\tlet assigneeOptionsCache = null\n\tlet lastAssigneeIssuesHash = null\n\t\n\t// Function to get unique assignees from issues list with memoization\n\tconst getAssigneeOptions = (issues) => {\n\t\tif (!issues || !Array.isArray(issues))\n\t\t\treturn markRaw([{ label: \"All Assignees\", value: \"\" }])\n\n\t\t// Create hash of assignees to detect changes\n\t\tconst assigneesHash = issues\n\t\t\t.map(issue => issue.raised_by)\n\t\t\t.filter(assignee => assignee && assignee.trim())\n\t\t\t.sort()\n\t\t\t.join('|')\n\t\t\n\t\t// Return cached result if assignees haven't changed\n\t\tif (assigneeOptionsCache && lastAssigneeIssuesHash === assigneesHash) {\n\t\t\treturn assigneeOptionsCache\n\t\t}\n\n\t\tconst uniqueAssignees = [\n\t\t\t...new Set(\n\t\t\t\tissues\n\t\t\t\t\t.map((issue) => issue.raised_by)\n\t\t\t\t\t.filter((assignee) => assignee && assignee.trim()),\n\t\t\t),\n\t\t]\n\n\t\tconst options = markRaw([\n\t\t\t{ label: \"All Assignees\", value: \"\" },\n\t\t\t...uniqueAssignees.map((assignee) => ({\n\t\t\t\tlabel: assignee,\n\t\t\t\tvalue: assignee,\n\t\t\t})),\n\t\t])\n\t\t\n\t\t// Cache the result\n\t\tassigneeOptionsCache = options\n\t\tlastAssigneeIssuesHash = assigneesHash\n\n\t\treturn options\n\t}\n\n\t// Function to reset all filters\n\tconst resetFilters = () => {\n\t\tsearchQuery.value = \"\"\n\t\tdebouncedSearchQuery.value = \"\"\n\t\tfilters.value = {\n\t\t\tstatus: \"\",\n\t\t\tpriority: \"\",\n\t\t\tassignee: \"\",\n\t\t\ttags: \"\",\n\t\t\tsortBy: \"creation desc\",\n\t\t}\n\t}\n\n\t// Function to check if any filters are active\n\tconst hasActiveFilters = computed(() => {\n\t\treturn (\n\t\t\tsearchQuery.value.trim() !== \"\" ||\n\t\t\tfilters.value.status !== \"\" ||\n\t\t\tfilters.value.priority !== \"\" ||\n\t\t\tfilters.value.assignee !== \"\" ||\n\t\t\tfilters.value.tags !== \"\" ||\n\t\t\tfilters.value.sortBy !== \"creation desc\"\n\t\t)\n\t})\n\n\treturn {\n\t\t// Reactive state\n\t\tsearchQuery,\n\t\tfilters,\n\t\tdebouncedSearchQuery,\n\n\t\t// Computed properties\n\t\tapiFilters,\n\t\tsortOrder,\n\t\thasActiveFilters,\n\n\t\t// Functions\n\t\tfilterIssues,\n\t\tgetAssigneeOptions,\n\t\tresetFilters,\n\t}\n}\n","import { onMounted, onUnmounted, ref } from 'vue'\nimport { useSocket } from '../socket'\nimport { reloadIssues, getIssuesCount, issuesResource, fetchSingleIssue, singleIssueResource, statFilterResource } from '../data/issues'\n\n/**\n * Composable that implements Frappe's list view realtime update pattern\n * Similar to setup_realtime_updates() in frappe/public/js/frappe/list/list_view.js\n */\nexport function useIssueListUpdates(getCurrentParams, customRefreshFunction, getCurrentResourceState) {\n  const socket = useSocket()\n  const pendingDocumentRefreshes = ref([])\n  const realtimeEventsSetup = ref(false)\n  const isLargeTable = ref(false) // Could be made configurable\n  \n  // Debounced refresh similar to Frappe's approach\n  let debounceTimer = null\n  const debounceDelay = isLargeTable.value ? 15000 : 2000 // 15s for large tables, 2s for normal\n  \n  const debouncedRefresh = () => {\n    console.log(` Setting up debounced refresh with ${debounceDelay}ms delay`)\n    if (debounceTimer) {\n      clearTimeout(debounceTimer)\n      console.log(' Cleared existing debounce timer')\n    }\n    debounceTimer = setTimeout(() => {\n      console.log(' Debounce timer fired, calling processDocumentRefreshes')\n      processDocumentRefreshes()\n    }, debounceDelay)\n  }\n\n  const setupRealtimeUpdates = () => {\n    if (!socket || realtimeEventsSetup.value) {\n      return\n    }\n    \n    // Subscribe to Issue doctype updates (Frappe's standard way)\n    socket.emit('doctype_subscribe', 'Issue')\n    \n    // Remove any existing listeners to avoid duplicates\n    socket.off('list_update')\n    \n    // Listen for Frappe's standard list_update event\n    socket.on('list_update', (data) => {\n      try {\n        console.log(' Received list_update event:', data)\n        \n        if (data?.doctype !== 'Issue') {\n          return\n        }\n\n        // Skip updates if we're in a state where updates should be avoided\n        if (avoidRealtimeUpdate()) {\n          console.log(' Skipping realtime update (avoid condition met)')\n          return\n        }\n\n        // Only process updates for existing issues, not newly created ones\n        if (data.action === 'insert' || data.action === 'create') {\n          console.log(' Skipping new issue creation update:', data.name)\n          return\n        }\n\n        console.log(' Adding to pending refreshes:', data.name)\n        // Add to pending refreshes\n        pendingDocumentRefreshes.value.push(data)\n        debouncedRefresh()\n      } catch (error) {\n        console.error(' Error processing list_update event:', error)\n        // Don't let realtime errors break the system\n      }\n    })\n\n    // Also listen for individual document events that should trigger list updates\n    const documentEvents = ['doctype_update', 'Issue_update', 'Issue_create', 'Issue_delete']\n    \n    documentEvents.forEach(eventName => {\n      socket.on(eventName, (data) => {\n        if (data?.doctype !== 'Issue') {\n          return\n        }\n\n        if (avoidRealtimeUpdate()) {\n          return\n        }\n\n        // Convert to list_update format\n        const listUpdateData = {\n          doctype: 'Issue',\n          name: data.name,\n          action: eventName.includes('create') ? 'insert' : \n                  eventName.includes('delete') ? 'delete' : 'update',\n          modified_by: data.modified_by || data.owner,\n          timestamp: new Date().toISOString()\n        }\n\n        // Only process updates for existing issues, not newly created ones\n        if (listUpdateData.action === 'insert') {\n          console.log(' Skipping new issue creation update:', data.name)\n          return\n        }\n\n        pendingDocumentRefreshes.value.push(listUpdateData)\n        debouncedRefresh()\n      })\n    })\n\n    realtimeEventsSetup.value = true\n  }\n\n  const disableRealtimeUpdates = () => {\n    if (!socket || !realtimeEventsSetup.value) {\n      return\n    }\n    \n    // Unsubscribe from doctype updates\n    socket.emit('doctype_unsubscribe', 'Issue')\n    \n    // Remove all event listeners\n    socket.off('list_update')\n    const documentEvents = ['doctype_update', 'Issue_update', 'Issue_create', 'Issue_delete']\n    documentEvents.forEach(eventName => {\n      socket.off(eventName)\n    })\n    \n    realtimeEventsSetup.value = false\n  }\n\n  const processDocumentRefreshes = async () => {\n    console.log(' processDocumentRefreshes called with', pendingDocumentRefreshes.value.length, 'pending refreshes')\n    \n    if (!pendingDocumentRefreshes.value.length) {\n      console.log(' No pending refreshes, returning early')\n      return\n    }\n\n    // Check if we're still on the correct route/page\n    const currentRoute = window.location.hash || window.location.pathname\n    console.log(' Current route:', currentRoute)\n    \n    if (!currentRoute.includes('issue-tracker') && !currentRoute.includes('issues') && !currentRoute.includes('frontend')) {\n      console.log(' Not on correct route, clearing pending refreshes and disabling updates')\n      // Clear pending refreshes if user navigated away\n      pendingDocumentRefreshes.value = []\n      disableRealtimeUpdates()\n      return\n    }\n    \n    console.log(' Route check passed, proceeding with refresh')\n\n    // Get unique document names from pending refreshes\n    const uniqueDocuments = [...new Set(pendingDocumentRefreshes.value.map(d => d.name))]\n    const refreshCount = uniqueDocuments.length\n\n    console.log(` Processing ${refreshCount} document refreshes:`, uniqueDocuments)\n\n    // Clear pending refreshes\n    pendingDocumentRefreshes.value = []\n\n    try {\n      // Update with current view parameters to maintain user's context\n      await updateIndividualRows(uniqueDocuments)\n      \n      // Emit a custom event that the parent component can listen to for notifications\n      if (window && typeof window.dispatchEvent === 'function') {\n        window.dispatchEvent(new CustomEvent('issueListUpdated', {\n          detail: { count: refreshCount, documents: uniqueDocuments }\n        }))\n      }\n      \n      console.log(` Successfully processed ${refreshCount} document refreshes`)\n    } catch (error) {\n      console.error(' Error updating individual rows, falling back to full refresh:', error)\n      // Fallback to full refresh if individual update fails\n      try {\n        if (customRefreshFunction && typeof customRefreshFunction === 'function') {\n          console.log(' Using custom refresh function for fallback')\n          await customRefreshFunction()\n        } else {\n          console.log(' Using default refresh functions for fallback')\n          await reloadIssues()\n          await getIssuesCount()\n        }\n        console.log(' Fallback refresh completed successfully')\n      } catch (fallbackError) {\n        console.error(' Error in fallback refresh:', fallbackError)\n        // Even if fallback fails, don't disable realtime - just log the error\n      }\n    }\n  }\n\n  const updateIndividualRows = async (documentNames) => {\n    try {\n      // Determine which resource is currently active and get its data\n      const { activeResource, currentData } = getCurrentActiveResource()\n      \n      if (!currentData || !Array.isArray(currentData)) {\n        console.log(' No current data available, falling back to custom refresh')\n        if (customRefreshFunction && typeof customRefreshFunction === 'function') {\n          await customRefreshFunction()\n        }\n        return\n      }\n      \n      // Get the current pagination and filter parameters from the component\n      let currentParams = {\n        limit_page_length: 10,\n        limit_start: 0,\n        filters: {},\n        order_by: \"creation desc\"\n      }\n      \n      // If getCurrentParams function is provided, use it to get actual current parameters\n      if (getCurrentParams && typeof getCurrentParams === 'function') {\n        try {\n          const params = getCurrentParams()\n          if (params) {\n            currentParams = { ...currentParams, ...params }\n          }\n        } catch (paramError) {\n          console.warn('Error getting current parameters, using defaults:', paramError)\n        }\n      }\n\n      // Smart update: Only update if the changed issues are visible on current page\n      const visibleIssueNames = currentData.map(issue => issue.name)\n      const updatedVisibleIssues = documentNames.filter(name => visibleIssueNames.includes(name))\n      \n      if (updatedVisibleIssues.length === 0) {\n        console.log(' Updated issues not visible on current page, skipping grid update')\n        return\n      }\n\n      console.log(` Updating ${updatedVisibleIssues.length} visible issues:`, updatedVisibleIssues)\n      \n      // Fetch updated data for only the visible issues and merge with current data\n      await updateVisibleIssuesInPlace(updatedVisibleIssues, activeResource, currentData)\n      \n    } catch (error) {\n      console.error('Error during targeted refresh:', error)\n      // Fallback to custom refresh function if smart update fails\n      if (customRefreshFunction && typeof customRefreshFunction === 'function') {\n        await customRefreshFunction()\n      }\n      throw error\n    }\n  }\n\n  const getCurrentActiveResource = () => {\n    // Use the parent component's resource state if provided\n    if (getCurrentResourceState && typeof getCurrentResourceState === 'function') {\n      try {\n        const resourceState = getCurrentResourceState()\n        if (resourceState) {\n          console.log(` Using ${resourceState.resourceType} resource for updates (from parent)`)\n          return resourceState\n        }\n      } catch (error) {\n        console.warn('Error getting resource state from parent, falling back to detection:', error)\n      }\n    }\n    \n    // Fallback: Try to detect which resource is currently active\n    // Priority: statFilterResource if it has data and issuesResource doesn't, or vice versa\n    const hasStatData = statFilterResource.data && Array.isArray(statFilterResource.data) && statFilterResource.data.length > 0\n    const hasIssuesData = issuesResource.data && Array.isArray(issuesResource.data) && issuesResource.data.length > 0\n    \n    // If only one has data, use that one\n    if (hasStatData && !hasIssuesData) {\n      console.log(' Using statFilterResource for updates (only stat has data)')\n      return {\n        activeResource: statFilterResource,\n        currentData: statFilterResource.data,\n        resourceType: 'stat'\n      }\n    }\n    \n    if (hasIssuesData && !hasStatData) {\n      console.log(' Using issuesResource for updates (only issues has data)')\n      return {\n        activeResource: issuesResource,\n        currentData: issuesResource.data,\n        resourceType: 'main'\n      }\n    }\n    \n    // If both have data or neither has data, prefer the one that was loaded more recently\n    const statLastLoaded = statFilterResource.lastLoaded || 0\n    const issuesLastLoaded = issuesResource.lastLoaded || 0\n    \n    if (hasStatData && statLastLoaded >= issuesLastLoaded) {\n      console.log(' Using statFilterResource for updates (more recent)')\n      return {\n        activeResource: statFilterResource,\n        currentData: statFilterResource.data,\n        resourceType: 'stat'\n      }\n    }\n    \n    // Default to main issues resource\n    console.log(' Using issuesResource for updates (default)')\n    return {\n      activeResource: issuesResource,\n      currentData: issuesResource.data || [],\n      resourceType: 'main'\n    }\n  }\n\n  const updateVisibleIssuesInPlace = async (visibleIssueNames, activeResource, currentData) => {\n    try {\n      // Fetch the updated issues individually\n      const updatedIssues = await Promise.all(\n        visibleIssueNames.map(async (issueName) => {\n          try {\n            await fetchSingleIssue(issueName)\n            return singleIssueResource.data\n          } catch (error) {\n            console.warn(`Failed to fetch updated issue ${issueName}:`, error)\n            return null\n          }\n        })\n      )\n\n      // Filter out any failed fetches\n      const validUpdatedIssues = updatedIssues.filter(issue => issue !== null)\n      \n      if (validUpdatedIssues.length === 0) {\n        console.warn('No valid updated issues fetched, falling back to custom refresh')\n        if (customRefreshFunction && typeof customRefreshFunction === 'function') {\n          await customRefreshFunction()\n        }\n        return\n      }\n\n      // Update individual issues in place to trigger Vue reactivity efficiently\n      if (activeResource.data && Array.isArray(activeResource.data)) {\n        console.log(` Updating ${validUpdatedIssues.length} issues in ${activeResource.data.length} total issues`)\n        \n        validUpdatedIssues.forEach(updatedIssue => {\n          const index = activeResource.data.findIndex(issue => issue.name === updatedIssue.name)\n          if (index !== -1) {\n            console.log(` Updating issue at index ${index}: ${updatedIssue.name}`)\n            // Direct property update triggers Vue reactivity efficiently\n            Object.assign(activeResource.data[index], updatedIssue)\n          } else {\n            console.warn(` Issue ${updatedIssue.name} not found in current data for update`)\n          }\n        })\n      } else {\n        console.warn(' activeResource.data is not an array, using fallback method')\n        // Fallback to direct assignment if data structure is unexpected\n        const currentIssues = [...currentData]\n        validUpdatedIssues.forEach(updatedIssue => {\n          const index = currentIssues.findIndex(issue => issue.name === updatedIssue.name)\n          if (index !== -1) {\n            console.log(` Updating issue at index ${index}: ${updatedIssue.name} (fallback)`)\n            currentIssues[index] = updatedIssue\n          } else {\n            console.warn(` Issue ${updatedIssue.name} not found in current data for update (fallback)`)\n          }\n        })\n        activeResource.data = currentIssues\n      }\n      \n      console.log(` Successfully updated ${validUpdatedIssues.length} issues in current view`)\n      \n    } catch (error) {\n      console.error('Error updating visible issues in place:', error)\n      // Fallback to custom refresh function if available\n      if (customRefreshFunction && typeof customRefreshFunction === 'function') {\n        await customRefreshFunction()\n      }\n    }\n  }\n\n\n\n  const avoidRealtimeUpdate = () => {\n    // Similar to Frappe's avoid_realtime_update() logic\n    \n    // Check if any bulk operations are in progress\n    // (you could check for selected items, bulk actions, etc.)\n    \n    // Check if filters are being edited\n    // (you could check if filter modals/inputs are active)\n    \n    // Check if the page is hidden/not focused\n    if (document.hidden) {\n      return true\n    }\n\n    // Add any other conditions where updates should be avoided\n    return false\n  }\n\n  // Track page visibility state for focus-based refresh\n  const wasPageHidden = ref(false)\n  \n  const handleVisibilityChange = () => {\n    if (document.hidden) {\n      // Page became hidden - remember this state\n      wasPageHidden.value = true\n    } else if (wasPageHidden.value) {\n      // Page became visible again after being hidden - refresh the table\n      wasPageHidden.value = false\n      console.log(' Page came back into focus - refreshing Issue table')\n      \n      // Process any pending updates that were skipped while page was hidden\n      if (pendingDocumentRefreshes.value.length > 0) {\n        console.log(` Processing ${pendingDocumentRefreshes.value.length} pending updates`)\n        processDocumentRefreshes()\n      } else {\n        // No pending updates, but still do a manual refresh to ensure data is current\n        manualRefresh()\n      }\n    }\n  }\n\n  // Manual refresh method (useful for pull-to-refresh or manual refresh buttons)\n  const manualRefresh = () => {\n    pendingDocumentRefreshes.value = [] // Clear any pending\n    try {\n      // Use custom refresh function if provided, otherwise use default\n      if (customRefreshFunction && typeof customRefreshFunction === 'function') {\n        customRefreshFunction()\n      } else {\n        reloadIssues()\n        getIssuesCount()\n      }\n    } catch (error) {\n      console.error('Error during manual refresh:', error)\n    }\n  }\n\n  // Socket connection handlers\n  const handleConnect = () => {\n    setupRealtimeUpdates()\n  }\n\n  const handleDisconnect = () => {\n    realtimeEventsSetup.value = false\n  }\n\n  const handleConnectError = (error) => {\n    console.error('Socket connection error:', error)\n    realtimeEventsSetup.value = false\n  }\n\n  // Lifecycle management\n  onMounted(() => {\n    if (!socket) {\n      return\n    }\n\n    // Set up socket connection handlers\n    socket.on('connect', handleConnect)\n    socket.on('disconnect', handleDisconnect)\n    socket.on('connect_error', handleConnectError)\n\n    // Set up page visibility change listener for focus-based refresh\n    document.addEventListener('visibilitychange', handleVisibilityChange)\n\n    // If already connected, set up immediately\n    if (socket.connected) {\n      setupRealtimeUpdates()\n    }\n  })\n\n  onUnmounted(() => {\n    if (socket) {\n      socket.off('connect', handleConnect)\n      socket.off('disconnect', handleDisconnect)\n      socket.off('connect_error', handleConnectError)\n    }\n    \n    // Remove page visibility change listener\n    document.removeEventListener('visibilitychange', handleVisibilityChange)\n    \n    disableRealtimeUpdates()\n    \n    // Clear any pending debounce timer\n    if (debounceTimer) {\n      clearTimeout(debounceTimer)\n    }\n  })\n\n  return {\n    // State (return the refs, not their values)\n    pendingDocumentRefreshes,\n    realtimeEventsSetup,\n    \n    // Methods\n    setupRealtimeUpdates,\n    disableRealtimeUpdates,\n    manualRefresh,\n    processDocumentRefreshes\n  }\n}","<template>\r\n  <div class=\"min-h-screen bg-gray-50\">\r\n    <!-- Header -->\r\n    <div class=\"bg-white shadow-sm border-b\">\r\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div class=\"flex justify-between items-center py-4\">\r\n          <div class=\"flex items-center space-x-4\">\r\n            <h1 class=\"text-2xl font-bold text-gray-900\">Ticket Tracker</h1>\r\n            <nav class=\"flex space-x-4\">\r\n              <router-link to=\"/\"\r\n                class=\"bg-blue-100 text-blue-700 px-3 py-2 rounded-md text-sm font-medium\"\r\n                active-class=\"bg-blue-100 text-blue-700\"\r\n                inactive-class=\"text-gray-600 hover:text-gray-900\">\r\n                Tickets\r\n              </router-link>\r\n              <router-link to=\"/sent-emails\"\r\n                class=\"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium\"\r\n                active-class=\"bg-blue-100 text-blue-700\"\r\n                inactive-class=\"text-gray-600 hover:text-gray-900\">\r\n                Sent Emails\r\n              </router-link>\r\n              <a href=\"/app/support\"\r\n                class=\"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium\">\r\n                Desk\r\n              </a>\r\n              <a href=\"/intro\"\r\n                class=\"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium\">\r\n                Wiki\r\n              </a>\r\n            </nav>\r\n          </div>\r\n          <div class=\"flex items-center space-x-4\">\r\n            <Button @click=\"showComposeEmailDialog = true\" variant=\"solid\" size=\"sm\">\r\n              <template #prefix>\r\n                <FeatherIcon name=\"mail\" class=\"w-4 h-4\" />\r\n              </template>\r\n              Compose Email\r\n            </Button>\r\n            <span class=\"text-sm text-gray-600\">{{ session.user }}</span>\r\n            <Button @click=\"session.logout.submit()\" variant=\"outline\" size=\"sm\">\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Main Content -->\r\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <!-- Statistics Cards -->\r\n      <IssueStats ref=\"issueStatsRef\" :issues=\"issues\" :activeFilter=\"currentStatFilter\" @filter-changed=\"handleStatFilterChanged\" />\r\n\r\n      <!-- Search and Filters -->\r\n      <IssueFilters v-model:searchQuery=\"searchQuery\" v-model:filters=\"filters\" :statusOptions=\"statusOptions\"\r\n        :priorityOptions=\"priorityOptions\" :assigneeOptions=\"assigneeOptions\" :tagsOptions=\"tagsOptions\"\r\n        :issues=\"allIssues\" :filteredCount=\"totalIssues\" @suggestion-selected=\"handleSuggestionSelected\" \r\n        @filters-applied=\"handleFiltersApplied\" />\r\n\r\n      <!-- Issues Table -->\r\n      <IssueTable :issues=\"issues\" :loading=\"isLoading\" :sortField=\"currentSortField\"\r\n        :sortDirection=\"currentSortDirection\" @sort=\"handleSort\" />\r\n\r\n      <!-- Pagination -->\r\n      <IssuePagination v-model:currentPage=\"currentPage\" v-model:itemsPerPage=\"itemsPerPage\" :totalItems=\"totalIssues\"\r\n        @pageChange=\"handlePageChange\" />\r\n\r\n      <!-- Compact Real-time Status Icons (Vertical) -->\r\n      <div class=\"fixed top-20 right-4 flex flex-col space-y-2\">\r\n        <!-- Connection Status -->\r\n        <div\r\n          class=\"group relative bg-white rounded-full shadow-lg border p-2 hover:shadow-xl transition-all duration-200\"\r\n          :title=\"realtimeEventsSetup ? 'Real-time updates active' : 'Real-time updates disabled'\">\r\n          <!-- Connection Icon with Status -->\r\n          <div class=\"relative\">\r\n            <FeatherIcon :name=\"realtimeEventsSetup ? 'wifi' : 'wifi-off'\" :class=\"[\r\n              'h-5 w-5 transition-colors duration-200',\r\n              realtimeEventsSetup ? 'text-green-600' : 'text-red-500'\r\n            ]\" />\r\n            <!-- Status Dot -->\r\n            <div :class=\"[\r\n              'absolute -top-1 -right-1 w-3 h-3 rounded-full border-2 border-white',\r\n              realtimeEventsSetup\r\n                ? 'bg-green-500 animate-pulse'\r\n                : 'bg-red-500'\r\n            ]\"></div>\r\n            <!-- Pending Updates Badge -->\r\n            <div v-if=\"pendingDocumentRefreshes.length > 0\"\r\n              class=\"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium animate-bounce\">\r\n              {{ pendingDocumentRefreshes.length > 9 ? '9+' : pendingDocumentRefreshes.length }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Manual Refresh Button -->\r\n        <button @click=\"manualRefresh\"\r\n          class=\"group bg-white rounded-full shadow-lg border p-2 hover:shadow-xl hover:bg-blue-50 transition-all duration-200 active:scale-95\"\r\n          title=\"Manual refresh\">\r\n          <FeatherIcon name=\"refresh-cw\"\r\n            class=\"h-5 w-5 text-gray-600 group-hover:text-blue-600 group-active:rotate-180 transition-all duration-300\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Real-time Notifications -->\r\n    <RealTimeNotifications :notifications=\"notifications\" @remove=\"removeNotification\" />\r\n\r\n    <!-- Compose Email Dialog -->\r\n    <ComposeEmailDialog\r\n      v-model:show=\"showComposeEmailDialog\"\r\n      @email-sent=\"handleEmailSent\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, onMounted, onUnmounted, ref, watch, shallowRef, markRaw } from \"vue\"\r\nimport { Button, FeatherIcon, call } from \"frappe-ui\"\r\nimport IssueFilters from \"../components/IssueFilters.vue\"\r\nimport IssuePagination from \"../components/IssuePagination.vue\"\r\nimport IssueStats from \"../components/IssueStats.vue\"\r\nimport IssueTable from \"../components/IssueTable.vue\"\r\nimport RealTimeNotifications from \"../components/RealTimeNotifications.vue\"\r\nimport ComposeEmailDialog from \"../components/ComposeEmailDialog.vue\"\r\nimport { useIssueFilters } from \"../composables/useIssueFilters\"\r\nimport { useIssueListUpdates } from \"../composables/useIssueListUpdates\"\r\nimport {\r\n  getIssueTypeOptions,\r\n  getIssuesCount,\r\n  getPriorityOptions,\r\n  getStatusOptions,\r\n  issuesCountResource,\r\n  issuesResource,\r\n  reloadIssues,\r\n  filterIssuesByStat,\r\n  getStatFilterCount,\r\n  statFilterResource,\r\n  statFilterCountResource,\r\n} from \"../data/issues\"\r\nimport { session } from \"../data/session\"\r\n\r\n// Use the filtering composable\r\nconst {\r\n  searchQuery,\r\n  filters,\r\n  debouncedSearchQuery,\r\n  apiFilters,\r\n  sortOrder,\r\n  getAssigneeOptions,\r\n} = useIssueFilters()\r\n\r\n// Suggestion filtering has been removed - suggestions now open issues in new tabs\r\n\r\n// State to track if we're using stat-based filtering\r\nconst isUsingStatFilter = ref(false)\r\nconst currentStatFilter = ref('team_tickets') // Default to team tickets\r\n\r\n// Reference to IssueStats component\r\nconst issueStatsRef = ref(null)\r\n\r\n// Optimized refresh function using unified approach\r\nconst refreshCurrentView = () => {\r\n  console.log('Refreshing current view:', { \r\n    isUsingStatFilter: isUsingStatFilter.value, \r\n    currentStatFilter: currentStatFilter.value,\r\n    hasCustomFilters: complexFilters.value && complexFilters.value.length > 0\r\n  })\r\n\r\n  // Preserve current pagination when refreshing\r\n  const currentParams = {\r\n    limit_page_length: itemsPerPage.value,\r\n    limit_start: (currentPage.value - 1) * itemsPerPage.value,\r\n    order_by: sortOrder.value,\r\n  }\r\n\r\n  if (isUsingStatFilter.value) {\r\n    // Refresh using stat filter mode with current pagination\r\n    if (complexFilters.value && complexFilters.value.length > 0) {\r\n      currentParams.filters = JSON.stringify(complexFilters.value)\r\n    }\r\n    \r\n    // Use Promise.all for better performance during refresh\r\n    Promise.all([\r\n      filterIssuesByStat(currentStatFilter.value, currentParams),\r\n      complexFilters.value && complexFilters.value.length > 0 \r\n        ? getStatFilterCount(currentStatFilter.value, JSON.stringify(complexFilters.value))\r\n        : getStatFilterCount(currentStatFilter.value)\r\n    ]).then(() => {\r\n      console.log('Stat filter view refreshed successfully')\r\n    }).catch((error) => {\r\n      console.error('Error refreshing stat filter view:', error)\r\n    })\r\n  } else {\r\n    // Refresh using regular filter mode\r\n    Promise.all([\r\n      reloadIssues({\r\n        filters: JSON.stringify(complexFilters.value),\r\n        ...currentParams,\r\n      }),\r\n      getIssuesCount(JSON.stringify(complexFilters.value))\r\n    ]).then(() => {\r\n      console.log('Regular filter view refreshed successfully')\r\n    }).catch((error) => {\r\n      console.error('Error refreshing regular filter view:', error)\r\n    })\r\n  }\r\n}\r\n\r\n// Realtime list updates composable (Frappe-style)\r\nconst {\r\n  pendingDocumentRefreshes,\r\n  realtimeEventsSetup,\r\n  manualRefresh: originalManualRefresh\r\n} = useIssueListUpdates(() => {\r\n  // Return current parameters for realtime updates\r\n  return {\r\n    filters: nonSearchFilters.value,\r\n    order_by: sortOrder.value,\r\n    limit_page_length: itemsPerPage.value,\r\n    limit_start: (currentPage.value - 1) * itemsPerPage.value,\r\n  }\r\n}, refreshCurrentView, () => {\r\n  // Return current resource state to match what the component is using\r\n  if (isUsingStatFilter.value) {\r\n    return {\r\n      activeResource: statFilterResource,\r\n      currentData: statFilterResource.data || [],\r\n      resourceType: 'stat'\r\n    }\r\n  } else {\r\n    return {\r\n      activeResource: issuesResource,\r\n      currentData: issuesResource.data || [],\r\n      resourceType: 'main'\r\n    }\r\n  }\r\n})\r\n\r\n// Override manual refresh to use our custom refresh function\r\nconst manualRefresh = () => {\r\n  refreshCurrentView()\r\n}\r\n\r\n// Simplified notification system for list updates\r\nconst notifications = ref([])\r\n\r\n// Compose email dialog state\r\nconst showComposeEmailDialog = ref(false)\r\n\r\nconst addNotification = (notification) => {\r\n  notifications.value.push({\r\n    id: Date.now() + Math.random(),\r\n    ...notification\r\n  })\r\n\r\n  // Auto-remove after 5 seconds\r\n  setTimeout(() => {\r\n    removeNotification(notifications.value[notifications.value.length - 1]?.id)\r\n  }, 5000)\r\n}\r\n\r\nconst removeNotification = (id) => {\r\n  notifications.value = notifications.value.filter(n => n.id !== id)\r\n}\r\n\r\n// Handle email sent event\r\nconst handleEmailSent = (emailData) => {\r\n  // Map action types to notification titles\r\n  const titleMap = {\r\n    'sent': 'Email Sent',\r\n    'scheduled': 'Email Scheduled',\r\n    'draft_saved': 'Draft Saved',\r\n    'send_failed': 'Send Failed',\r\n    'draft_save_failed': 'Save Failed'\r\n  }\r\n\r\n  addNotification({\r\n    type: emailData.type || 'success',\r\n    title: titleMap[emailData.action] || 'Email Action',\r\n    message: emailData.message || `Email \"${emailData.subject}\" sent successfully to ${emailData.recipientCount} recipients`,\r\n    timestamp: new Date()\r\n  })\r\n\r\n  // Only close dialog on success\r\n  if (emailData.type !== 'error') {\r\n    showComposeEmailDialog.value = false\r\n  }\r\n}\r\n\r\n// Computed properties for displaying data\r\nconst allIssues = computed(() => {\r\n  if (isUsingStatFilter.value) {\r\n    return statFilterResource.data || []\r\n  }\r\n  return issuesResource.data || []\r\n})\r\n\r\nconst totalIssues = computed(() => {\r\n  if (isUsingStatFilter.value) {\r\n    return statFilterCountResource.data || 0\r\n  }\r\n  return issuesCountResource.data || 0\r\n})\r\n\r\nconst isLoading = computed(() => {\r\n  if (isUsingStatFilter.value) {\r\n    return statFilterResource.loading\r\n  }\r\n  return issuesResource.loading\r\n})\r\n\r\n// With server-side pagination, we use the data directly without client-side filtering\r\nconst issues = computed(() => allIssues.value)\r\n\r\n// Sort functionality\r\nconst currentSortField = computed(() => {\r\n  const order = sortOrder.value || \"creation desc\"\r\n  return order.split(\" \")[0]\r\n})\r\n\r\nconst currentSortDirection = computed(() => {\r\n  const order = sortOrder.value || \"creation desc\"\r\n  return order.split(\" \")[1] || \"desc\"\r\n})\r\n\r\nconst handleSort = ({ field, direction }) => {\r\n  // Update the sort order in filters\r\n  const newSortOrder = `${field} ${direction}`\r\n  filters.value.sortBy = newSortOrder\r\n  \r\n  // Reset to first page when sorting\r\n  currentPage.value = 1\r\n  \r\n  // Trigger the same API call that happens when clicking cards\r\n  refreshCurrentView()\r\n}\r\n\r\n// Handle suggestion selection from search - now just opens issue in new tab\r\nconst handleSuggestionSelected = (suggestion) => {\r\n  // Suggestions now open issues in new tabs - no filtering needed\r\n  // The CustomSearchBox component handles opening the issue in a new tab\r\n}\r\n\r\n// Handle complex filter objects from IssueFilters component\r\nconst complexFilters = ref([])\r\n\r\nconst handleFiltersApplied = (filterArray) => {\r\n  console.log('Filters applied:', filterArray)\r\n  \r\n  // Store the complex filters\r\n  complexFilters.value = filterArray\r\n  \r\n  // Reset to first page when applying new filters\r\n  currentPage.value = 1\r\n  \r\n  // Apply the current filtering logic based on the situation\r\n  if (filterArray && filterArray.length > 0) {\r\n    // User has applied custom filters\r\n    if (isUsingStatFilter.value) {\r\n      // User is on a stat card and applying additional filters\r\n      console.log('Applying custom filters on top of card filter:', currentStatFilter.value)\r\n      applyCardFilterWithCustomFilters(currentStatFilter.value)\r\n    } else {\r\n      // User is applying custom filters without any stat card\r\n      console.log('Applying custom filters in regular mode')\r\n      applyCustomFiltersOnly()\r\n    }\r\n  } else {\r\n    // No filters applied - return to default team tickets view\r\n    console.log('No filters applied, returning to default view')\r\n    returnToDefaultView()\r\n  }\r\n}\r\n\r\n// Function to apply custom filters without stat card\r\nconst applyCustomFiltersOnly = () => {\r\n  isUsingStatFilter.value = false\r\n  currentStatFilter.value = 'team_tickets'\r\n  \r\n  // Use Promise.all for better performance\r\n  Promise.all([\r\n    reloadIssues({\r\n      filters: JSON.stringify(complexFilters.value),\r\n      order_by: sortOrder.value,\r\n      limit_page_length: itemsPerPage.value,\r\n      limit_start: 0,\r\n    }),\r\n    getIssuesCount(JSON.stringify(complexFilters.value))\r\n  ]).then(() => {\r\n    console.log('Custom filters applied successfully')\r\n  }).catch((error) => {\r\n    console.error('Error applying custom filters:', error)\r\n  })\r\n}\r\n\r\n// Function to return to default view\r\nconst returnToDefaultView = () => {\r\n  isUsingStatFilter.value = true\r\n  currentStatFilter.value = 'team_tickets'\r\n  \r\n  // Use the unified function for consistency\r\n  applyCardFilterWithCustomFilters('team_tickets')\r\n}\r\n\r\n// Handle stat filter changes from IssueStats component\r\nconst handleStatFilterChanged = (statType) => {\r\n  console.log('Card clicked:', statType, 'Current filters:', complexFilters.value)\r\n  \r\n  // Set stat filter mode\r\n  isUsingStatFilter.value = true\r\n  currentStatFilter.value = statType\r\n  \r\n  // Clear search query\r\n  searchQuery.value = \"\"\r\n  \r\n  // Reset to first page\r\n  currentPage.value = 1\r\n  \r\n  // Always apply the card filter with any existing custom filters\r\n  applyCardFilterWithCustomFilters(statType)\r\n}\r\n\r\n// Unified function to apply card filter with custom filters\r\nconst applyCardFilterWithCustomFilters = (statType) => {\r\n  // Build parameters for stat filtering\r\n  const statParams = {\r\n    limit_page_length: itemsPerPage.value,\r\n    limit_start: 0,\r\n    order_by: sortOrder.value,\r\n  }\r\n  \r\n  // Always include custom filters if they exist\r\n  if (complexFilters.value && complexFilters.value.length > 0) {\r\n    statParams.filters = JSON.stringify(complexFilters.value)\r\n    console.log('Applying card filter with custom filters:', statType, complexFilters.value)\r\n  } else {\r\n    console.log('Applying card filter without custom filters:', statType)\r\n  }\r\n  \r\n  // Make both API calls simultaneously for better performance\r\n  Promise.all([\r\n    filterIssuesByStat(statType, statParams),\r\n    complexFilters.value && complexFilters.value.length > 0 \r\n      ? getStatFilterCount(statType, JSON.stringify(complexFilters.value))\r\n      : getStatFilterCount(statType)\r\n  ]).then(() => {\r\n    console.log('Card filter applied successfully')\r\n  }).catch((error) => {\r\n    console.error('Error applying card filter:', error)\r\n  })\r\n}\r\n\r\n// Function to clear stat filter and return to normal view\r\nconst clearStatFilter = () => {\r\n  isUsingStatFilter.value = false\r\n  currentStatFilter.value = 'team_tickets'\r\n  \r\n  // Reset to first page\r\n  currentPage.value = 1\r\n  \r\n  // Reload with normal filters\r\n  reloadIssues({\r\n    filters: nonSearchFilters.value,\r\n    order_by: sortOrder.value,\r\n    limit_page_length: itemsPerPage.value,\r\n    limit_start: 0,\r\n  })\r\n  \r\n  // Reload count\r\n  getIssuesCount(nonSearchFilters.value)\r\n}\r\n\r\n// Memoized filter options to prevent unnecessary re-computations\r\n// These are static or rarely changing, so we can use shallowRef for better performance\r\nconst priorityOptions = shallowRef(markRaw(getPriorityOptions()))\r\nconst tagsOptions = shallowRef(markRaw(getIssueTypeOptions()))\r\nconst statusOptions = shallowRef(markRaw(getStatusOptions()))\r\n\r\n// Memoized assignee options with caching based on issues length\r\nlet assigneeOptionsCache = null\r\nlet lastIssuesLength = 0\r\nconst assigneeOptions = computed(() => {\r\n  const currentLength = allIssues.value.length\r\n  \r\n  // Return cached options if issues length hasn't changed\r\n  if (assigneeOptionsCache && lastIssuesLength === currentLength) {\r\n    return assigneeOptionsCache\r\n  }\r\n  \r\n  // Recalculate and cache\r\n  assigneeOptionsCache = markRaw(getAssigneeOptions(allIssues.value))\r\n  lastIssuesLength = currentLength\r\n  \r\n  return assigneeOptionsCache\r\n})\r\n\r\n// Pagination state\r\nconst currentPage = ref(1)\r\nconst itemsPerPage = ref(10)\r\n\r\n// Optimized pagination handler using unified approach\r\nconst handlePageChange = ({ page, itemsPerPage: newItemsPerPage, offset }) => {\r\n  console.log('Page change:', { page, newItemsPerPage, offset })\r\n  \r\n  currentPage.value = page\r\n  itemsPerPage.value = newItemsPerPage\r\n\r\n  // Build pagination parameters\r\n  const paginationParams = {\r\n    limit_page_length: newItemsPerPage,\r\n    limit_start: offset,\r\n    order_by: sortOrder.value,\r\n  }\r\n\r\n  if (isUsingStatFilter.value) {\r\n    // Use stat-based filtering for pagination\r\n    if (complexFilters.value && complexFilters.value.length > 0) {\r\n      paginationParams.filters = JSON.stringify(complexFilters.value)\r\n    }\r\n    \r\n    // Only need to reload data, count doesn't change during pagination\r\n    filterIssuesByStat(currentStatFilter.value, paginationParams)\r\n      .then(() => {\r\n        console.log('Pagination completed successfully (stat filter)')\r\n      }).catch((error) => {\r\n        console.error('Error during pagination (stat filter):', error)\r\n      })\r\n  } else {\r\n    // Use regular filtering for pagination\r\n    reloadIssues({\r\n      filters: JSON.stringify(complexFilters.value),\r\n      ...paginationParams,\r\n    }).then(() => {\r\n      console.log('Pagination completed successfully (regular filter)')\r\n    }).catch((error) => {\r\n      console.error('Error during pagination (regular filter):', error)\r\n    })\r\n  }\r\n}\r\n\r\n// Create computed property for non-search filters only\r\nconst nonSearchFilters = computed(() => {\r\n  const filterObj = {}\r\n\r\n  // Add status filter\r\n  if (filters.value.status) {\r\n    filterObj[\"status\"] = filters.value.status\r\n  }\r\n\r\n  // Add priority filter\r\n  if (filters.value.priority) {\r\n    filterObj[\"priority\"] = filters.value.priority\r\n  }\r\n\r\n  // Add assignee filter\r\n  if (filters.value.assignee) {\r\n    filterObj[\"raised_by\"] = filters.value.assignee\r\n  }\r\n\r\n  // Add tags filter (issue_type)\r\n  if (filters.value.tags) {\r\n    filterObj[\"issue_type\"] = filters.value.tags\r\n  }\r\n\r\n  return filterObj\r\n})\r\n\r\n// Note: Filter changes are now handled by the IssueFilters component through handleFiltersApplied()\r\n// This provides better performance and more precise control over when filtering occurs\r\n// No more watchers or debouncing needed - filtering happens only on explicit user actions\r\n\r\n// Search query changes no longer trigger table updates since suggestions open in new tabs\r\n\r\nonMounted(() => {\r\n  console.log('IssueTracker mounted, initializing with default view')\r\n  isUsingStatFilter.value = true\r\n  currentStatFilter.value = 'team_tickets'\r\n  \r\n  // Load initial data using unified approach\r\n  applyCardFilterWithCustomFilters('team_tickets')\r\n\r\n  // Listen for list update events from the composable\r\n  window.addEventListener('issueListUpdated', async (event) => {\r\n    const { count, documents } = event.detail\r\n    \r\n    // Show notification\r\n    addNotification({\r\n      type: 'info',\r\n      title: 'List Updated',\r\n      message: `${count} issue${count > 1 ? 's' : ''} updated: ${documents.slice(0, 3).join(', ')}${documents.length > 3 ? '...' : ''}`,\r\n      timestamp: new Date()\r\n    })\r\n    \r\n    // Only refresh stat cards - let the composable handle individual row updates\r\n    console.log(' List updated event received - refreshing only stat cards')\r\n    \r\n    try {\r\n      // Refresh stat cards numbers using the exposed method\r\n      if (issueStatsRef.value && issueStatsRef.value.refreshStats) {\r\n        console.log(' Refreshing stat cards...')\r\n        await issueStatsRef.value.refreshStats()\r\n        console.log(' Stat cards refreshed successfully')\r\n      }\r\n      \r\n      console.log(' Stat cards refreshed after websocket update')\r\n      console.log('  Individual row updates are handled automatically by the composable')\r\n      \r\n    } catch (error) {\r\n      console.error(' Error refreshing stat cards after websocket update:', error)\r\n      // Show error notification\r\n      addNotification({\r\n        type: 'error',\r\n        title: 'Refresh Error',\r\n        message: 'Failed to refresh stat cards. Please refresh manually.',\r\n        timestamp: new Date()\r\n      })\r\n    }\r\n  })\r\n})\r\n\r\nonUnmounted(() => {\r\n  // Clean up event listener\r\n  window.removeEventListener('issueListUpdated', () => { })\r\n})\r\n\r\n</script>"],"names":["ignoredElement","useArrowNavigation","e","currentElement","parentElement","options","arrowKeyOptions","attributeName","itemsArray","loop","dir","preventScroll","focus","right","left","up","down","home","end","goingVertical","goingHorizontal","allCollectionItems","item","findNextFocusableElement","elements","iterations","index","newIndex","adjustedNewIndex","candidate","useDirection","context","injectConfigProviderContext","ref","computed","_a","useFormControl","el","toValue$1","unrefElement","useTypeahead","callback","search","refAutoReset","key","items","currentItem","getActiveElement","itemsWithTextValue","__spreadProps","__spreadValues","_d","_c","_b","currentMatch","values","nextMatch","getNextMatch","newItem","wrapArray","array","startIndex","_","normalizedSearch","char","currentMatchIndex","wrappedValues","v","value","usePrimitiveElement","primitiveElement","ITEM_DATA_ATTR","useCollection","isProvider","injectionKey","itemMap","provide","inject","getItems","includeDisabledItem","collectionNode","orderedNodes","orderedItems","a","b","i","CollectionSlot","defineComponent","slots","watch","h","Slot","CollectionItem","props","attrs","watchEffect","cleanupFn","key$1","markRaw","reactiveItems","itemMapSize","ENTRY_FOCUS","EVENT_OPTIONS","focusFirst","candidates","PREVIOUSLY_FOCUSED_ELEMENT","injectRovingFocusGroupContext","provideRovingFocusGroupContext","createContext","RovingFocusGroup_vue_vue_type_script_setup_true_lang_default","__props","__expose","__emit","emits","orientation","propDir","toRefs","currentTabStopId","useVModel","isTabbingBackOut","isClickFocus","focusableItemsCount","handleFocus","event","isKeyboardFocus","entryFocusEvent","activeItem","highlightedItem","candidateItems","handleMouseUp","tabStopId","_ctx","_cache","openBlock","createBlock","unref","withCtx","createVNode","Primitive","$event","renderSlot","RovingFocusGroup_default","VisuallyHiddenInputBubble_vue_vue_type_script_setup_true_lang_default","valueState","cur","prev","input","inputProto","setValue","inputEvent","changeEvent","VisuallyHidden_default","mergeProps","VisuallyHiddenInputBubble_default","VisuallyHiddenInput_vue_vue_type_script_setup_true_lang_default","isFormArrayEmptyAndRequired","parsedValue","obj","createElementBlock","Fragment","createCommentVNode","renderList","parsed","VisuallyHiddenInput_default","MenuAnchor_vue_vue_type_script_setup_true_lang_default","PopperAnchor_default","normalizeProps","guardReactiveProps","MenuAnchor_default","useIsUsingKeyboardImpl","isUsingKeyboard","onMounted","useEventListener","useIsUsingKeyboard","createSharedComposable","injectMenuContext","provideMenuContext","injectMenuRootContext","provideMenuRootContext","MenuRoot_vue_vue_type_script_setup_true_lang_default","modal","open","content","isUsingKeyboardRef","element","PopperRoot_default","MenuRoot_default","injectMenuContentContext","provideMenuContentContext","MenuContentImpl_vue_vue_type_script_setup_true_lang_default","mergeDefaults","PopperContentPropsDefaultValue","menuContext","rootContext","trapFocus","disableOutsidePointerEvents","useFocusGuards","useBodyScrollLock","searchRef","timerRef","pointerGraceTimerRef","pointerGraceIntentRef","pointerDirRef","lastPointerXRef","currentItemId","rovingFocusGroupRef","forwardRef","contentElement","useForwardExpose","handleTypeaheadSearch","onUnmounted","isPointerMovingToSubmenu","isPointerInGraceArea","handleMountAutoFocus","__async","handleKeyDown","isKeyDownInside","isModifierKey","isCharacterKey","collectionItems","FIRST_LAST_KEYS","candidateNodes","LAST_KEYS","handleBlur","handlePointerMove","isMouseEvent","target","pointerXHasChanged","newDir","intent","FocusScope_default","DismissableLayer_default","PopperContent_default","getOpenState","MenuContentImpl_default","MenuItemImpl_vue_vue_type_script_setup_true_lang_default","contentContext","isFocused","handlePointerLeave","nextTick","MenuItemImpl_default","MenuItem_vue_vue_type_script_setup_true_lang_default","isPointerDownRef","handleSelect","menuItem","itemSelectEvent","ITEM_SELECT","isTypingAhead","SELECTION_KEYS","MenuItem_default","MenuRootContentModal_vue_vue_type_script_setup_true_lang_default","forwarded","useForwardPropsEmits","useHideOthers","withModifiers","MenuRootContentModal_default","MenuRootContentNonModal_vue_vue_type_script_setup_true_lang_default","MenuRootContentNonModal_default","MenuContent_vue_vue_type_script_setup_true_lang_default","Presence_default","MenuContent_default","MenuLabel_vue_vue_type_script_setup_true_lang_default","MenuLabel_default","MenuPortal_vue_vue_type_script_setup_true_lang_default","Teleport_default","MenuPortal_default","injectMenuSubContext","provideMenuSubContext","MenuSub_vue_vue_type_script_setup_true_lang_default","parentMenuContext","trigger","MenuSub_default","MenuSubContent_vue_vue_type_script_setup_true_lang_default","menuSubContext","subContentElement","useId","isCloseKey","SUB_CLOSE_KEYS","MenuSubContent_default","MenuSubTrigger_vue_vue_type_script_setup_true_lang_default","subContext","openTimerRef","clearOpenTimer","contentRect","side","rightSide","bleed","contentNearEdge","contentFarEdge","SUB_OPEN_KEYS","vnode","MenuSubTrigger_default","injectDropdownMenuRootContext","provideDropdownMenuRootContext","DropdownMenuRoot_vue_vue_type_script_setup_true_lang_default","emit","triggerElement","isRef","DropdownMenuRoot_default","DropdownMenuContent_vue_vue_type_script_setup_true_lang_default","hasInteractedOutsideRef","handleCloseAutoFocus","originalEvent","ctrlLeftClick","isRightClick","DropdownMenuContent_default","DropdownMenuItem_vue_vue_type_script_setup_true_lang_default","emitsAsProps","useEmitAsProps","DropdownMenuItem_default","DropdownMenuLabel_vue_vue_type_script_setup_true_lang_default","DropdownMenuLabel_default","DropdownMenuPortal_vue_vue_type_script_setup_true_lang_default","DropdownMenuPortal_default","DropdownMenuSub_vue_vue_type_script_setup_true_lang_default","DropdownMenuSub_default","DropdownMenuSubContent_vue_vue_type_script_setup_true_lang_default","DropdownMenuSubContent_default","DropdownMenuSubTrigger_vue_vue_type_script_setup_true_lang_default","DropdownMenuSubTrigger_default","DropdownMenuTrigger_vue_vue_type_script_setup_true_lang_default","withKeys","DropdownMenuTrigger_default","injectSwitchRootContext","provideSwitchRootContext","SwitchRoot_vue_vue_type_script_setup_true_lang_default","disabled","modelValue","toggleCheck","isFormControl","ariaLabel","SwitchRoot_default","SwitchThumb_vue_vue_type_script_setup_true_lang_default","SwitchThumb_default","imgFetchError","shapeClasses","sizeClasses","labelClasses","indicatorContainerClasses","indicatorClasses","iconClasses","handleImageError","err","_createElementBlock","_normalizeClass","$slots","_renderSlot","_Fragment","_createTextVNode","_toDisplayString","_createElementVNode","model","_useModel","val","id","switchClasses","switchCircleClasses","switchLabelClasses","switchGroupClasses","classes","_hoisted_1","_hoisted_2","_createBlock","FeatherIcon","_resolveDynamicComponent","_unref","_hoisted_3","_openBlock","_hoisted_4","_createVNode","SwitchRoot","_withKeys","_withModifiers","SwitchThumb","toggleState","router","useRouter","useAttrs","close","handleItemClick","normalizeDropdownItem","option","getIconColor","getTextColor","getBackgroundColor","getSubmenuBackgroundColor","processOptionsIntoGroups","groups","currentGroup","groupOption","filterOptions","getSubmenuGroups","submenuOptions","groupHasIcons","group","cssClasses","align","DropdownMenuRoot","_withCtx","DropdownMenuTrigger","_normalizeProps","_mergeProps","DropdownMenuPortal","DropdownMenuContent","_renderList","DropdownMenuLabel","Switch","DropdownMenuItem","DropdownMenuSub","DropdownMenuSubTrigger","DropdownMenuSubContent","submenuGroup","subItem","list","Button","getGridTemplateColumns","columns","withCheckbox","checkBoxWidth","columnsWidth","col","width","alignmentMap","resizer","columnRef","widthInPx","parsedWidth","startResizing","initialX","initialWidth","onMouseMove","newWidth","updateWidth","onMouseUp","useDebounceFn","$attrs","_normalizeStyle","Checkbox","column","ListHeaderItem","label","getValue","tooltip","Tooltip","_guardReactiveProps","isLastRow","isSelected","isActive","isHoverable","rowHeight","roundedClass","selections","k","rows","currentIndex","atBottom","atTop","onRowClick","row","ListRowItem","ListRow","toggleGroup","DownSolid","ListGroupHeader","ListGroupRows","selectedText","_Transition","_hoisted_5","useSlots","reactive","activeRow","_options","defaultTrue","defaultFalse","allRowsSelected","showGroupedRows","acc","selectable","toggleRow","toggleAllRows","select","r","ListHeader","ListGroups","ListRows","ListEmptyState","ListSelectBanner","issuesResource","createResource","params","safeParams","limit_page_length","limit_start","filters","order_by","error","issuesCountResource","reloadIssues","reloadParams","getIssuesCount","singleIssueResource","issueName","fetchSingleIssue","issuePriorityResource","issueTypeResource","priorityOptionsCache","priorityDataHash","issueTypeOptionsCache","issueTypeDataHash","getPriorityOptions","currentData","currentHash","p","getIssueTypeOptions","t","statusOptionsCache","getStatusOptions","tagColorsResource","tagColorCache","tagColorsDataHash","getTagColor","tagName","color","issueSearchResource","searchIssues","searchQuery","limit","statFilterResource","result","statFilterCountResource","filterIssuesByStat","statType","filterParams","getStatFilterCount","searchInput","showSuggestions","selectedSuggestionIndex","isLoading","searchTime","suggestionsContainer","suggestionRefs","searchTimeout","newValue","searchSuggestions","fetchSearchSuggestions","query","startTime","results","debouncedSearch","handleSearch","highlightMatch","text","escapedQuery","regex","getStatusBadgeClass","status","blurTimeout","handleKeydown","scrollToSelectedSuggestion","selectSuggestion","hideSuggestions","suggestion","issueUrl","clearSearch","container","selectedElement","containerRect","elementRect","elementTop","elementBottom","containerScrollTop","containerHeight","formatCreationDate","dateString","date","now","diffTime","diffDays","handleGlobalKeydown","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","showFilterPanel","pendingFilters","appliedFilters","filterIdCounter","isApplyingFilters","availableFields","fieldOptions","operatorsByType","hasPendingChanges","getFieldType","fieldValue","field","f","getFieldLabel","getFieldPlaceholder","getOperatorsForField","fieldType","getFieldOptions","getDisplayValue","filter","getSelectedValues","removeSelectedValue","getTags","removeTag","tags","getDisplayValueForUser","addUserToMultiSelect","currentValues","handleLinkKeyNavigation","direction","maxIndex","scrollSelectedLinkIntoView","handleLinkEnter","clearLinkSuggestions","tagSearchTimeouts","handleTagSearch","searchValue","previousSelectedIndex","response","data","addTagFromSuggestion","tagSuggestion","currentTags","handleTagKeyNavigation","scrollSelectedTagIntoView","handleTagEnter","clearTagSuggestions","getTagStyle","tag","categoryColor","hexColor","hex","g","searchTimeouts","handleLinkSearch","searchResults","endpoint","getOperatorDropdownOptions","op","getOperatorLabel","operatorValue","getDisplayValueForOption","opt","updateDateRange","addFilter","defaultOperator","newFilter","removeFilter","removeAppliedFilter","emitFilters","applyFilters","clearAllFilters","filterData","handleSearchChange","handleSuggestionSelected","savedFilters","newFilters","CustomSearchBox","_hoisted_12","_hoisted_18","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","Dropdown","_hoisted_31","_hoisted_32","_vModelText","_hoisted_35","_hoisted_36","_hoisted_39","_hoisted_41","_hoisted_42","_hoisted_45","_hoisted_47","_hoisted_52","_hoisted_53","selectedValue","idx","_hoisted_48","_hoisted_50","_hoisted_51","_vModelSelect","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_59","_hoisted_61","_hoisted_62","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_69","_hoisted_71","_hoisted_72","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_79","_hoisted_81","localItemsPerPage","totalPages","startItem","endItem","visiblePages","pages","maxVisible","current","total","start","showFirstPage","showLastPage","showFirstEllipsis","showLastEllipsis","itemsPerPageOptions","goToPage","page","goToPreviousPage","goToNextPage","handleItemsPerPageChange","newItemsPerPage","currentFirstItem","newPage","Select","CACHE_DURATION","stats","shallowRef","teamTickets","openTickets","assignedToMe","actionableTickets","responseTickets","statsCache","lastFetchTime","fetchStats","call","refreshTimeout","debouncedStatsRefresh","handleStatClick","filterType","StatusBadge","Badge","PriorityBadge","priority","_sfc_main","ListView","Avatar","showPopup","popupUser","popupPosition","showTagsPopup","tagsPopupPosition","tagsPopupData","showIssueDetailsPopup","issueDetailsPopupPosition","issueDetailsPopupData","getInitials","name","emailPart","part","n","formatIssueId","issueId","match","stripHtml","html","tmp","formatDate","formatTime","getStatusBadgeColor","getPriorityBadgeColor","transformationCache","transformedIssues","issue","cacheKey","cached","transformed","listOptions","handleIssueClick","handleSelections","getIssueUrl","getStatusColor","statusValue","getPriorityColor","priorityValue","getPriorityBadgeClass","getPriorityIndicatorClass","showUserPopup","user","rect","hideUserPopup","showTagsPopupFn","hideTagsPopupFn","showIssueDetailsPopupFn","hideIssueDetailsPopup","handleColumnSort","newDirection","getSortIcon","getSortIconClass","getSortButtonClass","tagStyleCache","style","bgColor","textColor","_hoisted_33","$props","_component_ListView","$setup","_component_ListHeader","_component_ListHeaderItem","_component_FeatherIcon","_component_ListRows","_component_ListRow","_component_ListRowItem","_component_Avatar","args","_component_Tooltip","u","_component_ListSelectBanner","unselectAll","_component_Button","notificationClasses","type","baseClasses","typeClasses","getNotificationIcon","icons","colors","timestamp","diff","minutes","hours","_TransitionGroup","notification","$emit","debounce","func","wait","timeout","later","useIssueFilters","debouncedSearchQuery","updateDebouncedSearch","newQuery","apiFilters","filterObj","sortOrder","filterCache","filterIssues","issues","filteredIssues","subject","description","priorityOrder","aValue","bValue","comparison","firstKey","assigneeOptionsCache","lastAssigneeIssuesHash","getAssigneeOptions","assigneesHash","assignee","uniqueAssignees","resetFilters","hasActiveFilters","useIssueListUpdates","getCurrentParams","customRefreshFunction","getCurrentResourceState","socket","useSocket","pendingDocumentRefreshes","realtimeEventsSetup","isLargeTable","debounceTimer","debounceDelay","debouncedRefresh","processDocumentRefreshes","setupRealtimeUpdates","avoidRealtimeUpdate","eventName","listUpdateData","disableRealtimeUpdates","currentRoute","uniqueDocuments","d","refreshCount","updateIndividualRows","fallbackError","documentNames","activeResource","getCurrentActiveResource","currentParams","paramError","visibleIssueNames","updatedVisibleIssues","updateVisibleIssuesInPlace","resourceState","hasStatData","hasIssuesData","statLastLoaded","issuesLastLoaded","validUpdatedIssues","updatedIssue","currentIssues","wasPageHidden","handleVisibilityChange","manualRefresh","handleConnect","handleDisconnect","handleConnectError","isUsingStatFilter","currentStatFilter","issueStatsRef","refreshCurrentView","complexFilters","itemsPerPage","currentPage","nonSearchFilters","notifications","showComposeEmailDialog","addNotification","removeNotification","handleEmailSent","emailData","titleMap","allIssues","totalIssues","currentSortField","currentSortDirection","handleSort","newSortOrder","handleFiltersApplied","filterArray","applyCardFilterWithCustomFilters","applyCustomFiltersOnly","returnToDefaultView","handleStatFilterChanged","statParams","priorityOptions","tagsOptions","statusOptions","lastIssuesLength","assigneeOptions","currentLength","handlePageChange","offset","paginationParams","count","documents","_component_router_link","session","IssueStats","IssueFilters","IssueTable","IssuePagination","RealTimeNotifications","ComposeEmailDialog"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]}